function Sm(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Im={exports:{}},jc={},bm={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra=Symbol.for("react.element"),t3=Symbol.for("react.portal"),n3=Symbol.for("react.fragment"),r3=Symbol.for("react.strict_mode"),i3=Symbol.for("react.profiler"),s3=Symbol.for("react.provider"),o3=Symbol.for("react.context"),a3=Symbol.for("react.forward_ref"),l3=Symbol.for("react.suspense"),c3=Symbol.for("react.memo"),u3=Symbol.for("react.lazy"),h1=Symbol.iterator;function f3(e){return e===null||typeof e!="object"?null:(e=h1&&e[h1]||e["@@iterator"],typeof e=="function"?e:null)}var Nm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_m=Object.assign,Rm={};function co(e,t,n){this.props=e,this.context=t,this.refs=Rm,this.updater=n||Nm}co.prototype.isReactComponent={};co.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};co.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Om(){}Om.prototype=co.prototype;function od(e,t,n){this.props=e,this.context=t,this.refs=Rm,this.updater=n||Nm}var ad=od.prototype=new Om;ad.constructor=od;_m(ad,co.prototype);ad.isPureReactComponent=!0;var d1=Array.isArray,Mm=Object.prototype.hasOwnProperty,ld={current:null},Dm={key:!0,ref:!0,__self:!0,__source:!0};function km(e,t,n){var i,a={},l=null,h=null;if(t!=null)for(i in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(l=""+t.key),t)Mm.call(t,i)&&!Dm.hasOwnProperty(i)&&(a[i]=t[i]);var p=arguments.length-2;if(p===1)a.children=n;else if(1<p){for(var m=Array(p),g=0;g<p;g++)m[g]=arguments[g+2];a.children=m}if(e&&e.defaultProps)for(i in p=e.defaultProps,p)a[i]===void 0&&(a[i]=p[i]);return{$$typeof:Ra,type:e,key:l,ref:h,props:a,_owner:ld.current}}function h3(e,t){return{$$typeof:Ra,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ra}function d3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var p1=/\/+/g;function Hu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d3(""+e.key):t.toString(36)}function _l(e,t,n,i,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(l){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case Ra:case t3:h=!0}}if(h)return h=e,a=a(h),e=i===""?"."+Hu(h,0):i,d1(a)?(n="",e!=null&&(n=e.replace(p1,"$&/")+"/"),_l(a,t,n,"",function(g){return g})):a!=null&&(cd(a)&&(a=h3(a,n+(!a.key||h&&h.key===a.key?"":(""+a.key).replace(p1,"$&/")+"/")+e)),t.push(a)),1;if(h=0,i=i===""?".":i+":",d1(e))for(var p=0;p<e.length;p++){l=e[p];var m=i+Hu(l,p);h+=_l(l,t,n,m,a)}else if(m=f3(e),typeof m=="function")for(e=m.call(e),p=0;!(l=e.next()).done;)l=l.value,m=i+Hu(l,p++),h+=_l(l,t,n,m,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function nl(e,t,n){if(e==null)return e;var i=[],a=0;return _l(e,i,"","",function(l){return t.call(n,l,a++)}),i}function p3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sn={current:null},Rl={transition:null},g3={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Rl,ReactCurrentOwner:ld};function Lm(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:nl,forEach:function(e,t,n){nl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return nl(e,function(){t++}),t},toArray:function(e){return nl(e,function(t){return t})||[]},only:function(e){if(!cd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=co;Ne.Fragment=n3;Ne.Profiler=i3;Ne.PureComponent=od;Ne.StrictMode=r3;Ne.Suspense=l3;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g3;Ne.act=Lm;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=_m({},e.props),a=e.key,l=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,h=ld.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var p=e.type.defaultProps;for(m in t)Mm.call(t,m)&&!Dm.hasOwnProperty(m)&&(i[m]=t[m]===void 0&&p!==void 0?p[m]:t[m])}var m=arguments.length-2;if(m===1)i.children=n;else if(1<m){p=Array(m);for(var g=0;g<m;g++)p[g]=arguments[g+2];i.children=p}return{$$typeof:Ra,type:e.type,key:a,ref:l,props:i,_owner:h}};Ne.createContext=function(e){return e={$$typeof:o3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s3,_context:e},e.Consumer=e};Ne.createElement=km;Ne.createFactory=function(e){var t=km.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:a3,render:e}};Ne.isValidElement=cd;Ne.lazy=function(e){return{$$typeof:u3,_payload:{_status:-1,_result:e},_init:p3}};Ne.memo=function(e,t){return{$$typeof:c3,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=Rl.transition;Rl.transition={};try{e()}finally{Rl.transition=t}};Ne.unstable_act=Lm;Ne.useCallback=function(e,t){return sn.current.useCallback(e,t)};Ne.useContext=function(e){return sn.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return sn.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return sn.current.useEffect(e,t)};Ne.useId=function(){return sn.current.useId()};Ne.useImperativeHandle=function(e,t,n){return sn.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return sn.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return sn.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return sn.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return sn.current.useReducer(e,t,n)};Ne.useRef=function(e){return sn.current.useRef(e)};Ne.useState=function(e){return sn.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return sn.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return sn.current.useTransition()};Ne.version="18.3.1";bm.exports=Ne;var B=bm.exports;const Uc=Tm(B),m3=Sm({__proto__:null,default:Uc},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3=B,y3=Symbol.for("react.element"),w3=Symbol.for("react.fragment"),C3=Object.prototype.hasOwnProperty,E3=x3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v3={key:!0,ref:!0,__self:!0,__source:!0};function Pm(e,t,n){var i,a={},l=null,h=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(h=t.ref);for(i in t)C3.call(t,i)&&!v3.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:y3,type:e,key:l,ref:h,props:a,_owner:E3.current}}jc.Fragment=w3;jc.jsx=Pm;jc.jsxs=Pm;Im.exports=jc;var T=Im.exports,Ff={},Bm={exports:{}},Rn={},Fm={exports:{}},jm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,ue){var me=ne.length;ne.push(ue);e:for(;0<me;){var he=me-1>>>1,ve=ne[he];if(0<a(ve,ue))ne[he]=ue,ne[me]=ve,me=he;else break e}}function n(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var ue=ne[0],me=ne.pop();if(me!==ue){ne[0]=me;e:for(var he=0,ve=ne.length,It=ve>>>1;he<It;){var Pe=2*(he+1)-1,wn=ne[Pe],le=Pe+1,Qn=ne[le];if(0>a(wn,me))le<ve&&0>a(Qn,wn)?(ne[he]=Qn,ne[le]=me,he=le):(ne[he]=wn,ne[Pe]=me,he=Pe);else if(le<ve&&0>a(Qn,me))ne[he]=Qn,ne[le]=me,he=le;else break e}}return ue}function a(ne,ue){var me=ne.sortIndex-ue.sortIndex;return me!==0?me:ne.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var h=Date,p=h.now();e.unstable_now=function(){return h.now()-p}}var m=[],g=[],w=1,C=null,S=3,_=!1,R=!1,O=!1,L=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(ne){for(var ue=n(g);ue!==null;){if(ue.callback===null)i(g);else if(ue.startTime<=ne)i(g),ue.sortIndex=ue.expirationTime,t(m,ue);else break;ue=n(g)}}function F(ne){if(O=!1,b(ne),!R)if(n(m)!==null)R=!0,xe(Q);else{var ue=n(g);ue!==null&&de(F,ue.startTime-ne)}}function Q(ne,ue){R=!1,O&&(O=!1,M(K),K=-1),_=!0;var me=S;try{for(b(ue),C=n(m);C!==null&&(!(C.expirationTime>ue)||ne&&!_e());){var he=C.callback;if(typeof he=="function"){C.callback=null,S=C.priorityLevel;var ve=he(C.expirationTime<=ue);ue=e.unstable_now(),typeof ve=="function"?C.callback=ve:C===n(m)&&i(m),b(ue)}else i(m);C=n(m)}if(C!==null)var It=!0;else{var Pe=n(g);Pe!==null&&de(F,Pe.startTime-ue),It=!1}return It}finally{C=null,S=me,_=!1}}var Z=!1,U=null,K=-1,X=5,fe=-1;function _e(){return!(e.unstable_now()-fe<X)}function ie(){if(U!==null){var ne=e.unstable_now();fe=ne;var ue=!0;try{ue=U(!0,ne)}finally{ue?we():(Z=!1,U=null)}}else Z=!1}var we;if(typeof N=="function")we=function(){N(ie)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Y=Ae.port2;Ae.port1.onmessage=ie,we=function(){Y.postMessage(null)}}else we=function(){L(ie,0)};function xe(ne){U=ne,Z||(Z=!0,we())}function de(ne,ue){K=L(function(){ne(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){R||_||(R=!0,xe(Q))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(ne){switch(S){case 1:case 2:case 3:var ue=3;break;default:ue=S}var me=S;S=ue;try{return ne()}finally{S=me}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,ue){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var me=S;S=ne;try{return ue()}finally{S=me}},e.unstable_scheduleCallback=function(ne,ue,me){var he=e.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?he+me:he):me=he,ne){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=me+ve,ne={id:w++,callback:ue,priorityLevel:ne,startTime:me,expirationTime:ve,sortIndex:-1},me>he?(ne.sortIndex=me,t(g,ne),n(m)===null&&ne===n(g)&&(O?(M(K),K=-1):O=!0,de(F,me-he))):(ne.sortIndex=ve,t(m,ne),R||_||(R=!0,xe(Q))),ne},e.unstable_shouldYield=_e,e.unstable_wrapCallback=function(ne){var ue=S;return function(){var me=S;S=ue;try{return ne.apply(this,arguments)}finally{S=me}}}})(jm);Fm.exports=jm;var A3=Fm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3=B,Nn=A3;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Um=new Set,la={};function gs(e,t){Js(e,t),Js(e+"Capture",t)}function Js(e,t){for(la[e]=t,e=0;e<t.length;e++)Um.add(t[e])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jf=Object.prototype.hasOwnProperty,T3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g1={},m1={};function I3(e){return jf.call(m1,e)?!0:jf.call(g1,e)?!1:T3.test(e)?m1[e]=!0:(g1[e]=!0,!1)}function b3(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N3(e,t,n,i){if(t===null||typeof t>"u"||b3(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function on(e,t,n,i,a,l,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=h}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Wt[e]=new on(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Wt[t]=new on(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Wt[e]=new on(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Wt[e]=new on(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Wt[e]=new on(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Wt[e]=new on(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Wt[e]=new on(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Wt[e]=new on(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Wt[e]=new on(e,5,!1,e.toLowerCase(),null,!1,!1)});var ud=/[\-:]([a-z])/g;function fd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ud,fd);Wt[t]=new on(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ud,fd);Wt[t]=new on(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ud,fd);Wt[t]=new on(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Wt[e]=new on(e,1,!1,e.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Wt[e]=new on(e,1,!1,e.toLowerCase(),null,!0,!0)});function hd(e,t,n,i){var a=Wt.hasOwnProperty(t)?Wt[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N3(t,n,a,i)&&(n=null),i||a===null?I3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,i=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var qr=S3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rl=Symbol.for("react.element"),Rs=Symbol.for("react.portal"),Os=Symbol.for("react.fragment"),dd=Symbol.for("react.strict_mode"),Uf=Symbol.for("react.profiler"),Vm=Symbol.for("react.provider"),zm=Symbol.for("react.context"),pd=Symbol.for("react.forward_ref"),Vf=Symbol.for("react.suspense"),zf=Symbol.for("react.suspense_list"),gd=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),Hm=Symbol.for("react.offscreen"),x1=Symbol.iterator;function Oo(e){return e===null||typeof e!="object"?null:(e=x1&&e[x1]||e["@@iterator"],typeof e=="function"?e:null)}var lt=Object.assign,Wu;function Ho(e){if(Wu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wu=t&&t[1]||""}return`
`+Wu+e}var Gu=!1;function Xu(e,t){if(!e||Gu)return"";Gu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var i=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){i=g}e.call(t.prototype)}else{try{throw Error()}catch(g){i=g}e()}}catch(g){if(g&&i&&typeof g.stack=="string"){for(var a=g.stack.split(`
`),l=i.stack.split(`
`),h=a.length-1,p=l.length-1;1<=h&&0<=p&&a[h]!==l[p];)p--;for(;1<=h&&0<=p;h--,p--)if(a[h]!==l[p]){if(h!==1||p!==1)do if(h--,p--,0>p||a[h]!==l[p]){var m=`
`+a[h].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=h&&0<=p);break}}}finally{Gu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ho(e):""}function _3(e){switch(e.tag){case 5:return Ho(e.type);case 16:return Ho("Lazy");case 13:return Ho("Suspense");case 19:return Ho("SuspenseList");case 0:case 2:case 15:return e=Xu(e.type,!1),e;case 11:return e=Xu(e.type.render,!1),e;case 1:return e=Xu(e.type,!0),e;default:return""}}function Hf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Os:return"Fragment";case Rs:return"Portal";case Uf:return"Profiler";case dd:return"StrictMode";case Vf:return"Suspense";case zf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case zm:return(e.displayName||"Context")+".Consumer";case Vm:return(e._context.displayName||"Context")+".Provider";case pd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gd:return t=e.displayName||null,t!==null?t:Hf(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return Hf(e(t))}catch{}}return null}function R3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hf(t);case 8:return t===dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _i(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function O3(e){var t=Wm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(h){i=""+h,l.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function il(e){e._valueTracker||(e._valueTracker=O3(e))}function Gm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Wm(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function $l(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wf(e,t){var n=t.checked;return lt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function y1(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=_i(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xm(e,t){t=t.checked,t!=null&&hd(e,"checked",t,!1)}function Gf(e,t){Xm(e,t);var n=_i(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xf(e,t.type,_i(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function w1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xf(e,t,n){(t!=="number"||$l(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wo=Array.isArray;function Ys(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+_i(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Yf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return lt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function C1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(Wo(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:_i(n)}}function Ym(e,t){var n=_i(t.value),i=_i(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function E1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Qm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Qm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sl,Km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(sl=sl||document.createElement("div"),sl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=sl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M3=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(e){M3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ko[t]=Ko[e]})});function Zm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ko.hasOwnProperty(e)&&Ko[e]?(""+t).trim():t+"px"}function qm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=Zm(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,a):e[n]=a}}var D3=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kf(e,t){if(t){if(D3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function Zf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=null;function md(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $f=null,Qs=null,Ks=null;function v1(e){if(e=Da(e)){if(typeof $f!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Gc(t),$f(e.stateNode,e.type,t))}}function $m(e){Qs?Ks?Ks.push(e):Ks=[e]:Qs=e}function Jm(){if(Qs){var e=Qs,t=Ks;if(Ks=Qs=null,v1(e),t)for(e=0;e<t.length;e++)v1(t[e])}}function e2(e,t){return e(t)}function t2(){}var Yu=!1;function n2(e,t,n){if(Yu)return e(t,n);Yu=!0;try{return e2(e,t,n)}finally{Yu=!1,(Qs!==null||Ks!==null)&&(t2(),Jm())}}function ua(e,t){var n=e.stateNode;if(n===null)return null;var i=Gc(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var Jf=!1;if(Xr)try{var Mo={};Object.defineProperty(Mo,"passive",{get:function(){Jf=!0}}),window.addEventListener("test",Mo,Mo),window.removeEventListener("test",Mo,Mo)}catch{Jf=!1}function k3(e,t,n,i,a,l,h,p,m){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(w){this.onError(w)}}var Zo=!1,Jl=null,ec=!1,eh=null,L3={onError:function(e){Zo=!0,Jl=e}};function P3(e,t,n,i,a,l,h,p,m){Zo=!1,Jl=null,k3.apply(L3,arguments)}function B3(e,t,n,i,a,l,h,p,m){if(P3.apply(this,arguments),Zo){if(Zo){var g=Jl;Zo=!1,Jl=null}else throw Error(J(198));ec||(ec=!0,eh=g)}}function ms(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function r2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function A1(e){if(ms(e)!==e)throw Error(J(188))}function F3(e){var t=e.alternate;if(!t){if(t=ms(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return A1(a),e;if(l===i)return A1(a),t;l=l.sibling}throw Error(J(188))}if(n.return!==i.return)n=a,i=l;else{for(var h=!1,p=a.child;p;){if(p===n){h=!0,n=a,i=l;break}if(p===i){h=!0,i=a,n=l;break}p=p.sibling}if(!h){for(p=l.child;p;){if(p===n){h=!0,n=l,i=a;break}if(p===i){h=!0,i=l,n=a;break}p=p.sibling}if(!h)throw Error(J(189))}}if(n.alternate!==i)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function i2(e){return e=F3(e),e!==null?s2(e):null}function s2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=s2(e);if(t!==null)return t;e=e.sibling}return null}var o2=Nn.unstable_scheduleCallback,S1=Nn.unstable_cancelCallback,j3=Nn.unstable_shouldYield,U3=Nn.unstable_requestPaint,xt=Nn.unstable_now,V3=Nn.unstable_getCurrentPriorityLevel,xd=Nn.unstable_ImmediatePriority,a2=Nn.unstable_UserBlockingPriority,tc=Nn.unstable_NormalPriority,z3=Nn.unstable_LowPriority,l2=Nn.unstable_IdlePriority,Vc=null,Tr=null;function H3(e){if(Tr&&typeof Tr.onCommitFiberRoot=="function")try{Tr.onCommitFiberRoot(Vc,e,void 0,(e.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:X3,W3=Math.log,G3=Math.LN2;function X3(e){return e>>>=0,e===0?32:31-(W3(e)/G3|0)|0}var ol=64,al=4194304;function Go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nc(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,a=e.suspendedLanes,l=e.pingedLanes,h=n&268435455;if(h!==0){var p=h&~a;p!==0?i=Go(p):(l&=h,l!==0&&(i=Go(l)))}else h=n&~a,h!==0?i=Go(h):l!==0&&(i=Go(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&a)&&(a=i&-i,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-sr(t),a=1<<n,i|=e[n],t&=~a;return i}function Y3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q3(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var h=31-sr(l),p=1<<h,m=a[h];m===-1?(!(p&n)||p&i)&&(a[h]=Y3(p,t)):m<=t&&(e.expiredLanes|=p),l&=~p}}function th(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function c2(){var e=ol;return ol<<=1,!(ol&4194240)&&(ol=64),e}function Qu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-sr(t),e[t]=n}function K3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-sr(n),l=1<<a;t[a]=0,i[a]=-1,e[a]=-1,n&=~l}}function yd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-sr(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}var ze=0;function u2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var f2,wd,h2,d2,p2,nh=!1,ll=[],xi=null,yi=null,wi=null,fa=new Map,ha=new Map,hi=[],Z3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T1(e,t){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":fa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ha.delete(t.pointerId)}}function Do(e,t,n,i,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Da(t),t!==null&&wd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function q3(e,t,n,i,a){switch(t){case"focusin":return xi=Do(xi,e,t,n,i,a),!0;case"dragenter":return yi=Do(yi,e,t,n,i,a),!0;case"mouseover":return wi=Do(wi,e,t,n,i,a),!0;case"pointerover":var l=a.pointerId;return fa.set(l,Do(fa.get(l)||null,e,t,n,i,a)),!0;case"gotpointercapture":return l=a.pointerId,ha.set(l,Do(ha.get(l)||null,e,t,n,i,a)),!0}return!1}function g2(e){var t=ns(e.target);if(t!==null){var n=ms(t);if(n!==null){if(t=n.tag,t===13){if(t=r2(n),t!==null){e.blockedOn=t,p2(e.priority,function(){h2(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);qf=i,n.target.dispatchEvent(i),qf=null}else return t=Da(n),t!==null&&wd(t),e.blockedOn=n,!1;t.shift()}return!0}function I1(e,t,n){Ol(e)&&n.delete(t)}function $3(){nh=!1,xi!==null&&Ol(xi)&&(xi=null),yi!==null&&Ol(yi)&&(yi=null),wi!==null&&Ol(wi)&&(wi=null),fa.forEach(I1),ha.forEach(I1)}function ko(e,t){e.blockedOn===t&&(e.blockedOn=null,nh||(nh=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,$3)))}function da(e){function t(a){return ko(a,e)}if(0<ll.length){ko(ll[0],e);for(var n=1;n<ll.length;n++){var i=ll[n];i.blockedOn===e&&(i.blockedOn=null)}}for(xi!==null&&ko(xi,e),yi!==null&&ko(yi,e),wi!==null&&ko(wi,e),fa.forEach(t),ha.forEach(t),n=0;n<hi.length;n++)i=hi[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)g2(n),n.blockedOn===null&&hi.shift()}var Zs=qr.ReactCurrentBatchConfig,rc=!0;function J3(e,t,n,i){var a=ze,l=Zs.transition;Zs.transition=null;try{ze=1,Cd(e,t,n,i)}finally{ze=a,Zs.transition=l}}function eE(e,t,n,i){var a=ze,l=Zs.transition;Zs.transition=null;try{ze=4,Cd(e,t,n,i)}finally{ze=a,Zs.transition=l}}function Cd(e,t,n,i){if(rc){var a=rh(e,t,n,i);if(a===null)sf(e,t,i,ic,n),T1(e,i);else if(q3(a,e,t,n,i))i.stopPropagation();else if(T1(e,i),t&4&&-1<Z3.indexOf(e)){for(;a!==null;){var l=Da(a);if(l!==null&&f2(l),l=rh(e,t,n,i),l===null&&sf(e,t,i,ic,n),l===a)break;a=l}a!==null&&i.stopPropagation()}else sf(e,t,i,null,n)}}var ic=null;function rh(e,t,n,i){if(ic=null,e=md(i),e=ns(e),e!==null)if(t=ms(e),t===null)e=null;else if(n=t.tag,n===13){if(e=r2(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ic=e,null}function m2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V3()){case xd:return 1;case a2:return 4;case tc:case z3:return 16;case l2:return 536870912;default:return 16}default:return 16}}var pi=null,Ed=null,Ml=null;function x2(){if(Ml)return Ml;var e,t=Ed,n=t.length,i,a="value"in pi?pi.value:pi.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var h=n-e;for(i=1;i<=h&&t[n-i]===a[l-i];i++);return Ml=a.slice(e,1<i?1-i:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cl(){return!0}function b1(){return!1}function On(e){function t(n,i,a,l,h){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=l,this.target=h,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(n=e[p],this[p]=n?n(l):l[p]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?cl:b1,this.isPropagationStopped=b1,this}return lt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cl)},persist:function(){},isPersistent:cl}),t}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vd=On(uo),Ma=lt({},uo,{view:0,detail:0}),tE=On(Ma),Ku,Zu,Lo,zc=lt({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Lo&&(Lo&&e.type==="mousemove"?(Ku=e.screenX-Lo.screenX,Zu=e.screenY-Lo.screenY):Zu=Ku=0,Lo=e),Ku)},movementY:function(e){return"movementY"in e?e.movementY:Zu}}),N1=On(zc),nE=lt({},zc,{dataTransfer:0}),rE=On(nE),iE=lt({},Ma,{relatedTarget:0}),qu=On(iE),sE=lt({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),oE=On(sE),aE=lt({},uo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lE=On(aE),cE=lt({},uo,{data:0}),_1=On(cE),uE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hE[e])?!!t[e]:!1}function Ad(){return dE}var pE=lt({},Ma,{key:function(e){if(e.key){var t=uE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ad,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gE=On(pE),mE=lt({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R1=On(mE),xE=lt({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ad}),yE=On(xE),wE=lt({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),CE=On(wE),EE=lt({},zc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vE=On(EE),AE=[9,13,27,32],Sd=Xr&&"CompositionEvent"in window,qo=null;Xr&&"documentMode"in document&&(qo=document.documentMode);var SE=Xr&&"TextEvent"in window&&!qo,y2=Xr&&(!Sd||qo&&8<qo&&11>=qo),O1=String.fromCharCode(32),M1=!1;function w2(e,t){switch(e){case"keyup":return AE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ms=!1;function TE(e,t){switch(e){case"compositionend":return C2(t);case"keypress":return t.which!==32?null:(M1=!0,O1);case"textInput":return e=t.data,e===O1&&M1?null:e;default:return null}}function IE(e,t){if(Ms)return e==="compositionend"||!Sd&&w2(e,t)?(e=x2(),Ml=Ed=pi=null,Ms=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return y2&&t.locale!=="ko"?null:t.data;default:return null}}var bE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bE[e.type]:t==="textarea"}function E2(e,t,n,i){$m(i),t=sc(t,"onChange"),0<t.length&&(n=new vd("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var $o=null,pa=null;function NE(e){M2(e,0)}function Hc(e){var t=Ls(e);if(Gm(t))return e}function _E(e,t){if(e==="change")return t}var v2=!1;if(Xr){var $u;if(Xr){var Ju="oninput"in document;if(!Ju){var k1=document.createElement("div");k1.setAttribute("oninput","return;"),Ju=typeof k1.oninput=="function"}$u=Ju}else $u=!1;v2=$u&&(!document.documentMode||9<document.documentMode)}function L1(){$o&&($o.detachEvent("onpropertychange",A2),pa=$o=null)}function A2(e){if(e.propertyName==="value"&&Hc(pa)){var t=[];E2(t,pa,e,md(e)),n2(NE,t)}}function RE(e,t,n){e==="focusin"?(L1(),$o=t,pa=n,$o.attachEvent("onpropertychange",A2)):e==="focusout"&&L1()}function OE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hc(pa)}function ME(e,t){if(e==="click")return Hc(t)}function DE(e,t){if(e==="input"||e==="change")return Hc(t)}function kE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:kE;function ga(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!jf.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function P1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function B1(e,t){var n=P1(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P1(n)}}function S2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function T2(){for(var e=window,t=$l();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$l(e.document)}return t}function Td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function LE(e){var t=T2(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&S2(n.ownerDocument.documentElement,n)){if(i!==null&&Td(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(i.start,a);i=i.end===void 0?l:Math.min(i.end,a),!e.extend&&l>i&&(a=i,i=l,l=a),a=B1(n,l);var h=B1(n,i);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var PE=Xr&&"documentMode"in document&&11>=document.documentMode,Ds=null,ih=null,Jo=null,sh=!1;function F1(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sh||Ds==null||Ds!==$l(i)||(i=Ds,"selectionStart"in i&&Td(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Jo&&ga(Jo,i)||(Jo=i,i=sc(ih,"onSelect"),0<i.length&&(t=new vd("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ds)))}function ul(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ks={animationend:ul("Animation","AnimationEnd"),animationiteration:ul("Animation","AnimationIteration"),animationstart:ul("Animation","AnimationStart"),transitionend:ul("Transition","TransitionEnd")},ef={},I2={};Xr&&(I2=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Wc(e){if(ef[e])return ef[e];if(!ks[e])return e;var t=ks[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in I2)return ef[e]=t[n];return e}var b2=Wc("animationend"),N2=Wc("animationiteration"),_2=Wc("animationstart"),R2=Wc("transitionend"),O2=new Map,j1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){O2.set(e,t),gs(t,[e])}for(var tf=0;tf<j1.length;tf++){var nf=j1[tf],BE=nf.toLowerCase(),FE=nf[0].toUpperCase()+nf.slice(1);Li(BE,"on"+FE)}Li(b2,"onAnimationEnd");Li(N2,"onAnimationIteration");Li(_2,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(R2,"onTransitionEnd");Js("onMouseEnter",["mouseout","mouseover"]);Js("onMouseLeave",["mouseout","mouseover"]);Js("onPointerEnter",["pointerout","pointerover"]);Js("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xo));function U1(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,B3(i,t,void 0,e),e.currentTarget=null}function M2(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var h=i.length-1;0<=h;h--){var p=i[h],m=p.instance,g=p.currentTarget;if(p=p.listener,m!==l&&a.isPropagationStopped())break e;U1(a,p,g),l=m}else for(h=0;h<i.length;h++){if(p=i[h],m=p.instance,g=p.currentTarget,p=p.listener,m!==l&&a.isPropagationStopped())break e;U1(a,p,g),l=m}}}if(ec)throw e=eh,ec=!1,eh=null,e}function Je(e,t){var n=t[uh];n===void 0&&(n=t[uh]=new Set);var i=e+"__bubble";n.has(i)||(D2(t,e,2,!1),n.add(i))}function rf(e,t,n){var i=0;t&&(i|=4),D2(n,e,i,t)}var fl="_reactListening"+Math.random().toString(36).slice(2);function ma(e){if(!e[fl]){e[fl]=!0,Um.forEach(function(n){n!=="selectionchange"&&(jE.has(n)||rf(n,!1,e),rf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fl]||(t[fl]=!0,rf("selectionchange",!1,t))}}function D2(e,t,n,i){switch(m2(t)){case 1:var a=J3;break;case 4:a=eE;break;default:a=Cd}n=a.bind(null,t,n,e),a=void 0,!Jf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function sf(e,t,n,i,a){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var p=i.stateNode.containerInfo;if(p===a||p.nodeType===8&&p.parentNode===a)break;if(h===4)for(h=i.return;h!==null;){var m=h.tag;if((m===3||m===4)&&(m=h.stateNode.containerInfo,m===a||m.nodeType===8&&m.parentNode===a))return;h=h.return}for(;p!==null;){if(h=ns(p),h===null)return;if(m=h.tag,m===5||m===6){i=l=h;continue e}p=p.parentNode}}i=i.return}n2(function(){var g=l,w=md(n),C=[];e:{var S=O2.get(e);if(S!==void 0){var _=vd,R=e;switch(e){case"keypress":if(Dl(n)===0)break e;case"keydown":case"keyup":_=gE;break;case"focusin":R="focus",_=qu;break;case"focusout":R="blur",_=qu;break;case"beforeblur":case"afterblur":_=qu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=N1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=rE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=yE;break;case b2:case N2:case _2:_=oE;break;case R2:_=CE;break;case"scroll":_=tE;break;case"wheel":_=vE;break;case"copy":case"cut":case"paste":_=lE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=R1}var O=(t&4)!==0,L=!O&&e==="scroll",M=O?S!==null?S+"Capture":null:S;O=[];for(var N=g,b;N!==null;){b=N;var F=b.stateNode;if(b.tag===5&&F!==null&&(b=F,M!==null&&(F=ua(N,M),F!=null&&O.push(xa(N,F,b)))),L)break;N=N.return}0<O.length&&(S=new _(S,R,null,n,w),C.push({event:S,listeners:O}))}}if(!(t&7)){e:{if(S=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",S&&n!==qf&&(R=n.relatedTarget||n.fromElement)&&(ns(R)||R[Yr]))break e;if((_||S)&&(S=w.window===w?w:(S=w.ownerDocument)?S.defaultView||S.parentWindow:window,_?(R=n.relatedTarget||n.toElement,_=g,R=R?ns(R):null,R!==null&&(L=ms(R),R!==L||R.tag!==5&&R.tag!==6)&&(R=null)):(_=null,R=g),_!==R)){if(O=N1,F="onMouseLeave",M="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(O=R1,F="onPointerLeave",M="onPointerEnter",N="pointer"),L=_==null?S:Ls(_),b=R==null?S:Ls(R),S=new O(F,N+"leave",_,n,w),S.target=L,S.relatedTarget=b,F=null,ns(w)===g&&(O=new O(M,N+"enter",R,n,w),O.target=b,O.relatedTarget=L,F=O),L=F,_&&R)t:{for(O=_,M=R,N=0,b=O;b;b=_s(b))N++;for(b=0,F=M;F;F=_s(F))b++;for(;0<N-b;)O=_s(O),N--;for(;0<b-N;)M=_s(M),b--;for(;N--;){if(O===M||M!==null&&O===M.alternate)break t;O=_s(O),M=_s(M)}O=null}else O=null;_!==null&&V1(C,S,_,O,!1),R!==null&&L!==null&&V1(C,L,R,O,!0)}}e:{if(S=g?Ls(g):window,_=S.nodeName&&S.nodeName.toLowerCase(),_==="select"||_==="input"&&S.type==="file")var Q=_E;else if(D1(S))if(v2)Q=DE;else{Q=OE;var Z=RE}else(_=S.nodeName)&&_.toLowerCase()==="input"&&(S.type==="checkbox"||S.type==="radio")&&(Q=ME);if(Q&&(Q=Q(e,g))){E2(C,Q,n,w);break e}Z&&Z(e,S,g),e==="focusout"&&(Z=S._wrapperState)&&Z.controlled&&S.type==="number"&&Xf(S,"number",S.value)}switch(Z=g?Ls(g):window,e){case"focusin":(D1(Z)||Z.contentEditable==="true")&&(Ds=Z,ih=g,Jo=null);break;case"focusout":Jo=ih=Ds=null;break;case"mousedown":sh=!0;break;case"contextmenu":case"mouseup":case"dragend":sh=!1,F1(C,n,w);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":F1(C,n,w)}var U;if(Sd)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else Ms?w2(e,n)&&(K="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(y2&&n.locale!=="ko"&&(Ms||K!=="onCompositionStart"?K==="onCompositionEnd"&&Ms&&(U=x2()):(pi=w,Ed="value"in pi?pi.value:pi.textContent,Ms=!0)),Z=sc(g,K),0<Z.length&&(K=new _1(K,e,null,n,w),C.push({event:K,listeners:Z}),U?K.data=U:(U=C2(n),U!==null&&(K.data=U)))),(U=SE?TE(e,n):IE(e,n))&&(g=sc(g,"onBeforeInput"),0<g.length&&(w=new _1("onBeforeInput","beforeinput",null,n,w),C.push({event:w,listeners:g}),w.data=U))}M2(C,t)})}function xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sc(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=ua(e,n),l!=null&&i.unshift(xa(e,l,a)),l=ua(e,t),l!=null&&i.push(xa(e,l,a))),e=e.return}return i}function _s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function V1(e,t,n,i,a){for(var l=t._reactName,h=[];n!==null&&n!==i;){var p=n,m=p.alternate,g=p.stateNode;if(m!==null&&m===i)break;p.tag===5&&g!==null&&(p=g,a?(m=ua(n,l),m!=null&&h.unshift(xa(n,m,p))):a||(m=ua(n,l),m!=null&&h.push(xa(n,m,p)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var UE=/\r\n?/g,VE=/\u0000|\uFFFD/g;function z1(e){return(typeof e=="string"?e:""+e).replace(UE,`
`).replace(VE,"")}function hl(e,t,n){if(t=z1(t),z1(e)!==t&&n)throw Error(J(425))}function oc(){}var oh=null,ah=null;function lh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ch=typeof setTimeout=="function"?setTimeout:void 0,zE=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(e){return H1.resolve(null).then(e).catch(WE)}:ch;function WE(e){setTimeout(function(){throw e})}function of(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){e.removeChild(a),da(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);da(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function W1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),vr="__reactFiber$"+fo,ya="__reactProps$"+fo,Yr="__reactContainer$"+fo,uh="__reactEvents$"+fo,GE="__reactListeners$"+fo,XE="__reactHandles$"+fo;function ns(e){var t=e[vr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[vr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=W1(e);e!==null;){if(n=e[vr])return n;e=W1(e)}return t}e=n,n=e.parentNode}return null}function Da(e){return e=e[vr]||e[Yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ls(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Gc(e){return e[ya]||null}var fh=[],Ps=-1;function Pi(e){return{current:e}}function tt(e){0>Ps||(e.current=fh[Ps],fh[Ps]=null,Ps--)}function Ze(e,t){Ps++,fh[Ps]=e.current,e.current=t}var Ri={},$t=Pi(Ri),pn=Pi(!1),cs=Ri;function eo(e,t){var n=e.type.contextTypes;if(!n)return Ri;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gn(e){return e=e.childContextTypes,e!=null}function ac(){tt(pn),tt($t)}function G1(e,t,n){if($t.current!==Ri)throw Error(J(168));Ze($t,t),Ze(pn,n)}function k2(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(J(108,R3(e)||"Unknown",a));return lt({},n,i)}function lc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ri,cs=$t.current,Ze($t,e),Ze(pn,pn.current),!0}function X1(e,t,n){var i=e.stateNode;if(!i)throw Error(J(169));n?(e=k2(e,t,cs),i.__reactInternalMemoizedMergedChildContext=e,tt(pn),tt($t),Ze($t,e)):tt(pn),Ze(pn,n)}var Br=null,Xc=!1,af=!1;function L2(e){Br===null?Br=[e]:Br.push(e)}function YE(e){Xc=!0,L2(e)}function Bi(){if(!af&&Br!==null){af=!0;var e=0,t=ze;try{var n=Br;for(ze=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Br=null,Xc=!1}catch(a){throw Br!==null&&(Br=Br.slice(e+1)),o2(xd,Bi),a}finally{ze=t,af=!1}}return null}var Bs=[],Fs=0,cc=null,uc=0,Vn=[],zn=0,us=null,Fr=1,jr="";function Zi(e,t){Bs[Fs++]=uc,Bs[Fs++]=cc,cc=e,uc=t}function P2(e,t,n){Vn[zn++]=Fr,Vn[zn++]=jr,Vn[zn++]=us,us=e;var i=Fr;e=jr;var a=32-sr(i)-1;i&=~(1<<a),n+=1;var l=32-sr(t)+a;if(30<l){var h=a-a%5;l=(i&(1<<h)-1).toString(32),i>>=h,a-=h,Fr=1<<32-sr(t)+a|n<<a|i,jr=l+e}else Fr=1<<l|n<<a|i,jr=e}function Id(e){e.return!==null&&(Zi(e,1),P2(e,1,0))}function bd(e){for(;e===cc;)cc=Bs[--Fs],Bs[Fs]=null,uc=Bs[--Fs],Bs[Fs]=null;for(;e===us;)us=Vn[--zn],Vn[zn]=null,jr=Vn[--zn],Vn[zn]=null,Fr=Vn[--zn],Vn[zn]=null}var bn=null,In=null,rt=!1,rr=null;function B2(e,t){var n=Wn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Y1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,In=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,In=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=us!==null?{id:Fr,overflow:jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Wn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,bn=e,In=null,!0):!1;default:return!1}}function hh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dh(e){if(rt){var t=In;if(t){var n=t;if(!Y1(e,t)){if(hh(e))throw Error(J(418));t=Ci(n.nextSibling);var i=bn;t&&Y1(e,t)?B2(i,n):(e.flags=e.flags&-4097|2,rt=!1,bn=e)}}else{if(hh(e))throw Error(J(418));e.flags=e.flags&-4097|2,rt=!1,bn=e}}}function Q1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function dl(e){if(e!==bn)return!1;if(!rt)return Q1(e),rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!lh(e.type,e.memoizedProps)),t&&(t=In)){if(hh(e))throw F2(),Error(J(418));for(;t;)B2(e,t),t=Ci(t.nextSibling)}if(Q1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){In=Ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}In=null}}else In=bn?Ci(e.stateNode.nextSibling):null;return!0}function F2(){for(var e=In;e;)e=Ci(e.nextSibling)}function to(){In=bn=null,rt=!1}function Nd(e){rr===null?rr=[e]:rr.push(e)}var QE=qr.ReactCurrentBatchConfig;function Po(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var i=n.stateNode}if(!i)throw Error(J(147,e));var a=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(h){var p=a.refs;h===null?delete p[l]:p[l]=h},t._stringRef=l,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function pl(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function K1(e){var t=e._init;return t(e._payload)}function j2(e){function t(M,N){if(e){var b=M.deletions;b===null?(M.deletions=[N],M.flags|=16):b.push(N)}}function n(M,N){if(!e)return null;for(;N!==null;)t(M,N),N=N.sibling;return null}function i(M,N){for(M=new Map;N!==null;)N.key!==null?M.set(N.key,N):M.set(N.index,N),N=N.sibling;return M}function a(M,N){return M=Si(M,N),M.index=0,M.sibling=null,M}function l(M,N,b){return M.index=b,e?(b=M.alternate,b!==null?(b=b.index,b<N?(M.flags|=2,N):b):(M.flags|=2,N)):(M.flags|=1048576,N)}function h(M){return e&&M.alternate===null&&(M.flags|=2),M}function p(M,N,b,F){return N===null||N.tag!==6?(N=pf(b,M.mode,F),N.return=M,N):(N=a(N,b),N.return=M,N)}function m(M,N,b,F){var Q=b.type;return Q===Os?w(M,N,b.props.children,F,b.key):N!==null&&(N.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ci&&K1(Q)===N.type)?(F=a(N,b.props),F.ref=Po(M,N,b),F.return=M,F):(F=Ul(b.type,b.key,b.props,null,M.mode,F),F.ref=Po(M,N,b),F.return=M,F)}function g(M,N,b,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==b.containerInfo||N.stateNode.implementation!==b.implementation?(N=gf(b,M.mode,F),N.return=M,N):(N=a(N,b.children||[]),N.return=M,N)}function w(M,N,b,F,Q){return N===null||N.tag!==7?(N=ls(b,M.mode,F,Q),N.return=M,N):(N=a(N,b),N.return=M,N)}function C(M,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return N=pf(""+N,M.mode,b),N.return=M,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case rl:return b=Ul(N.type,N.key,N.props,null,M.mode,b),b.ref=Po(M,null,N),b.return=M,b;case Rs:return N=gf(N,M.mode,b),N.return=M,N;case ci:var F=N._init;return C(M,F(N._payload),b)}if(Wo(N)||Oo(N))return N=ls(N,M.mode,b,null),N.return=M,N;pl(M,N)}return null}function S(M,N,b,F){var Q=N!==null?N.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return Q!==null?null:p(M,N,""+b,F);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case rl:return b.key===Q?m(M,N,b,F):null;case Rs:return b.key===Q?g(M,N,b,F):null;case ci:return Q=b._init,S(M,N,Q(b._payload),F)}if(Wo(b)||Oo(b))return Q!==null?null:w(M,N,b,F,null);pl(M,b)}return null}function _(M,N,b,F,Q){if(typeof F=="string"&&F!==""||typeof F=="number")return M=M.get(b)||null,p(N,M,""+F,Q);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case rl:return M=M.get(F.key===null?b:F.key)||null,m(N,M,F,Q);case Rs:return M=M.get(F.key===null?b:F.key)||null,g(N,M,F,Q);case ci:var Z=F._init;return _(M,N,b,Z(F._payload),Q)}if(Wo(F)||Oo(F))return M=M.get(b)||null,w(N,M,F,Q,null);pl(N,F)}return null}function R(M,N,b,F){for(var Q=null,Z=null,U=N,K=N=0,X=null;U!==null&&K<b.length;K++){U.index>K?(X=U,U=null):X=U.sibling;var fe=S(M,U,b[K],F);if(fe===null){U===null&&(U=X);break}e&&U&&fe.alternate===null&&t(M,U),N=l(fe,N,K),Z===null?Q=fe:Z.sibling=fe,Z=fe,U=X}if(K===b.length)return n(M,U),rt&&Zi(M,K),Q;if(U===null){for(;K<b.length;K++)U=C(M,b[K],F),U!==null&&(N=l(U,N,K),Z===null?Q=U:Z.sibling=U,Z=U);return rt&&Zi(M,K),Q}for(U=i(M,U);K<b.length;K++)X=_(U,M,K,b[K],F),X!==null&&(e&&X.alternate!==null&&U.delete(X.key===null?K:X.key),N=l(X,N,K),Z===null?Q=X:Z.sibling=X,Z=X);return e&&U.forEach(function(_e){return t(M,_e)}),rt&&Zi(M,K),Q}function O(M,N,b,F){var Q=Oo(b);if(typeof Q!="function")throw Error(J(150));if(b=Q.call(b),b==null)throw Error(J(151));for(var Z=Q=null,U=N,K=N=0,X=null,fe=b.next();U!==null&&!fe.done;K++,fe=b.next()){U.index>K?(X=U,U=null):X=U.sibling;var _e=S(M,U,fe.value,F);if(_e===null){U===null&&(U=X);break}e&&U&&_e.alternate===null&&t(M,U),N=l(_e,N,K),Z===null?Q=_e:Z.sibling=_e,Z=_e,U=X}if(fe.done)return n(M,U),rt&&Zi(M,K),Q;if(U===null){for(;!fe.done;K++,fe=b.next())fe=C(M,fe.value,F),fe!==null&&(N=l(fe,N,K),Z===null?Q=fe:Z.sibling=fe,Z=fe);return rt&&Zi(M,K),Q}for(U=i(M,U);!fe.done;K++,fe=b.next())fe=_(U,M,K,fe.value,F),fe!==null&&(e&&fe.alternate!==null&&U.delete(fe.key===null?K:fe.key),N=l(fe,N,K),Z===null?Q=fe:Z.sibling=fe,Z=fe);return e&&U.forEach(function(ie){return t(M,ie)}),rt&&Zi(M,K),Q}function L(M,N,b,F){if(typeof b=="object"&&b!==null&&b.type===Os&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case rl:e:{for(var Q=b.key,Z=N;Z!==null;){if(Z.key===Q){if(Q=b.type,Q===Os){if(Z.tag===7){n(M,Z.sibling),N=a(Z,b.props.children),N.return=M,M=N;break e}}else if(Z.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===ci&&K1(Q)===Z.type){n(M,Z.sibling),N=a(Z,b.props),N.ref=Po(M,Z,b),N.return=M,M=N;break e}n(M,Z);break}else t(M,Z);Z=Z.sibling}b.type===Os?(N=ls(b.props.children,M.mode,F,b.key),N.return=M,M=N):(F=Ul(b.type,b.key,b.props,null,M.mode,F),F.ref=Po(M,N,b),F.return=M,M=F)}return h(M);case Rs:e:{for(Z=b.key;N!==null;){if(N.key===Z)if(N.tag===4&&N.stateNode.containerInfo===b.containerInfo&&N.stateNode.implementation===b.implementation){n(M,N.sibling),N=a(N,b.children||[]),N.return=M,M=N;break e}else{n(M,N);break}else t(M,N);N=N.sibling}N=gf(b,M.mode,F),N.return=M,M=N}return h(M);case ci:return Z=b._init,L(M,N,Z(b._payload),F)}if(Wo(b))return R(M,N,b,F);if(Oo(b))return O(M,N,b,F);pl(M,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,N!==null&&N.tag===6?(n(M,N.sibling),N=a(N,b),N.return=M,M=N):(n(M,N),N=pf(b,M.mode,F),N.return=M,M=N),h(M)):n(M,N)}return L}var no=j2(!0),U2=j2(!1),fc=Pi(null),hc=null,js=null,_d=null;function Rd(){_d=js=hc=null}function Od(e){var t=fc.current;tt(fc),e._currentValue=t}function ph(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function qs(e,t){hc=e,_d=js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dn=!0),e.firstContext=null)}function Xn(e){var t=e._currentValue;if(_d!==e)if(e={context:e,memoizedValue:t,next:null},js===null){if(hc===null)throw Error(J(308));js=e,hc.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var rs=null;function Md(e){rs===null?rs=[e]:rs.push(e)}function V2(e,t,n,i){var a=t.interleaved;return a===null?(n.next=n,Md(t)):(n.next=a.next,a.next=n),t.interleaved=n,Qr(e,i)}function Qr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ui=!1;function Dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function z2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Le&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,Qr(e,n)}return a=i.interleaved,a===null?(t.next=t,Md(i)):(t.next=a.next,a.next=t),i.interleaved=t,Qr(e,n)}function kl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yd(e,n)}}function Z1(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=h:l=l.next=h,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function dc(e,t,n,i){var a=e.updateQueue;ui=!1;var l=a.firstBaseUpdate,h=a.lastBaseUpdate,p=a.shared.pending;if(p!==null){a.shared.pending=null;var m=p,g=m.next;m.next=null,h===null?l=g:h.next=g,h=m;var w=e.alternate;w!==null&&(w=w.updateQueue,p=w.lastBaseUpdate,p!==h&&(p===null?w.firstBaseUpdate=g:p.next=g,w.lastBaseUpdate=m))}if(l!==null){var C=a.baseState;h=0,w=g=m=null,p=l;do{var S=p.lane,_=p.eventTime;if((i&S)===S){w!==null&&(w=w.next={eventTime:_,lane:0,tag:p.tag,payload:p.payload,callback:p.callback,next:null});e:{var R=e,O=p;switch(S=t,_=n,O.tag){case 1:if(R=O.payload,typeof R=="function"){C=R.call(_,C,S);break e}C=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=O.payload,S=typeof R=="function"?R.call(_,C,S):R,S==null)break e;C=lt({},C,S);break e;case 2:ui=!0}}p.callback!==null&&p.lane!==0&&(e.flags|=64,S=a.effects,S===null?a.effects=[p]:S.push(p))}else _={eventTime:_,lane:S,tag:p.tag,payload:p.payload,callback:p.callback,next:null},w===null?(g=w=_,m=C):w=w.next=_,h|=S;if(p=p.next,p===null){if(p=a.shared.pending,p===null)break;S=p,p=S.next,S.next=null,a.lastBaseUpdate=S,a.shared.pending=null}}while(1);if(w===null&&(m=C),a.baseState=m,a.firstBaseUpdate=g,a.lastBaseUpdate=w,t=a.shared.interleaved,t!==null){a=t;do h|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);hs|=h,e.lanes=h,e.memoizedState=C}}function q1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(J(191,a));a.call(i)}}}var ka={},Ir=Pi(ka),wa=Pi(ka),Ca=Pi(ka);function is(e){if(e===ka)throw Error(J(174));return e}function kd(e,t){switch(Ze(Ca,t),Ze(wa,e),Ze(Ir,ka),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Qf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Qf(t,e)}tt(Ir),Ze(Ir,t)}function ro(){tt(Ir),tt(wa),tt(Ca)}function H2(e){is(Ca.current);var t=is(Ir.current),n=Qf(t,e.type);t!==n&&(Ze(wa,e),Ze(Ir,n))}function Ld(e){wa.current===e&&(tt(Ir),tt(wa))}var st=Pi(0);function pc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lf=[];function Pd(){for(var e=0;e<lf.length;e++)lf[e]._workInProgressVersionPrimary=null;lf.length=0}var Ll=qr.ReactCurrentDispatcher,cf=qr.ReactCurrentBatchConfig,fs=0,at=null,Rt=null,kt=null,gc=!1,ea=!1,Ea=0,KE=0;function Yt(){throw Error(J(321))}function Bd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function Fd(e,t,n,i,a,l){if(fs=l,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ll.current=e===null||e.memoizedState===null?JE:ev,e=n(i,a),ea){l=0;do{if(ea=!1,Ea=0,25<=l)throw Error(J(301));l+=1,kt=Rt=null,t.updateQueue=null,Ll.current=tv,e=n(i,a)}while(ea)}if(Ll.current=mc,t=Rt!==null&&Rt.next!==null,fs=0,kt=Rt=at=null,gc=!1,t)throw Error(J(300));return e}function jd(){var e=Ea!==0;return Ea=0,e}function Cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?at.memoizedState=kt=e:kt=kt.next=e,kt}function Yn(){if(Rt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=kt===null?at.memoizedState:kt.next;if(t!==null)kt=t,Rt=e;else{if(e===null)throw Error(J(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},kt===null?at.memoizedState=kt=e:kt=kt.next=e}return kt}function va(e,t){return typeof t=="function"?t(e):t}function uf(e){var t=Yn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var i=Rt,a=i.baseQueue,l=n.pending;if(l!==null){if(a!==null){var h=a.next;a.next=l.next,l.next=h}i.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,i=i.baseState;var p=h=null,m=null,g=l;do{var w=g.lane;if((fs&w)===w)m!==null&&(m=m.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),i=g.hasEagerState?g.eagerState:e(i,g.action);else{var C={lane:w,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};m===null?(p=m=C,h=i):m=m.next=C,at.lanes|=w,hs|=w}g=g.next}while(g!==null&&g!==l);m===null?h=i:m.next=p,lr(i,t.memoizedState)||(dn=!0),t.memoizedState=i,t.baseState=h,t.baseQueue=m,n.lastRenderedState=i}if(e=n.interleaved,e!==null){a=e;do l=a.lane,at.lanes|=l,hs|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ff(e){var t=Yn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var h=a=a.next;do l=e(l,h.action),h=h.next;while(h!==a);lr(l,t.memoizedState)||(dn=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function W2(){}function G2(e,t){var n=at,i=Yn(),a=t(),l=!lr(i.memoizedState,a);if(l&&(i.memoizedState=a,dn=!0),i=i.queue,Ud(Q2.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Aa(9,Y2.bind(null,n,i,a,t),void 0,null),Lt===null)throw Error(J(349));fs&30||X2(n,t,a)}return a}function X2(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Y2(e,t,n,i){t.value=n,t.getSnapshot=i,K2(t)&&Z2(e)}function Q2(e,t,n){return n(function(){K2(t)&&Z2(e)})}function K2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch{return!0}}function Z2(e){var t=Qr(e,1);t!==null&&or(t,e,1,-1)}function $1(e){var t=Cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:e},t.queue=e,e=e.dispatch=$E.bind(null,at,e),[t.memoizedState,e]}function Aa(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function q2(){return Yn().memoizedState}function Pl(e,t,n,i){var a=Cr();at.flags|=e,a.memoizedState=Aa(1|t,n,void 0,i===void 0?null:i)}function Yc(e,t,n,i){var a=Yn();i=i===void 0?null:i;var l=void 0;if(Rt!==null){var h=Rt.memoizedState;if(l=h.destroy,i!==null&&Bd(i,h.deps)){a.memoizedState=Aa(t,n,l,i);return}}at.flags|=e,a.memoizedState=Aa(1|t,n,l,i)}function J1(e,t){return Pl(8390656,8,e,t)}function Ud(e,t){return Yc(2048,8,e,t)}function $2(e,t){return Yc(4,2,e,t)}function J2(e,t){return Yc(4,4,e,t)}function ex(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function tx(e,t,n){return n=n!=null?n.concat([e]):null,Yc(4,4,ex.bind(null,t,e),n)}function Vd(){}function nx(e,t){var n=Yn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Bd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function rx(e,t){var n=Yn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Bd(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function ix(e,t,n){return fs&21?(lr(n,t)||(n=c2(),at.lanes|=n,hs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dn=!0),e.memoizedState=n)}function ZE(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var i=cf.transition;cf.transition={};try{e(!1),t()}finally{ze=n,cf.transition=i}}function sx(){return Yn().memoizedState}function qE(e,t,n){var i=Ai(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ox(e))ax(t,n);else if(n=V2(e,t,n,i),n!==null){var a=rn();or(n,e,i,a),lx(n,t,i)}}function $E(e,t,n){var i=Ai(e),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ox(e))ax(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var h=t.lastRenderedState,p=l(h,n);if(a.hasEagerState=!0,a.eagerState=p,lr(p,h)){var m=t.interleaved;m===null?(a.next=a,Md(t)):(a.next=m.next,m.next=a),t.interleaved=a;return}}catch{}finally{}n=V2(e,t,a,i),n!==null&&(a=rn(),or(n,e,i,a),lx(n,t,i))}}function ox(e){var t=e.alternate;return e===at||t!==null&&t===at}function ax(e,t){ea=gc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function lx(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yd(e,n)}}var mc={readContext:Xn,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},JE={readContext:Xn,useCallback:function(e,t){return Cr().memoizedState=[e,t===void 0?null:t],e},useContext:Xn,useEffect:J1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pl(4194308,4,ex.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pl(4,2,e,t)},useMemo:function(e,t){var n=Cr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Cr();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=qE.bind(null,at,e),[i.memoizedState,e]},useRef:function(e){var t=Cr();return e={current:e},t.memoizedState=e},useState:$1,useDebugValue:Vd,useDeferredValue:function(e){return Cr().memoizedState=e},useTransition:function(){var e=$1(!1),t=e[0];return e=ZE.bind(null,e[1]),Cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=at,a=Cr();if(rt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),Lt===null)throw Error(J(349));fs&30||X2(i,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,J1(Q2.bind(null,i,l,e),[e]),i.flags|=2048,Aa(9,Y2.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=Cr(),t=Lt.identifierPrefix;if(rt){var n=jr,i=Fr;n=(i&~(1<<32-sr(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ea++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=KE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ev={readContext:Xn,useCallback:nx,useContext:Xn,useEffect:Ud,useImperativeHandle:tx,useInsertionEffect:$2,useLayoutEffect:J2,useMemo:rx,useReducer:uf,useRef:q2,useState:function(){return uf(va)},useDebugValue:Vd,useDeferredValue:function(e){var t=Yn();return ix(t,Rt.memoizedState,e)},useTransition:function(){var e=uf(va)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:W2,useSyncExternalStore:G2,useId:sx,unstable_isNewReconciler:!1},tv={readContext:Xn,useCallback:nx,useContext:Xn,useEffect:Ud,useImperativeHandle:tx,useInsertionEffect:$2,useLayoutEffect:J2,useMemo:rx,useReducer:ff,useRef:q2,useState:function(){return ff(va)},useDebugValue:Vd,useDeferredValue:function(e){var t=Yn();return Rt===null?t.memoizedState=e:ix(t,Rt.memoizedState,e)},useTransition:function(){var e=ff(va)[0],t=Yn().memoizedState;return[e,t]},useMutableSource:W2,useSyncExternalStore:G2,useId:sx,unstable_isNewReconciler:!1};function Jn(e,t){if(e&&e.defaultProps){t=lt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function gh(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:lt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Qc={isMounted:function(e){return(e=e._reactInternals)?ms(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=rn(),a=Ai(e),l=Hr(i,a);l.payload=t,n!=null&&(l.callback=n),t=Ei(e,l,a),t!==null&&(or(t,e,a,i),kl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=rn(),a=Ai(e),l=Hr(i,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Ei(e,l,a),t!==null&&(or(t,e,a,i),kl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rn(),i=Ai(e),a=Hr(n,i);a.tag=2,t!=null&&(a.callback=t),t=Ei(e,a,i),t!==null&&(or(t,e,i,n),kl(t,e,i))}};function ep(e,t,n,i,a,l,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,h):t.prototype&&t.prototype.isPureReactComponent?!ga(n,i)||!ga(a,l):!0}function cx(e,t,n){var i=!1,a=Ri,l=t.contextType;return typeof l=="object"&&l!==null?l=Xn(l):(a=gn(t)?cs:$t.current,i=t.contextTypes,l=(i=i!=null)?eo(e,a):Ri),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Qc,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function tp(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Qc.enqueueReplaceState(t,t.state,null)}function mh(e,t,n,i){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Dd(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Xn(l):(l=gn(t)?cs:$t.current,a.context=eo(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(gh(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Qc.enqueueReplaceState(a,a.state,null),dc(e,n,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function io(e,t){try{var n="",i=t;do n+=_3(i),i=i.return;while(i);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function hf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var nv=typeof WeakMap=="function"?WeakMap:Map;function ux(e,t,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){yc||(yc=!0,bh=i),xh(e,t)},n}function fx(e,t,n){n=Hr(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;n.payload=function(){return i(a)},n.callback=function(){xh(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){xh(e,t),typeof i!="function"&&(vi===null?vi=new Set([this]):vi.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function np(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new nv;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(a.add(n),e=mv.bind(null,e,t,n),t.then(e,e))}function rp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ip(e,t,n,i,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hr(-1,1),t.tag=2,Ei(n,t,1))),n.lanes|=1),e)}var rv=qr.ReactCurrentOwner,dn=!1;function nn(e,t,n,i){t.child=e===null?U2(t,null,n,i):no(t,e.child,n,i)}function sp(e,t,n,i,a){n=n.render;var l=t.ref;return qs(t,a),i=Fd(e,t,n,i,l,a),n=jd(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Kr(e,t,a)):(rt&&n&&Id(t),t.flags|=1,nn(e,t,i,a),t.child)}function op(e,t,n,i,a){if(e===null){var l=n.type;return typeof l=="function"&&!Kd(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,hx(e,t,l,i,a)):(e=Ul(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var h=l.memoizedProps;if(n=n.compare,n=n!==null?n:ga,n(h,i)&&e.ref===t.ref)return Kr(e,t,a)}return t.flags|=1,e=Si(l,i),e.ref=t.ref,e.return=t,t.child=e}function hx(e,t,n,i,a){if(e!==null){var l=e.memoizedProps;if(ga(l,i)&&e.ref===t.ref)if(dn=!1,t.pendingProps=i=l,(e.lanes&a)!==0)e.flags&131072&&(dn=!0);else return t.lanes=e.lanes,Kr(e,t,a)}return yh(e,t,n,i,a)}function dx(e,t,n){var i=t.pendingProps,a=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Vs,Sn),Sn|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ze(Vs,Sn),Sn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,Ze(Vs,Sn),Sn|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,Ze(Vs,Sn),Sn|=i;return nn(e,t,a,n),t.child}function px(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yh(e,t,n,i,a){var l=gn(n)?cs:$t.current;return l=eo(t,l),qs(t,a),n=Fd(e,t,n,i,l,a),i=jd(),e!==null&&!dn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Kr(e,t,a)):(rt&&i&&Id(t),t.flags|=1,nn(e,t,n,a),t.child)}function ap(e,t,n,i,a){if(gn(n)){var l=!0;lc(t)}else l=!1;if(qs(t,a),t.stateNode===null)Bl(e,t),cx(t,n,i),mh(t,n,i,a),i=!0;else if(e===null){var h=t.stateNode,p=t.memoizedProps;h.props=p;var m=h.context,g=n.contextType;typeof g=="object"&&g!==null?g=Xn(g):(g=gn(n)?cs:$t.current,g=eo(t,g));var w=n.getDerivedStateFromProps,C=typeof w=="function"||typeof h.getSnapshotBeforeUpdate=="function";C||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==i||m!==g)&&tp(t,h,i,g),ui=!1;var S=t.memoizedState;h.state=S,dc(t,i,h,a),m=t.memoizedState,p!==i||S!==m||pn.current||ui?(typeof w=="function"&&(gh(t,n,w,i),m=t.memoizedState),(p=ui||ep(t,n,p,i,S,m,g))?(C||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=m),h.props=i,h.state=m,h.context=g,i=p):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{h=t.stateNode,z2(e,t),p=t.memoizedProps,g=t.type===t.elementType?p:Jn(t.type,p),h.props=g,C=t.pendingProps,S=h.context,m=n.contextType,typeof m=="object"&&m!==null?m=Xn(m):(m=gn(n)?cs:$t.current,m=eo(t,m));var _=n.getDerivedStateFromProps;(w=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==C||S!==m)&&tp(t,h,i,m),ui=!1,S=t.memoizedState,h.state=S,dc(t,i,h,a);var R=t.memoizedState;p!==C||S!==R||pn.current||ui?(typeof _=="function"&&(gh(t,n,_,i),R=t.memoizedState),(g=ui||ep(t,n,g,i,S,R,m)||!1)?(w||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,R,m),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,R,m)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=R),h.props=i,h.state=R,h.context=m,i=g):(typeof h.componentDidUpdate!="function"||p===e.memoizedProps&&S===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&S===e.memoizedState||(t.flags|=1024),i=!1)}return wh(e,t,n,i,l,a)}function wh(e,t,n,i,a,l){px(e,t);var h=(t.flags&128)!==0;if(!i&&!h)return a&&X1(t,n,!1),Kr(e,t,l);i=t.stateNode,rv.current=t;var p=h&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&h?(t.child=no(t,e.child,null,l),t.child=no(t,null,p,l)):nn(e,t,p,l),t.memoizedState=i.state,a&&X1(t,n,!0),t.child}function gx(e){var t=e.stateNode;t.pendingContext?G1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&G1(e,t.context,!1),kd(e,t.containerInfo)}function lp(e,t,n,i,a){return to(),Nd(a),t.flags|=256,nn(e,t,n,i),t.child}var Ch={dehydrated:null,treeContext:null,retryLane:0};function Eh(e){return{baseLanes:e,cachePool:null,transitions:null}}function mx(e,t,n){var i=t.pendingProps,a=st.current,l=!1,h=(t.flags&128)!==0,p;if((p=h)||(p=e!==null&&e.memoizedState===null?!1:(a&2)!==0),p?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Ze(st,a&1),e===null)return dh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=i.children,e=i.fallback,l?(i=t.mode,l=t.child,h={mode:"hidden",children:h},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=h):l=qc(h,i,0,null),e=ls(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Eh(n),t.memoizedState=Ch,e):zd(t,h));if(a=e.memoizedState,a!==null&&(p=a.dehydrated,p!==null))return iv(e,t,h,i,p,a,n);if(l){l=i.fallback,h=t.mode,a=e.child,p=a.sibling;var m={mode:"hidden",children:i.children};return!(h&1)&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=m,t.deletions=null):(i=Si(a,m),i.subtreeFlags=a.subtreeFlags&14680064),p!==null?l=Si(p,l):(l=ls(l,h,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,h=e.child.memoizedState,h=h===null?Eh(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},l.memoizedState=h,l.childLanes=e.childLanes&~n,t.memoizedState=Ch,i}return l=e.child,e=l.sibling,i=Si(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zd(e,t){return t=qc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gl(e,t,n,i){return i!==null&&Nd(i),no(t,e.child,null,n),e=zd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iv(e,t,n,i,a,l,h){if(n)return t.flags&256?(t.flags&=-257,i=hf(Error(J(422))),gl(e,t,h,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,a=t.mode,i=qc({mode:"visible",children:i.children},a,0,null),l=ls(l,a,h,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&no(t,e.child,null,h),t.child.memoizedState=Eh(h),t.memoizedState=Ch,l);if(!(t.mode&1))return gl(e,t,h,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var p=i.dgst;return i=p,l=Error(J(419)),i=hf(l,i,void 0),gl(e,t,h,i)}if(p=(h&e.childLanes)!==0,dn||p){if(i=Lt,i!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|h)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Qr(e,a),or(i,e,a,-1))}return Qd(),i=hf(Error(J(421))),gl(e,t,h,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=xv.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,In=Ci(a.nextSibling),bn=t,rt=!0,rr=null,e!==null&&(Vn[zn++]=Fr,Vn[zn++]=jr,Vn[zn++]=us,Fr=e.id,jr=e.overflow,us=t),t=zd(t,i.children),t.flags|=4096,t)}function cp(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ph(e.return,t,n)}function df(e,t,n,i,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=a)}function xx(e,t,n){var i=t.pendingProps,a=i.revealOrder,l=i.tail;if(nn(e,t,i.children,n),i=st.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cp(e,n,t);else if(e.tag===19)cp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ze(st,i),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&pc(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),df(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&pc(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}df(t,!0,n,null,l);break;case"together":df(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=Si(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Si(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function sv(e,t,n){switch(t.tag){case 3:gx(t),to();break;case 5:H2(t);break;case 1:gn(t.type)&&lc(t);break;case 4:kd(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;Ze(fc,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ze(st,st.current&1),t.flags|=128,null):n&t.child.childLanes?mx(e,t,n):(Ze(st,st.current&1),e=Kr(e,t,n),e!==null?e.sibling:null);Ze(st,st.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return xx(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ze(st,st.current),i)break;return null;case 22:case 23:return t.lanes=0,dx(e,t,n)}return Kr(e,t,n)}var yx,vh,wx,Cx;yx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vh=function(){};wx=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,is(Ir.current);var l=null;switch(n){case"input":a=Wf(e,a),i=Wf(e,i),l=[];break;case"select":a=lt({},a,{value:void 0}),i=lt({},i,{value:void 0}),l=[];break;case"textarea":a=Yf(e,a),i=Yf(e,i),l=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=oc)}Kf(n,i);var h;n=null;for(g in a)if(!i.hasOwnProperty(g)&&a.hasOwnProperty(g)&&a[g]!=null)if(g==="style"){var p=a[g];for(h in p)p.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(la.hasOwnProperty(g)?l||(l=[]):(l=l||[]).push(g,null));for(g in i){var m=i[g];if(p=a!=null?a[g]:void 0,i.hasOwnProperty(g)&&m!==p&&(m!=null||p!=null))if(g==="style")if(p){for(h in p)!p.hasOwnProperty(h)||m&&m.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in m)m.hasOwnProperty(h)&&p[h]!==m[h]&&(n||(n={}),n[h]=m[h])}else n||(l||(l=[]),l.push(g,n)),n=m;else g==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,p=p?p.__html:void 0,m!=null&&p!==m&&(l=l||[]).push(g,m)):g==="children"?typeof m!="string"&&typeof m!="number"||(l=l||[]).push(g,""+m):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(la.hasOwnProperty(g)?(m!=null&&g==="onScroll"&&Je("scroll",e),l||p===m||(l=[])):(l=l||[]).push(g,m))}n&&(l=l||[]).push("style",n);var g=l;(t.updateQueue=g)&&(t.flags|=4)}};Cx=function(e,t,n,i){n!==i&&(t.flags|=4)};function Bo(e,t){if(!rt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function ov(e,t,n){var i=t.pendingProps;switch(bd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return gn(t.type)&&ac(),Qt(t),null;case 3:return i=t.stateNode,ro(),tt(pn),tt($t),Pd(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(dl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rr!==null&&(Rh(rr),rr=null))),vh(e,t),Qt(t),null;case 5:Ld(t);var a=is(Ca.current);if(n=t.type,e!==null&&t.stateNode!=null)wx(e,t,n,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(J(166));return Qt(t),null}if(e=is(Ir.current),dl(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[vr]=t,i[ya]=l,e=(t.mode&1)!==0,n){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(a=0;a<Xo.length;a++)Je(Xo[a],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":y1(i,l),Je("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},Je("invalid",i);break;case"textarea":C1(i,l),Je("invalid",i)}Kf(n,l),a=null;for(var h in l)if(l.hasOwnProperty(h)){var p=l[h];h==="children"?typeof p=="string"?i.textContent!==p&&(l.suppressHydrationWarning!==!0&&hl(i.textContent,p,e),a=["children",p]):typeof p=="number"&&i.textContent!==""+p&&(l.suppressHydrationWarning!==!0&&hl(i.textContent,p,e),a=["children",""+p]):la.hasOwnProperty(h)&&p!=null&&h==="onScroll"&&Je("scroll",i)}switch(n){case"input":il(i),w1(i,l,!0);break;case"textarea":il(i),E1(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=oc)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Qm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=h.createElement(n,{is:i.is}):(e=h.createElement(n),n==="select"&&(h=e,i.multiple?h.multiple=!0:i.size&&(h.size=i.size))):e=h.createElementNS(e,n),e[vr]=t,e[ya]=i,yx(e,t,!1,!1),t.stateNode=e;e:{switch(h=Zf(n,i),n){case"dialog":Je("cancel",e),Je("close",e),a=i;break;case"iframe":case"object":case"embed":Je("load",e),a=i;break;case"video":case"audio":for(a=0;a<Xo.length;a++)Je(Xo[a],e);a=i;break;case"source":Je("error",e),a=i;break;case"img":case"image":case"link":Je("error",e),Je("load",e),a=i;break;case"details":Je("toggle",e),a=i;break;case"input":y1(e,i),a=Wf(e,i),Je("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=lt({},i,{value:void 0}),Je("invalid",e);break;case"textarea":C1(e,i),a=Yf(e,i),Je("invalid",e);break;default:a=i}Kf(n,a),p=a;for(l in p)if(p.hasOwnProperty(l)){var m=p[l];l==="style"?qm(e,m):l==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&Km(e,m)):l==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&ca(e,m):typeof m=="number"&&ca(e,""+m):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(la.hasOwnProperty(l)?m!=null&&l==="onScroll"&&Je("scroll",e):m!=null&&hd(e,l,m,h))}switch(n){case"input":il(e),w1(e,i,!1);break;case"textarea":il(e),E1(e);break;case"option":i.value!=null&&e.setAttribute("value",""+_i(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?Ys(e,!!i.multiple,l,!1):i.defaultValue!=null&&Ys(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=oc)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qt(t),null;case 6:if(e&&t.stateNode!=null)Cx(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(J(166));if(n=is(Ca.current),is(Ir.current),dl(t)){if(i=t.stateNode,n=t.memoizedProps,i[vr]=t,(l=i.nodeValue!==n)&&(e=bn,e!==null))switch(e.tag){case 3:hl(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hl(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[vr]=t,t.stateNode=i}return Qt(t),null;case 13:if(tt(st),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(rt&&In!==null&&t.mode&1&&!(t.flags&128))F2(),to(),t.flags|=98560,l=!1;else if(l=dl(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(J(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(J(317));l[vr]=t}else to(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qt(t),l=!1}else rr!==null&&(Rh(rr),rr=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?Ot===0&&(Ot=3):Qd())),t.updateQueue!==null&&(t.flags|=4),Qt(t),null);case 4:return ro(),vh(e,t),e===null&&ma(t.stateNode.containerInfo),Qt(t),null;case 10:return Od(t.type._context),Qt(t),null;case 17:return gn(t.type)&&ac(),Qt(t),null;case 19:if(tt(st),l=t.memoizedState,l===null)return Qt(t),null;if(i=(t.flags&128)!==0,h=l.rendering,h===null)if(i)Bo(l,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=pc(e),h!==null){for(t.flags|=128,Bo(l,!1),i=h.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,h=l.alternate,h===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,e=h.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ze(st,st.current&1|2),t.child}e=e.sibling}l.tail!==null&&xt()>so&&(t.flags|=128,i=!0,Bo(l,!1),t.lanes=4194304)}else{if(!i)if(e=pc(h),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!rt)return Qt(t),null}else 2*xt()-l.renderingStartTime>so&&n!==1073741824&&(t.flags|=128,i=!0,Bo(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(n=l.last,n!==null?n.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=xt(),t.sibling=null,n=st.current,Ze(st,i?n&1|2:n&1),t):(Qt(t),null);case 22:case 23:return Yd(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Sn&1073741824&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function av(e,t){switch(bd(t),t.tag){case 1:return gn(t.type)&&ac(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ro(),tt(pn),tt($t),Pd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ld(t),null;case 13:if(tt(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));to()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tt(st),null;case 4:return ro(),null;case 10:return Od(t.type._context),null;case 22:case 23:return Yd(),null;case 24:return null;default:return null}}var ml=!1,Zt=!1,lv=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Us(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){pt(e,t,i)}else n.current=null}function Ah(e,t,n){try{n()}catch(i){pt(e,t,i)}}var up=!1;function cv(e,t){if(oh=rc,e=T2(),Td(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var h=0,p=-1,m=-1,g=0,w=0,C=e,S=null;t:for(;;){for(var _;C!==n||a!==0&&C.nodeType!==3||(p=h+a),C!==l||i!==0&&C.nodeType!==3||(m=h+i),C.nodeType===3&&(h+=C.nodeValue.length),(_=C.firstChild)!==null;)S=C,C=_;for(;;){if(C===e)break t;if(S===n&&++g===a&&(p=h),S===l&&++w===i&&(m=h),(_=C.nextSibling)!==null)break;C=S,S=C.parentNode}C=_}n=p===-1||m===-1?null:{start:p,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(ah={focusedElem:e,selectionRange:n},rc=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var O=R.memoizedProps,L=R.memoizedState,M=t.stateNode,N=M.getSnapshotBeforeUpdate(t.elementType===t.type?O:Jn(t.type,O),L);M.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(F){pt(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return R=up,up=!1,R}function ta(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&Ah(t,n,l)}a=a.next}while(a!==i)}}function Kc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Sh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ex(e){var t=e.alternate;t!==null&&(e.alternate=null,Ex(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vr],delete t[ya],delete t[uh],delete t[GE],delete t[XE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vx(e){return e.tag===5||e.tag===3||e.tag===4}function fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Th(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oc));else if(i!==4&&(e=e.child,e!==null))for(Th(e,t,n),e=e.sibling;e!==null;)Th(e,t,n),e=e.sibling}function Ih(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Ih(e,t,n),e=e.sibling;e!==null;)Ih(e,t,n),e=e.sibling}var Vt=null,er=!1;function si(e,t,n){for(n=n.child;n!==null;)Ax(e,t,n),n=n.sibling}function Ax(e,t,n){if(Tr&&typeof Tr.onCommitFiberUnmount=="function")try{Tr.onCommitFiberUnmount(Vc,n)}catch{}switch(n.tag){case 5:Zt||Us(n,t);case 6:var i=Vt,a=er;Vt=null,si(e,t,n),Vt=i,er=a,Vt!==null&&(er?(e=Vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(er?(e=Vt,n=n.stateNode,e.nodeType===8?of(e.parentNode,n):e.nodeType===1&&of(e,n),da(e)):of(Vt,n.stateNode));break;case 4:i=Vt,a=er,Vt=n.stateNode.containerInfo,er=!0,si(e,t,n),Vt=i,er=a;break;case 0:case 11:case 14:case 15:if(!Zt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var l=a,h=l.destroy;l=l.tag,h!==void 0&&(l&2||l&4)&&Ah(n,t,h),a=a.next}while(a!==i)}si(e,t,n);break;case 1:if(!Zt&&(Us(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(p){pt(n,t,p)}si(e,t,n);break;case 21:si(e,t,n);break;case 22:n.mode&1?(Zt=(i=Zt)||n.memoizedState!==null,si(e,t,n),Zt=i):si(e,t,n);break;default:si(e,t,n)}}function hp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new lv),t.forEach(function(i){var a=yv.bind(null,e,i);n.has(i)||(n.add(i),i.then(a,a))})}}function $n(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var l=e,h=t,p=h;e:for(;p!==null;){switch(p.tag){case 5:Vt=p.stateNode,er=!1;break e;case 3:Vt=p.stateNode.containerInfo,er=!0;break e;case 4:Vt=p.stateNode.containerInfo,er=!0;break e}p=p.return}if(Vt===null)throw Error(J(160));Ax(l,h,a),Vt=null,er=!1;var m=a.alternate;m!==null&&(m.return=null),a.return=null}catch(g){pt(a,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Sx(t,e),t=t.sibling}function Sx(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),yr(e),i&4){try{ta(3,e,e.return),Kc(3,e)}catch(O){pt(e,e.return,O)}try{ta(5,e,e.return)}catch(O){pt(e,e.return,O)}}break;case 1:$n(t,e),yr(e),i&512&&n!==null&&Us(n,n.return);break;case 5:if($n(t,e),yr(e),i&512&&n!==null&&Us(n,n.return),e.flags&32){var a=e.stateNode;try{ca(a,"")}catch(O){pt(e,e.return,O)}}if(i&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,h=n!==null?n.memoizedProps:l,p=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{p==="input"&&l.type==="radio"&&l.name!=null&&Xm(a,l),Zf(p,h);var g=Zf(p,l);for(h=0;h<m.length;h+=2){var w=m[h],C=m[h+1];w==="style"?qm(a,C):w==="dangerouslySetInnerHTML"?Km(a,C):w==="children"?ca(a,C):hd(a,w,C,g)}switch(p){case"input":Gf(a,l);break;case"textarea":Ym(a,l);break;case"select":var S=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var _=l.value;_!=null?Ys(a,!!l.multiple,_,!1):S!==!!l.multiple&&(l.defaultValue!=null?Ys(a,!!l.multiple,l.defaultValue,!0):Ys(a,!!l.multiple,l.multiple?[]:"",!1))}a[ya]=l}catch(O){pt(e,e.return,O)}}break;case 6:if($n(t,e),yr(e),i&4){if(e.stateNode===null)throw Error(J(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(O){pt(e,e.return,O)}}break;case 3:if($n(t,e),yr(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(O){pt(e,e.return,O)}break;case 4:$n(t,e),yr(e);break;case 13:$n(t,e),yr(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Gd=xt())),i&4&&hp(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(Zt=(g=Zt)||w,$n(t,e),Zt=g):$n(t,e),yr(e),i&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!w&&e.mode&1)for(ae=e,w=e.child;w!==null;){for(C=ae=w;ae!==null;){switch(S=ae,_=S.child,S.tag){case 0:case 11:case 14:case 15:ta(4,S,S.return);break;case 1:Us(S,S.return);var R=S.stateNode;if(typeof R.componentWillUnmount=="function"){i=S,n=S.return;try{t=i,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(O){pt(i,n,O)}}break;case 5:Us(S,S.return);break;case 22:if(S.memoizedState!==null){pp(C);continue}}_!==null?(_.return=S,ae=_):pp(C)}w=w.sibling}e:for(w=null,C=e;;){if(C.tag===5){if(w===null){w=C;try{a=C.stateNode,g?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(p=C.stateNode,m=C.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null,p.style.display=Zm("display",h))}catch(O){pt(e,e.return,O)}}}else if(C.tag===6){if(w===null)try{C.stateNode.nodeValue=g?"":C.memoizedProps}catch(O){pt(e,e.return,O)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;w===C&&(w=null),C=C.return}w===C&&(w=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:$n(t,e),yr(e),i&4&&hp(e);break;case 21:break;default:$n(t,e),yr(e)}}function yr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vx(n)){var i=n;break e}n=n.return}throw Error(J(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(ca(a,""),i.flags&=-33);var l=fp(e);Ih(e,l,a);break;case 3:case 4:var h=i.stateNode.containerInfo,p=fp(e);Th(e,p,h);break;default:throw Error(J(161))}}catch(m){pt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uv(e,t,n){ae=e,Tx(e)}function Tx(e,t,n){for(var i=(e.mode&1)!==0;ae!==null;){var a=ae,l=a.child;if(a.tag===22&&i){var h=a.memoizedState!==null||ml;if(!h){var p=a.alternate,m=p!==null&&p.memoizedState!==null||Zt;p=ml;var g=Zt;if(ml=h,(Zt=m)&&!g)for(ae=a;ae!==null;)h=ae,m=h.child,h.tag===22&&h.memoizedState!==null?gp(a):m!==null?(m.return=h,ae=m):gp(a);for(;l!==null;)ae=l,Tx(l),l=l.sibling;ae=a,ml=p,Zt=g}dp(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,ae=l):dp(e)}}function dp(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Zt||Kc(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Zt)if(n===null)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Jn(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&q1(t,l,i);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}q1(t,h,n)}break;case 5:var p=t.stateNode;if(n===null&&t.flags&4){n=p;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var w=g.memoizedState;if(w!==null){var C=w.dehydrated;C!==null&&da(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Zt||t.flags&512&&Sh(t)}catch(S){pt(t,t.return,S)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function pp(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function gp(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Kc(4,t)}catch(m){pt(t,n,m)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(m){pt(t,a,m)}}var l=t.return;try{Sh(t)}catch(m){pt(t,l,m)}break;case 5:var h=t.return;try{Sh(t)}catch(m){pt(t,h,m)}}}catch(m){pt(t,t.return,m)}if(t===e){ae=null;break}var p=t.sibling;if(p!==null){p.return=t.return,ae=p;break}ae=t.return}}var fv=Math.ceil,xc=qr.ReactCurrentDispatcher,Hd=qr.ReactCurrentOwner,Gn=qr.ReactCurrentBatchConfig,Le=0,Lt=null,vt=null,Ht=0,Sn=0,Vs=Pi(0),Ot=0,Sa=null,hs=0,Zc=0,Wd=0,na=null,hn=null,Gd=0,so=1/0,Pr=null,yc=!1,bh=null,vi=null,xl=!1,gi=null,wc=0,ra=0,Nh=null,Fl=-1,jl=0;function rn(){return Le&6?xt():Fl!==-1?Fl:Fl=xt()}function Ai(e){return e.mode&1?Le&2&&Ht!==0?Ht&-Ht:QE.transition!==null?(jl===0&&(jl=c2()),jl):(e=ze,e!==0||(e=window.event,e=e===void 0?16:m2(e.type)),e):1}function or(e,t,n,i){if(50<ra)throw ra=0,Nh=null,Error(J(185));Oa(e,n,i),(!(Le&2)||e!==Lt)&&(e===Lt&&(!(Le&2)&&(Zc|=n),Ot===4&&di(e,Ht)),mn(e,i),n===1&&Le===0&&!(t.mode&1)&&(so=xt()+500,Xc&&Bi()))}function mn(e,t){var n=e.callbackNode;Q3(e,t);var i=nc(e,e===Lt?Ht:0);if(i===0)n!==null&&S1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&S1(n),t===1)e.tag===0?YE(mp.bind(null,e)):L2(mp.bind(null,e)),HE(function(){!(Le&6)&&Bi()}),n=null;else{switch(u2(i)){case 1:n=xd;break;case 4:n=a2;break;case 16:n=tc;break;case 536870912:n=l2;break;default:n=tc}n=Dx(n,Ix.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ix(e,t){if(Fl=-1,jl=0,Le&6)throw Error(J(327));var n=e.callbackNode;if($s()&&e.callbackNode!==n)return null;var i=nc(e,e===Lt?Ht:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Cc(e,i);else{t=i;var a=Le;Le|=2;var l=Nx();(Lt!==e||Ht!==t)&&(Pr=null,so=xt()+500,as(e,t));do try{pv();break}catch(p){bx(e,p)}while(1);Rd(),xc.current=l,Le=a,vt!==null?t=0:(Lt=null,Ht=0,t=Ot)}if(t!==0){if(t===2&&(a=th(e),a!==0&&(i=a,t=_h(e,a))),t===1)throw n=Sa,as(e,0),di(e,i),mn(e,xt()),n;if(t===6)di(e,i);else{if(a=e.current.alternate,!(i&30)&&!hv(a)&&(t=Cc(e,i),t===2&&(l=th(e),l!==0&&(i=l,t=_h(e,l))),t===1))throw n=Sa,as(e,0),di(e,i),mn(e,xt()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(J(345));case 2:qi(e,hn,Pr);break;case 3:if(di(e,i),(i&130023424)===i&&(t=Gd+500-xt(),10<t)){if(nc(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){rn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ch(qi.bind(null,e,hn,Pr),t);break}qi(e,hn,Pr);break;case 4:if(di(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var h=31-sr(i);l=1<<h,h=t[h],h>a&&(a=h),i&=~l}if(i=a,i=xt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*fv(i/1960))-i,10<i){e.timeoutHandle=ch(qi.bind(null,e,hn,Pr),i);break}qi(e,hn,Pr);break;case 5:qi(e,hn,Pr);break;default:throw Error(J(329))}}}return mn(e,xt()),e.callbackNode===n?Ix.bind(null,e):null}function _h(e,t){var n=na;return e.current.memoizedState.isDehydrated&&(as(e,t).flags|=256),e=Cc(e,t),e!==2&&(t=hn,hn=n,t!==null&&Rh(t)),e}function Rh(e){hn===null?hn=e:hn.push.apply(hn,e)}function hv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],l=a.getSnapshot;a=a.value;try{if(!lr(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function di(e,t){for(t&=~Wd,t&=~Zc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-sr(t),i=1<<n;e[n]=-1,t&=~i}}function mp(e){if(Le&6)throw Error(J(327));$s();var t=nc(e,0);if(!(t&1))return mn(e,xt()),null;var n=Cc(e,t);if(e.tag!==0&&n===2){var i=th(e);i!==0&&(t=i,n=_h(e,i))}if(n===1)throw n=Sa,as(e,0),di(e,t),mn(e,xt()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qi(e,hn,Pr),mn(e,xt()),null}function Xd(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(so=xt()+500,Xc&&Bi())}}function ds(e){gi!==null&&gi.tag===0&&!(Le&6)&&$s();var t=Le;Le|=1;var n=Gn.transition,i=ze;try{if(Gn.transition=null,ze=1,e)return e()}finally{ze=i,Gn.transition=n,Le=t,!(Le&6)&&Bi()}}function Yd(){Sn=Vs.current,tt(Vs)}function as(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,zE(n)),vt!==null)for(n=vt.return;n!==null;){var i=n;switch(bd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ac();break;case 3:ro(),tt(pn),tt($t),Pd();break;case 5:Ld(i);break;case 4:ro();break;case 13:tt(st);break;case 19:tt(st);break;case 10:Od(i.type._context);break;case 22:case 23:Yd()}n=n.return}if(Lt=e,vt=e=Si(e.current,null),Ht=Sn=t,Ot=0,Sa=null,Wd=Zc=hs=0,hn=na=null,rs!==null){for(t=0;t<rs.length;t++)if(n=rs[t],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,l=n.pending;if(l!==null){var h=l.next;l.next=a,i.next=h}n.pending=i}rs=null}return e}function bx(e,t){do{var n=vt;try{if(Rd(),Ll.current=mc,gc){for(var i=at.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}gc=!1}if(fs=0,kt=Rt=at=null,ea=!1,Ea=0,Hd.current=null,n===null||n.return===null){Ot=1,Sa=t,vt=null;break}e:{var l=e,h=n.return,p=n,m=t;if(t=Ht,p.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var g=m,w=p,C=w.tag;if(!(w.mode&1)&&(C===0||C===11||C===15)){var S=w.alternate;S?(w.updateQueue=S.updateQueue,w.memoizedState=S.memoizedState,w.lanes=S.lanes):(w.updateQueue=null,w.memoizedState=null)}var _=rp(h);if(_!==null){_.flags&=-257,ip(_,h,p,l,t),_.mode&1&&np(l,g,t),t=_,m=g;var R=t.updateQueue;if(R===null){var O=new Set;O.add(m),t.updateQueue=O}else R.add(m);break e}else{if(!(t&1)){np(l,g,t),Qd();break e}m=Error(J(426))}}else if(rt&&p.mode&1){var L=rp(h);if(L!==null){!(L.flags&65536)&&(L.flags|=256),ip(L,h,p,l,t),Nd(io(m,p));break e}}l=m=io(m,p),Ot!==4&&(Ot=2),na===null?na=[l]:na.push(l),l=h;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var M=ux(l,m,t);Z1(l,M);break e;case 1:p=m;var N=l.type,b=l.stateNode;if(!(l.flags&128)&&(typeof N.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(vi===null||!vi.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t;var F=fx(l,p,t);Z1(l,F);break e}}l=l.return}while(l!==null)}Rx(n)}catch(Q){t=Q,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(1)}function Nx(){var e=xc.current;return xc.current=mc,e===null?mc:e}function Qd(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Lt===null||!(hs&268435455)&&!(Zc&268435455)||di(Lt,Ht)}function Cc(e,t){var n=Le;Le|=2;var i=Nx();(Lt!==e||Ht!==t)&&(Pr=null,as(e,t));do try{dv();break}catch(a){bx(e,a)}while(1);if(Rd(),Le=n,xc.current=i,vt!==null)throw Error(J(261));return Lt=null,Ht=0,Ot}function dv(){for(;vt!==null;)_x(vt)}function pv(){for(;vt!==null&&!j3();)_x(vt)}function _x(e){var t=Mx(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?Rx(e):vt=t,Hd.current=null}function Rx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=av(n,t),n!==null){n.flags&=32767,vt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,vt=null;return}}else if(n=ov(n,t,Sn),n!==null){vt=n;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);Ot===0&&(Ot=5)}function qi(e,t,n){var i=ze,a=Gn.transition;try{Gn.transition=null,ze=1,gv(e,t,n,i)}finally{Gn.transition=a,ze=i}return null}function gv(e,t,n,i){do $s();while(gi!==null);if(Le&6)throw Error(J(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(K3(e,l),e===Lt&&(vt=Lt=null,Ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xl||(xl=!0,Dx(tc,function(){return $s(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Gn.transition,Gn.transition=null;var h=ze;ze=1;var p=Le;Le|=4,Hd.current=null,cv(e,n),Sx(n,e),LE(ah),rc=!!oh,ah=oh=null,e.current=n,uv(n),U3(),Le=p,ze=h,Gn.transition=l}else e.current=n;if(xl&&(xl=!1,gi=e,wc=a),l=e.pendingLanes,l===0&&(vi=null),H3(n.stateNode),mn(e,xt()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(yc)throw yc=!1,e=bh,bh=null,e;return wc&1&&e.tag!==0&&$s(),l=e.pendingLanes,l&1?e===Nh?ra++:(ra=0,Nh=e):ra=0,Bi(),null}function $s(){if(gi!==null){var e=u2(wc),t=Gn.transition,n=ze;try{if(Gn.transition=null,ze=16>e?16:e,gi===null)var i=!1;else{if(e=gi,gi=null,wc=0,Le&6)throw Error(J(331));var a=Le;for(Le|=4,ae=e.current;ae!==null;){var l=ae,h=l.child;if(ae.flags&16){var p=l.deletions;if(p!==null){for(var m=0;m<p.length;m++){var g=p[m];for(ae=g;ae!==null;){var w=ae;switch(w.tag){case 0:case 11:case 15:ta(8,w,l)}var C=w.child;if(C!==null)C.return=w,ae=C;else for(;ae!==null;){w=ae;var S=w.sibling,_=w.return;if(Ex(w),w===g){ae=null;break}if(S!==null){S.return=_,ae=S;break}ae=_}}}var R=l.alternate;if(R!==null){var O=R.child;if(O!==null){R.child=null;do{var L=O.sibling;O.sibling=null,O=L}while(O!==null)}}ae=l}}if(l.subtreeFlags&2064&&h!==null)h.return=l,ae=h;else e:for(;ae!==null;){if(l=ae,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ta(9,l,l.return)}var M=l.sibling;if(M!==null){M.return=l.return,ae=M;break e}ae=l.return}}var N=e.current;for(ae=N;ae!==null;){h=ae;var b=h.child;if(h.subtreeFlags&2064&&b!==null)b.return=h,ae=b;else e:for(h=N;ae!==null;){if(p=ae,p.flags&2048)try{switch(p.tag){case 0:case 11:case 15:Kc(9,p)}}catch(Q){pt(p,p.return,Q)}if(p===h){ae=null;break e}var F=p.sibling;if(F!==null){F.return=p.return,ae=F;break e}ae=p.return}}if(Le=a,Bi(),Tr&&typeof Tr.onPostCommitFiberRoot=="function")try{Tr.onPostCommitFiberRoot(Vc,e)}catch{}i=!0}return i}finally{ze=n,Gn.transition=t}}return!1}function xp(e,t,n){t=io(n,t),t=ux(e,t,1),e=Ei(e,t,1),t=rn(),e!==null&&(Oa(e,1,t),mn(e,t))}function pt(e,t,n){if(e.tag===3)xp(e,e,n);else for(;t!==null;){if(t.tag===3){xp(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(vi===null||!vi.has(i))){e=io(n,e),e=fx(t,e,1),t=Ei(t,e,1),e=rn(),t!==null&&(Oa(t,1,e),mn(t,e));break}}t=t.return}}function mv(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=rn(),e.pingedLanes|=e.suspendedLanes&n,Lt===e&&(Ht&n)===n&&(Ot===4||Ot===3&&(Ht&130023424)===Ht&&500>xt()-Gd?as(e,0):Wd|=n),mn(e,t)}function Ox(e,t){t===0&&(e.mode&1?(t=al,al<<=1,!(al&130023424)&&(al=4194304)):t=1);var n=rn();e=Qr(e,t),e!==null&&(Oa(e,t,n),mn(e,n))}function xv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ox(e,n)}function yv(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(J(314))}i!==null&&i.delete(t),Ox(e,n)}var Mx;Mx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||pn.current)dn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return dn=!1,sv(e,t,n);dn=!!(e.flags&131072)}else dn=!1,rt&&t.flags&1048576&&P2(t,uc,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Bl(e,t),e=t.pendingProps;var a=eo(t,$t.current);qs(t,n),a=Fd(null,t,i,e,a,n);var l=jd();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gn(i)?(l=!0,lc(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Dd(t),a.updater=Qc,t.stateNode=a,a._reactInternals=t,mh(t,i,e,n),t=wh(null,t,i,!0,l,n)):(t.tag=0,rt&&l&&Id(t),nn(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=Cv(i),e=Jn(i,e),a){case 0:t=yh(null,t,i,e,n);break e;case 1:t=ap(null,t,i,e,n);break e;case 11:t=sp(null,t,i,e,n);break e;case 14:t=op(null,t,i,Jn(i.type,e),n);break e}throw Error(J(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Jn(i,a),yh(e,t,i,a,n);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Jn(i,a),ap(e,t,i,a,n);case 3:e:{if(gx(t),e===null)throw Error(J(387));i=t.pendingProps,l=t.memoizedState,a=l.element,z2(e,t),dc(t,i,null,n);var h=t.memoizedState;if(i=h.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=io(Error(J(423)),t),t=lp(e,t,i,n,a);break e}else if(i!==a){a=io(Error(J(424)),t),t=lp(e,t,i,n,a);break e}else for(In=Ci(t.stateNode.containerInfo.firstChild),bn=t,rt=!0,rr=null,n=U2(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(to(),i===a){t=Kr(e,t,n);break e}nn(e,t,i,n)}t=t.child}return t;case 5:return H2(t),e===null&&dh(t),i=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,h=a.children,lh(i,a)?h=null:l!==null&&lh(i,l)&&(t.flags|=32),px(e,t),nn(e,t,h,n),t.child;case 6:return e===null&&dh(t),null;case 13:return mx(e,t,n);case 4:return kd(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=no(t,null,i,n):nn(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Jn(i,a),sp(e,t,i,a,n);case 7:return nn(e,t,t.pendingProps,n),t.child;case 8:return nn(e,t,t.pendingProps.children,n),t.child;case 12:return nn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,l=t.memoizedProps,h=a.value,Ze(fc,i._currentValue),i._currentValue=h,l!==null)if(lr(l.value,h)){if(l.children===a.children&&!pn.current){t=Kr(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var p=l.dependencies;if(p!==null){h=l.child;for(var m=p.firstContext;m!==null;){if(m.context===i){if(l.tag===1){m=Hr(-1,n&-n),m.tag=2;var g=l.updateQueue;if(g!==null){g=g.shared;var w=g.pending;w===null?m.next=m:(m.next=w.next,w.next=m),g.pending=m}}l.lanes|=n,m=l.alternate,m!==null&&(m.lanes|=n),ph(l.return,n,t),p.lanes|=n;break}m=m.next}}else if(l.tag===10)h=l.type===t.type?null:l.child;else if(l.tag===18){if(h=l.return,h===null)throw Error(J(341));h.lanes|=n,p=h.alternate,p!==null&&(p.lanes|=n),ph(h,n,t),h=l.sibling}else h=l.child;if(h!==null)h.return=l;else for(h=l;h!==null;){if(h===t){h=null;break}if(l=h.sibling,l!==null){l.return=h.return,h=l;break}h=h.return}l=h}nn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,qs(t,n),a=Xn(a),i=i(a),t.flags|=1,nn(e,t,i,n),t.child;case 14:return i=t.type,a=Jn(i,t.pendingProps),a=Jn(i.type,a),op(e,t,i,a,n);case 15:return hx(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:Jn(i,a),Bl(e,t),t.tag=1,gn(i)?(e=!0,lc(t)):e=!1,qs(t,n),cx(t,i,a),mh(t,i,a,n),wh(null,t,i,!0,e,n);case 19:return xx(e,t,n);case 22:return dx(e,t,n)}throw Error(J(156,t.tag))};function Dx(e,t){return o2(e,t)}function wv(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,n,i){return new wv(e,t,n,i)}function Kd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cv(e){if(typeof e=="function")return Kd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pd)return 11;if(e===gd)return 14}return 2}function Si(e,t){var n=e.alternate;return n===null?(n=Wn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ul(e,t,n,i,a,l){var h=2;if(i=e,typeof e=="function")Kd(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Os:return ls(n.children,a,l,t);case dd:h=8,a|=8;break;case Uf:return e=Wn(12,n,t,a|2),e.elementType=Uf,e.lanes=l,e;case Vf:return e=Wn(13,n,t,a),e.elementType=Vf,e.lanes=l,e;case zf:return e=Wn(19,n,t,a),e.elementType=zf,e.lanes=l,e;case Hm:return qc(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vm:h=10;break e;case zm:h=9;break e;case pd:h=11;break e;case gd:h=14;break e;case ci:h=16,i=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Wn(h,n,t,a),t.elementType=e,t.type=i,t.lanes=l,t}function ls(e,t,n,i){return e=Wn(7,e,i,t),e.lanes=n,e}function qc(e,t,n,i){return e=Wn(22,e,i,t),e.elementType=Hm,e.lanes=n,e.stateNode={isHidden:!1},e}function pf(e,t,n){return e=Wn(6,e,null,t),e.lanes=n,e}function gf(e,t,n){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ev(e,t,n,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qu(0),this.expirationTimes=Qu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qu(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Zd(e,t,n,i,a,l,h,p,m){return e=new Ev(e,t,n,p,m),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Wn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(l),e}function vv(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rs,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function kx(e){if(!e)return Ri;e=e._reactInternals;e:{if(ms(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(gn(n))return k2(e,n,t)}return t}function Lx(e,t,n,i,a,l,h,p,m){return e=Zd(n,i,!0,e,a,l,h,p,m),e.context=kx(null),n=e.current,i=rn(),a=Ai(n),l=Hr(i,a),l.callback=t??null,Ei(n,l,a),e.current.lanes=a,Oa(e,a,i),mn(e,i),e}function $c(e,t,n,i){var a=t.current,l=rn(),h=Ai(a);return n=kx(n),t.context===null?t.context=n:t.pendingContext=n,t=Hr(l,h),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Ei(a,t,h),e!==null&&(or(e,a,h,l),kl(e,a,h)),h}function Ec(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qd(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function Av(){return null}var Px=typeof reportError=="function"?reportError:function(e){console.error(e)};function $d(e){this._internalRoot=e}Jc.prototype.render=$d.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));$c(e,t,null,null)};Jc.prototype.unmount=$d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ds(function(){$c(null,e,null,null)}),t[Yr]=null}};function Jc(e){this._internalRoot=e}Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=d2();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hi.length&&t!==0&&t<hi[n].priority;n++);hi.splice(n,0,e),n===0&&g2(e)}};function Jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function eu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wp(){}function Sv(e,t,n,i,a){if(a){if(typeof i=="function"){var l=i;i=function(){var g=Ec(h);l.call(g)}}var h=Lx(t,i,e,0,null,!1,!1,"",wp);return e._reactRootContainer=h,e[Yr]=h.current,ma(e.nodeType===8?e.parentNode:e),ds(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var p=i;i=function(){var g=Ec(m);p.call(g)}}var m=Zd(e,0,!1,null,null,!1,!1,"",wp);return e._reactRootContainer=m,e[Yr]=m.current,ma(e.nodeType===8?e.parentNode:e),ds(function(){$c(t,m,n,i)}),m}function tu(e,t,n,i,a){var l=n._reactRootContainer;if(l){var h=l;if(typeof a=="function"){var p=a;a=function(){var m=Ec(h);p.call(m)}}$c(t,h,e,a)}else h=Sv(n,t,e,a,i);return Ec(h)}f2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Go(t.pendingLanes);n!==0&&(yd(t,n|1),mn(t,xt()),!(Le&6)&&(so=xt()+500,Bi()))}break;case 13:ds(function(){var i=Qr(e,1);if(i!==null){var a=rn();or(i,e,1,a)}}),qd(e,1)}};wd=function(e){if(e.tag===13){var t=Qr(e,134217728);if(t!==null){var n=rn();or(t,e,134217728,n)}qd(e,134217728)}};h2=function(e){if(e.tag===13){var t=Ai(e),n=Qr(e,t);if(n!==null){var i=rn();or(n,e,t,i)}qd(e,t)}};d2=function(){return ze};p2=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}};$f=function(e,t,n){switch(t){case"input":if(Gf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=Gc(i);if(!a)throw Error(J(90));Gm(i),Gf(i,a)}}}break;case"textarea":Ym(e,n);break;case"select":t=n.value,t!=null&&Ys(e,!!n.multiple,t,!1)}};e2=Xd;t2=ds;var Tv={usingClientEntryPoint:!1,Events:[Da,Ls,Gc,$m,Jm,Xd]},Fo={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iv={bundleType:Fo.bundleType,version:Fo.version,rendererPackageName:Fo.rendererPackageName,rendererConfig:Fo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=i2(e),e===null?null:e.stateNode},findFiberByHostInstance:Fo.findFiberByHostInstance||Av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Vc=yl.inject(Iv),Tr=yl}catch{}}Rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tv;Rn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(t))throw Error(J(200));return vv(e,t,null,n)};Rn.createRoot=function(e,t){if(!Jd(e))throw Error(J(299));var n=!1,i="",a=Px;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Zd(e,1,!1,null,null,n,!1,i,a),e[Yr]=t.current,ma(e.nodeType===8?e.parentNode:e),new $d(t)};Rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=i2(t),e=e===null?null:e.stateNode,e};Rn.flushSync=function(e){return ds(e)};Rn.hydrate=function(e,t,n){if(!eu(t))throw Error(J(200));return tu(null,e,t,!0,n)};Rn.hydrateRoot=function(e,t,n){if(!Jd(e))throw Error(J(405));var i=n!=null&&n.hydratedSources||null,a=!1,l="",h=Px;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Lx(t,null,e,1,n??null,a,!1,l,h),e[Yr]=t.current,ma(e),i)for(e=0;e<i.length;e++)n=i[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Jc(t)};Rn.render=function(e,t,n){if(!eu(t))throw Error(J(200));return tu(null,e,t,!1,n)};Rn.unmountComponentAtNode=function(e){if(!eu(e))throw Error(J(40));return e._reactRootContainer?(ds(function(){tu(null,null,e,!1,function(){e._reactRootContainer=null,e[Yr]=null})}),!0):!1};Rn.unstable_batchedUpdates=Xd;Rn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!eu(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return tu(e,t,n,!1,i)};Rn.version="18.3.1-next-f1338f8080-20240426";function Bx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bx)}catch(e){console.error(e)}}Bx(),Bm.exports=Rn;var bv=Bm.exports,Cp=bv;Ff.createRoot=Cp.createRoot,Ff.hydrateRoot=Cp.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ta.apply(this,arguments)}var mi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mi||(mi={}));const Ep="popstate";function Nv(e){e===void 0&&(e={});function t(i,a){let{pathname:l,search:h,hash:p}=i.location;return Oh("",{pathname:l,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:vc(a)}return Rv(t,n,null,e)}function yt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function e0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _v(){return Math.random().toString(36).substr(2,8)}function vp(e,t){return{usr:e.state,key:e.key,idx:t}}function Oh(e,t,n,i){return n===void 0&&(n=null),Ta({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ho(t):t,{state:n,key:t&&t.key||i||_v()})}function vc(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ho(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function Rv(e,t,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:l=!1}=i,h=a.history,p=mi.Pop,m=null,g=w();g==null&&(g=0,h.replaceState(Ta({},h.state,{idx:g}),""));function w(){return(h.state||{idx:null}).idx}function C(){p=mi.Pop;let L=w(),M=L==null?null:L-g;g=L,m&&m({action:p,location:O.location,delta:M})}function S(L,M){p=mi.Push;let N=Oh(O.location,L,M);n&&n(N,L),g=w()+1;let b=vp(N,g),F=O.createHref(N);try{h.pushState(b,"",F)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(F)}l&&m&&m({action:p,location:O.location,delta:1})}function _(L,M){p=mi.Replace;let N=Oh(O.location,L,M);n&&n(N,L),g=w();let b=vp(N,g),F=O.createHref(N);h.replaceState(b,"",F),l&&m&&m({action:p,location:O.location,delta:0})}function R(L){let M=a.location.origin!=="null"?a.location.origin:a.location.href,N=typeof L=="string"?L:vc(L);return N=N.replace(/ $/,"%20"),yt(M,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,M)}let O={get action(){return p},get location(){return e(a,h)},listen(L){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(Ep,C),m=L,()=>{a.removeEventListener(Ep,C),m=null}},createHref(L){return t(a,L)},createURL:R,encodeLocation(L){let M=R(L);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:_,go(L){return h.go(L)}};return O}var Ap;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ap||(Ap={}));function Ov(e,t,n){return n===void 0&&(n="/"),Mv(e,t,n,!1)}function Mv(e,t,n,i){let a=typeof t=="string"?ho(t):t,l=t0(a.pathname||"/",n);if(l==null)return null;let h=Fx(e);Dv(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let g=Wv(l);p=zv(h[m],g,i)}return p}function Fx(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(l,h,p)=>{let m={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};m.relativePath.startsWith("/")&&(yt(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let g=Ti([i,m.relativePath]),w=n.concat(m);l.children&&l.children.length>0&&(yt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Fx(l.children,t,w,g)),!(l.path==null&&!l.index)&&t.push({path:g,score:Uv(g,l.index),routesMeta:w})};return e.forEach((l,h)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))a(l,h);else for(let m of jx(l.path))a(l,h,m)}),t}function jx(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let h=jx(i.join("/")),p=[];return p.push(...h.map(m=>m===""?l:[l,m].join("/"))),a&&p.push(...h),p.map(m=>e.startsWith("/")&&m===""?"/":m)}function Dv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vv(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const kv=/^:[\w-]+$/,Lv=3,Pv=2,Bv=1,Fv=10,jv=-2,Sp=e=>e==="*";function Uv(e,t){let n=e.split("/"),i=n.length;return n.some(Sp)&&(i+=jv),t&&(i+=Pv),n.filter(a=>!Sp(a)).reduce((a,l)=>a+(kv.test(l)?Lv:l===""?Bv:Fv),i)}function Vv(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function zv(e,t,n){n===void 0&&(n=!1);let{routesMeta:i}=e,a={},l="/",h=[];for(let p=0;p<i.length;++p){let m=i[p],g=p===i.length-1,w=l==="/"?t:t.slice(l.length)||"/",C=Tp({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},w),S=m.route;if(!C&&g&&n&&!i[i.length-1].route.index&&(C=Tp({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!C)return null;Object.assign(a,C.params),h.push({params:a,pathname:Ti([l,C.pathname]),pathnameBase:Kv(Ti([l,C.pathnameBase])),route:S}),C.pathnameBase!=="/"&&(l=Ti([l,C.pathnameBase]))}return h}function Tp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=Hv(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],h=l.replace(/(.)\/+$/,"$1"),p=a.slice(1);return{params:i.reduce((g,w,C)=>{let{paramName:S,isOptional:_}=w;if(S==="*"){let O=p[C]||"";h=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const R=p[C];return _&&!R?g[S]=void 0:g[S]=(R||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:e}}function Hv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),e0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(i.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function Wv(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return e0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function t0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}const Gv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xv=e=>Gv.test(e);function Yv(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?ho(e):e,l;if(n)if(Xv(n))l=n;else{if(n.includes("//")){let h=n;n=n.replace(/\/\/+/g,"/"),e0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+n))}n.startsWith("/")?l=Ip(n.substring(1),"/"):l=Ip(n,t)}else l=t;return{pathname:l,search:Zv(i),hash:qv(a)}}function Ip(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function mf(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function n0(e,t){let n=Qv(e);return t?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function r0(e,t,n,i){i===void 0&&(i=!1);let a;typeof e=="string"?a=ho(e):(a=Ta({},e),yt(!a.pathname||!a.pathname.includes("?"),mf("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),mf("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),mf("#","search","hash",a)));let l=e===""||a.pathname==="",h=l?"/":a.pathname,p;if(h==null)p=n;else{let C=t.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),C-=1;a.pathname=S.join("/")}p=C>=0?t[C]:"/"}let m=Yv(a,p),g=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||w)&&(m.pathname+="/"),m}const Ti=e=>e.join("/").replace(/\/\/+/g,"/"),Kv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $v(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ux=["post","put","patch","delete"];new Set(Ux);const Jv=["get",...Ux];new Set(Jv);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ia.apply(this,arguments)}const i0=B.createContext(null),eA=B.createContext(null),Fi=B.createContext(null),nu=B.createContext(null),Rr=B.createContext({outlet:null,matches:[],isDataRoute:!1}),Vx=B.createContext(null);function tA(e,t){let{relative:n}=t===void 0?{}:t;po()||yt(!1);let{basename:i,navigator:a}=B.useContext(Fi),{hash:l,pathname:h,search:p}=Wx(e,{relative:n}),m=h;return i!=="/"&&(m=h==="/"?i:Ti([i,h])),a.createHref({pathname:m,search:p,hash:l})}function po(){return B.useContext(nu)!=null}function La(){return po()||yt(!1),B.useContext(nu).location}function zx(e){B.useContext(Fi).static||B.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=B.useContext(Rr);return e?mA():nA()}function nA(){po()||yt(!1);let e=B.useContext(i0),{basename:t,future:n,navigator:i}=B.useContext(Fi),{matches:a}=B.useContext(Rr),{pathname:l}=La(),h=JSON.stringify(n0(a,n.v7_relativeSplatPath)),p=B.useRef(!1);return zx(()=>{p.current=!0}),B.useCallback(function(g,w){if(w===void 0&&(w={}),!p.current)return;if(typeof g=="number"){i.go(g);return}let C=r0(g,JSON.parse(h),l,w.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:Ti([t,C.pathname])),(w.replace?i.replace:i.push)(C,w.state,w)},[t,i,h,l,e])}const rA=B.createContext(null);function iA(e){let t=B.useContext(Rr).outlet;return t&&B.createElement(rA.Provider,{value:e},t)}function Hx(){let{matches:e}=B.useContext(Rr),t=e[e.length-1];return t?t.params:{}}function Wx(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=B.useContext(Fi),{matches:a}=B.useContext(Rr),{pathname:l}=La(),h=JSON.stringify(n0(a,i.v7_relativeSplatPath));return B.useMemo(()=>r0(e,JSON.parse(h),l,n==="path"),[e,h,l,n])}function sA(e,t){return oA(e,t)}function oA(e,t,n,i){po()||yt(!1);let{navigator:a}=B.useContext(Fi),{matches:l}=B.useContext(Rr),h=l[l.length-1],p=h?h.params:{};h&&h.pathname;let m=h?h.pathnameBase:"/";h&&h.route;let g=La(),w;if(t){var C;let L=typeof t=="string"?ho(t):t;m==="/"||(C=L.pathname)!=null&&C.startsWith(m)||yt(!1),w=L}else w=g;let S=w.pathname||"/",_=S;if(m!=="/"){let L=m.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let R=Ov(e,{pathname:_}),O=fA(R&&R.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:Ti([m,a.encodeLocation?a.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?m:Ti([m,a.encodeLocation?a.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,n,i);return t&&O?B.createElement(nu.Provider,{value:{location:Ia({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:mi.Pop}},O):O}function aA(){let e=gA(),t=$v(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:a},n):null,l)}const lA=B.createElement(aA,null);class cA extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?B.createElement(Rr.Provider,{value:this.props.routeContext},B.createElement(Vx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uA(e){let{routeContext:t,match:n,children:i}=e,a=B.useContext(i0);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Rr.Provider,{value:t},i)}function fA(e,t,n,i){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let h=e,p=(a=n)==null?void 0:a.errors;if(p!=null){let w=h.findIndex(C=>C.route.id&&(p==null?void 0:p[C.route.id])!==void 0);w>=0||yt(!1),h=h.slice(0,Math.min(h.length,w+1))}let m=!1,g=-1;if(n&&i&&i.v7_partialHydration)for(let w=0;w<h.length;w++){let C=h[w];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(g=w),C.route.id){let{loaderData:S,errors:_}=n,R=C.route.loader&&S[C.route.id]===void 0&&(!_||_[C.route.id]===void 0);if(C.route.lazy||R){m=!0,g>=0?h=h.slice(0,g+1):h=[h[0]];break}}}return h.reduceRight((w,C,S)=>{let _,R=!1,O=null,L=null;n&&(_=p&&C.route.id?p[C.route.id]:void 0,O=C.route.errorElement||lA,m&&(g<0&&S===0?(xA("route-fallback",!1),R=!0,L=null):g===S&&(R=!0,L=C.route.hydrateFallbackElement||null)));let M=t.concat(h.slice(0,S+1)),N=()=>{let b;return _?b=O:R?b=L:C.route.Component?b=B.createElement(C.route.Component,null):C.route.element?b=C.route.element:b=w,B.createElement(uA,{match:C,routeContext:{outlet:w,matches:M,isDataRoute:n!=null},children:b})};return n&&(C.route.ErrorBoundary||C.route.errorElement||S===0)?B.createElement(cA,{location:n.location,revalidation:n.revalidation,component:O,error:_,children:N(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):N()},null)}var Gx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gx||{}),Ac=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ac||{});function hA(e){let t=B.useContext(i0);return t||yt(!1),t}function dA(e){let t=B.useContext(eA);return t||yt(!1),t}function pA(e){let t=B.useContext(Rr);return t||yt(!1),t}function Xx(e){let t=pA(),n=t.matches[t.matches.length-1];return n.route.id||yt(!1),n.route.id}function gA(){var e;let t=B.useContext(Vx),n=dA(Ac.UseRouteError),i=Xx(Ac.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function mA(){let{router:e}=hA(Gx.UseNavigateStable),t=Xx(Ac.UseNavigateStable),n=B.useRef(!1);return zx(()=>{n.current=!0}),B.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Ia({fromRouteId:t},l)))},[e,t])}const bp={};function xA(e,t,n){!t&&!bp[e]&&(bp[e]=!0)}function yA(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ts(e){let{to:t,replace:n,state:i,relative:a}=e;po()||yt(!1);let{future:l,static:h}=B.useContext(Fi),{matches:p}=B.useContext(Rr),{pathname:m}=La(),g=Or(),w=r0(t,n0(p,l.v7_relativeSplatPath),m,a==="path"),C=JSON.stringify(w);return B.useEffect(()=>g(JSON.parse(C),{replace:n,state:i,relative:a}),[g,C,a,n,i]),null}function wA(e){return iA(e.context)}function En(e){yt(!1)}function CA(e){let{basename:t="/",children:n=null,location:i,navigationType:a=mi.Pop,navigator:l,static:h=!1,future:p}=e;po()&&yt(!1);let m=t.replace(/^\/*/,"/"),g=B.useMemo(()=>({basename:m,navigator:l,static:h,future:Ia({v7_relativeSplatPath:!1},p)}),[m,p,l,h]);typeof i=="string"&&(i=ho(i));let{pathname:w="/",search:C="",hash:S="",state:_=null,key:R="default"}=i,O=B.useMemo(()=>{let L=t0(w,m);return L==null?null:{location:{pathname:L,search:C,hash:S,state:_,key:R},navigationType:a}},[m,w,C,S,_,R,a]);return O==null?null:B.createElement(Fi.Provider,{value:g},B.createElement(nu.Provider,{children:n,value:O}))}function wl(e){let{children:t,location:n}=e;return sA(Mh(t),n)}new Promise(()=>{});function Mh(e,t){t===void 0&&(t=[]);let n=[];return B.Children.forEach(e,(i,a)=>{if(!B.isValidElement(i))return;let l=[...t,a];if(i.type===B.Fragment){n.push.apply(n,Mh(i.props.children,l));return}i.type!==En&&yt(!1),!i.props.index||!i.props.children||yt(!1);let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Mh(i.props.children,l)),n.push(h)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dh(){return Dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Dh.apply(this,arguments)}function EA(e,t){if(e==null)return{};var n={},i=Object.keys(e),a,l;for(l=0;l<i.length;l++)a=i[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function vA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function AA(e,t){return e.button===0&&(!t||t==="_self")&&!vA(e)}const SA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],TA="6";try{window.__reactRouterVersion=TA}catch{}const IA="startTransition",Np=m3[IA];function bA(e){let{basename:t,children:n,future:i,window:a}=e,l=B.useRef();l.current==null&&(l.current=Nv({window:a,v5Compat:!0}));let h=l.current,[p,m]=B.useState({action:h.action,location:h.location}),{v7_startTransition:g}=i||{},w=B.useCallback(C=>{g&&Np?Np(()=>m(C)):m(C)},[m,g]);return B.useLayoutEffect(()=>h.listen(w),[h,w]),B.useEffect(()=>yA(i),[i]),B.createElement(CA,{basename:t,children:n,location:p.location,navigationType:p.action,navigator:h,future:i})}const NA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yx=B.forwardRef(function(t,n){let{onClick:i,relative:a,reloadDocument:l,replace:h,state:p,target:m,to:g,preventScrollReset:w,viewTransition:C}=t,S=EA(t,SA),{basename:_}=B.useContext(Fi),R,O=!1;if(typeof g=="string"&&_A.test(g)&&(R=g,NA))try{let b=new URL(window.location.href),F=g.startsWith("//")?new URL(b.protocol+g):new URL(g),Q=t0(F.pathname,_);F.origin===b.origin&&Q!=null?g=Q+F.search+F.hash:O=!0}catch{}let L=tA(g,{relative:a}),M=RA(g,{replace:h,state:p,target:m,preventScrollReset:w,relative:a,viewTransition:C});function N(b){i&&i(b),b.defaultPrevented||M(b)}return B.createElement("a",Dh({},S,{href:R||L,onClick:O||l?i:N,ref:n,target:m}))});var _p;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_p||(_p={}));var Rp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rp||(Rp={}));function RA(e,t){let{target:n,replace:i,state:a,preventScrollReset:l,relative:h,viewTransition:p}=t===void 0?{}:t,m=Or(),g=La(),w=Wx(e,{relative:h});return B.useCallback(C=>{if(AA(C,n)){C.preventDefault();let S=i!==void 0?i:vc(g)===vc(w);m(e,{replace:S,state:a,preventScrollReset:l,relative:h,viewTransition:p})}},[g,m,w,i,a,n,e,l,h,p])}function kh(e){this.message=e}kh.prototype=new Error,kh.prototype.name="InvalidCharacterError";var Op=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new kh("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,a=0,l=0,h="";i=t.charAt(l++);~i&&(n=a%4?64*n+i:i,a++%4)?h+=String.fromCharCode(255&n>>(-2*a&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return h};function OA(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(Op(n).replace(/(.)/g,function(i,a){var l=a.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}(t)}catch{return Op(t)}}function Sc(e){this.message=e}function Mp(e,t){if(typeof e!="string")throw new Sc("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(OA(e.split(".")[n]))}catch(i){throw new Sc("Invalid token specified: "+i.message)}}Sc.prototype=new Error,Sc.prototype.name="InvalidTokenError";const ji=B.createContext(),MA=e=>{if(typeof document>"u")return null;const n=`; ${document.cookie}`.split(`; ${e}=`);return n.length===2?n.pop().split(";").shift():null},DA=(e,t,n=30)=>{if(typeof document>"u")return;const i=n*24*60*60;document.cookie=`${e}=${encodeURIComponent(t)}; path=/; max-age=${i}`},xf=e=>{typeof document>"u"||(document.cookie=`${e}=; path=/; max-age=0`)},kA=({children:e})=>{const[t,n]=B.useState(null),[i,a]=B.useState(!0);B.useEffect(()=>{const p=localStorage.getItem("token"),m=MA("user");let g=null;if(m)try{g=JSON.parse(decodeURIComponent(m))}catch{g=null}if(p)try{const w=Mp(p);w.exp*1e3<Date.now()?(localStorage.removeItem("token"),xf("user"),n(null)):n({...w,...g})}catch{localStorage.removeItem("token"),xf("user"),n(null)}else g&&n(g);a(!1)},[]);const l=(p,m)=>{localStorage.setItem("token",p);const{name:g,email:w,role:C,_id:S}=m||{},_={name:g,email:w,role:C,_id:S};DA("user",JSON.stringify(_));const R=Mp(p);n({...R,..._})},h=()=>{localStorage.removeItem("token"),xf("user"),n(null)};return T.jsx(ji.Provider,{value:{user:t,login:l,logout:h,loading:i},children:!i&&e})};function Qx(e,t){return function(){return e.apply(t,arguments)}}const{toString:LA}=Object.prototype,{getPrototypeOf:s0}=Object,{iterator:ru,toStringTag:Kx}=Symbol,iu=(e=>t=>{const n=LA.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),cr=e=>(e=e.toLowerCase(),t=>iu(t)===e),su=e=>t=>typeof t===e,{isArray:go}=Array,oo=su("undefined");function Pa(e){return e!==null&&!oo(e)&&e.constructor!==null&&!oo(e.constructor)&&xn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Zx=cr("ArrayBuffer");function PA(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Zx(e.buffer),t}const BA=su("string"),xn=su("function"),qx=su("number"),Ba=e=>e!==null&&typeof e=="object",FA=e=>e===!0||e===!1,Vl=e=>{if(iu(e)!=="object")return!1;const t=s0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Kx in e)&&!(ru in e)},jA=e=>{if(!Ba(e)||Pa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},UA=cr("Date"),VA=cr("File"),zA=cr("Blob"),HA=cr("FileList"),WA=e=>Ba(e)&&xn(e.pipe),GA=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xn(e.append)&&((t=iu(e))==="formdata"||t==="object"&&xn(e.toString)&&e.toString()==="[object FormData]"))},XA=cr("URLSearchParams"),[YA,QA,KA,ZA]=["ReadableStream","Request","Response","Headers"].map(cr),qA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Fa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,a;if(typeof e!="object"&&(e=[e]),go(e))for(i=0,a=e.length;i<a;i++)t.call(null,e[i],i,e);else{if(Pa(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),h=l.length;let p;for(i=0;i<h;i++)p=l[i],t.call(null,e[p],p,e)}}function $x(e,t){if(Pa(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i=n.length,a;for(;i-- >0;)if(a=n[i],t===a.toLowerCase())return a;return null}const ss=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Jx=e=>!oo(e)&&e!==ss;function Lh(){const{caseless:e,skipUndefined:t}=Jx(this)&&this||{},n={},i=(a,l)=>{const h=e&&$x(n,l)||l;Vl(n[h])&&Vl(a)?n[h]=Lh(n[h],a):Vl(a)?n[h]=Lh({},a):go(a)?n[h]=a.slice():(!t||!oo(a))&&(n[h]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&Fa(arguments[a],i);return n}const $A=(e,t,n,{allOwnKeys:i}={})=>(Fa(t,(a,l)=>{n&&xn(a)?e[l]=Qx(a,n):e[l]=a},{allOwnKeys:i}),e),JA=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),e4=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},t4=(e,t,n,i)=>{let a,l,h;const p={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)h=a[l],(!i||i(h,e,t))&&!p[h]&&(t[h]=e[h],p[h]=!0);e=n!==!1&&s0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},n4=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},r4=e=>{if(!e)return null;if(go(e))return e;let t=e.length;if(!qx(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},i4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&s0(Uint8Array)),s4=(e,t)=>{const i=(e&&e[ru]).call(e);let a;for(;(a=i.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},o4=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},a4=cr("HTMLFormElement"),l4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),Dp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),c4=cr("RegExp"),ey=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Fa(n,(a,l)=>{let h;(h=t(a,l,e))!==!1&&(i[l]=h||a)}),Object.defineProperties(e,i)},u4=e=>{ey(e,(t,n)=>{if(xn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(xn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},f4=(e,t)=>{const n={},i=a=>{a.forEach(l=>{n[l]=!0})};return go(e)?i(e):i(String(e).split(t)),n},h4=()=>{},d4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function p4(e){return!!(e&&xn(e.append)&&e[Kx]==="FormData"&&e[ru])}const g4=e=>{const t=new Array(10),n=(i,a)=>{if(Ba(i)){if(t.indexOf(i)>=0)return;if(Pa(i))return i;if(!("toJSON"in i)){t[a]=i;const l=go(i)?[]:{};return Fa(i,(h,p)=>{const m=n(h,a+1);!oo(m)&&(l[p]=m)}),t[a]=void 0,l}}return i};return n(e,0)},m4=cr("AsyncFunction"),x4=e=>e&&(Ba(e)||xn(e))&&xn(e.then)&&xn(e.catch),ty=((e,t)=>e?setImmediate:t?((n,i)=>(ss.addEventListener("message",({source:a,data:l})=>{a===ss&&l===n&&i.length&&i.shift()()},!1),a=>{i.push(a),ss.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",xn(ss.postMessage)),y4=typeof queueMicrotask<"u"?queueMicrotask.bind(ss):typeof process<"u"&&process.nextTick||ty,w4=e=>e!=null&&xn(e[ru]),W={isArray:go,isArrayBuffer:Zx,isBuffer:Pa,isFormData:GA,isArrayBufferView:PA,isString:BA,isNumber:qx,isBoolean:FA,isObject:Ba,isPlainObject:Vl,isEmptyObject:jA,isReadableStream:YA,isRequest:QA,isResponse:KA,isHeaders:ZA,isUndefined:oo,isDate:UA,isFile:VA,isBlob:zA,isRegExp:c4,isFunction:xn,isStream:WA,isURLSearchParams:XA,isTypedArray:i4,isFileList:HA,forEach:Fa,merge:Lh,extend:$A,trim:qA,stripBOM:JA,inherits:e4,toFlatObject:t4,kindOf:iu,kindOfTest:cr,endsWith:n4,toArray:r4,forEachEntry:s4,matchAll:o4,isHTMLForm:a4,hasOwnProperty:Dp,hasOwnProp:Dp,reduceDescriptors:ey,freezeMethods:u4,toObjectSet:f4,toCamelCase:l4,noop:h4,toFiniteNumber:d4,findKey:$x,global:ss,isContextDefined:Jx,isSpecCompliantForm:p4,toJSONObject:g4,isAsyncFn:m4,isThenable:x4,setImmediate:ty,asap:y4,isIterable:w4};function Te(e,t,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const ny=Te.prototype,ry={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ry[e]={value:e}});Object.defineProperties(Te,ry);Object.defineProperty(ny,"isAxiosError",{value:!0});Te.from=(e,t,n,i,a,l)=>{const h=Object.create(ny);W.toFlatObject(e,h,function(w){return w!==Error.prototype},g=>g!=="isAxiosError");const p=e&&e.message?e.message:"Error",m=t==null&&e?e.code:t;return Te.call(h,p,m,n,i,a),e&&h.cause==null&&Object.defineProperty(h,"cause",{value:e,configurable:!0}),h.name=e&&e.name||"Error",l&&Object.assign(h,l),h};const C4=null;function Ph(e){return W.isPlainObject(e)||W.isArray(e)}function iy(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function kp(e,t,n){return e?e.concat(t).map(function(a,l){return a=iy(a),!n&&l?"["+a+"]":a}).join(n?".":""):t}function E4(e){return W.isArray(e)&&!e.some(Ph)}const v4=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function ou(e,t,n){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=W.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,L){return!W.isUndefined(L[O])});const i=n.metaTokens,a=n.visitor||w,l=n.dots,h=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function g(R){if(R===null)return"";if(W.isDate(R))return R.toISOString();if(W.isBoolean(R))return R.toString();if(!m&&W.isBlob(R))throw new Te("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(R)||W.isTypedArray(R)?m&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function w(R,O,L){let M=R;if(R&&!L&&typeof R=="object"){if(W.endsWith(O,"{}"))O=i?O:O.slice(0,-2),R=JSON.stringify(R);else if(W.isArray(R)&&E4(R)||(W.isFileList(R)||W.endsWith(O,"[]"))&&(M=W.toArray(R)))return O=iy(O),M.forEach(function(b,F){!(W.isUndefined(b)||b===null)&&t.append(h===!0?kp([O],F,l):h===null?O:O+"[]",g(b))}),!1}return Ph(R)?!0:(t.append(kp(L,O,l),g(R)),!1)}const C=[],S=Object.assign(v4,{defaultVisitor:w,convertValue:g,isVisitable:Ph});function _(R,O){if(!W.isUndefined(R)){if(C.indexOf(R)!==-1)throw Error("Circular reference detected in "+O.join("."));C.push(R),W.forEach(R,function(M,N){(!(W.isUndefined(M)||M===null)&&a.call(t,M,W.isString(N)?N.trim():N,O,S))===!0&&_(M,O?O.concat(N):[N])}),C.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return _(e),t}function Lp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function o0(e,t){this._pairs=[],e&&ou(e,this,t)}const sy=o0.prototype;sy.append=function(t,n){this._pairs.push([t,n])};sy.toString=function(t){const n=t?function(i){return t.call(this,i,Lp)}:Lp;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function A4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function oy(e,t,n){if(!t)return e;const i=n&&n.encode||A4;W.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(t,n):l=W.isURLSearchParams(t)?t.toString():new o0(t,n).toString(i),l){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class S4{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Pp=S4,ay={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T4=typeof URLSearchParams<"u"?URLSearchParams:o0,I4=typeof FormData<"u"?FormData:null,b4=typeof Blob<"u"?Blob:null,N4={isBrowser:!0,classes:{URLSearchParams:T4,FormData:I4,Blob:b4},protocols:["http","https","file","blob","url","data"]},a0=typeof window<"u"&&typeof document<"u",Bh=typeof navigator=="object"&&navigator||void 0,_4=a0&&(!Bh||["ReactNative","NativeScript","NS"].indexOf(Bh.product)<0),R4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),O4=a0&&window.location.href||"http://localhost",M4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:a0,hasStandardBrowserEnv:_4,hasStandardBrowserWebWorkerEnv:R4,navigator:Bh,origin:O4},Symbol.toStringTag,{value:"Module"})),qt={...M4,...N4};function D4(e,t){return ou(e,new qt.classes.URLSearchParams,{visitor:function(n,i,a,l){return qt.isNode&&W.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function k4(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function L4(e){const t={},n=Object.keys(e);let i;const a=n.length;let l;for(i=0;i<a;i++)l=n[i],t[l]=e[l];return t}function ly(e){function t(n,i,a,l){let h=n[l++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),m=l>=n.length;return h=!h&&W.isArray(a)?a.length:h,m?(W.hasOwnProp(a,h)?a[h]=[a[h],i]:a[h]=i,!p):((!a[h]||!W.isObject(a[h]))&&(a[h]=[]),t(n,i,a[h],l)&&W.isArray(a[h])&&(a[h]=L4(a[h])),!p)}if(W.isFormData(e)&&W.isFunction(e.entries)){const n={};return W.forEachEntry(e,(i,a)=>{t(k4(i),a,n,0)}),n}return null}function P4(e,t,n){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const l0={transitional:ay,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,l=W.isObject(t);if(l&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return a?JSON.stringify(ly(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let p;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return D4(t,this.formSerializer).toString();if((p=W.isFileList(t))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return ou(p?{"files[]":t}:t,m&&new m,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),P4(t)):t}],transformResponse:[function(t){const n=this.transitional||l0.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(i&&!this.responseType||a)){const h=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(p){if(h)throw p.name==="SyntaxError"?Te.from(p,Te.ERR_BAD_RESPONSE,this,null,this.response):p}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qt.classes.FormData,Blob:qt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{l0.headers[e]={}});const c0=l0,B4=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F4=e=>{const t={};let n,i,a;return e&&e.split(`
`).forEach(function(h){a=h.indexOf(":"),n=h.substring(0,a).trim().toLowerCase(),i=h.substring(a+1).trim(),!(!n||t[n]&&B4[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Bp=Symbol("internals");function jo(e){return e&&String(e).trim().toLowerCase()}function zl(e){return e===!1||e==null?e:W.isArray(e)?e.map(zl):String(e)}function j4(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const U4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function yf(e,t,n,i,a){if(W.isFunction(i))return i.call(this,t,n);if(a&&(t=n),!!W.isString(t)){if(W.isString(i))return t.indexOf(i)!==-1;if(W.isRegExp(i))return i.test(t)}}function V4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function z4(e,t){const n=W.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(a,l,h){return this[i].call(this,t,a,l,h)},configurable:!0})})}class au{constructor(t){t&&this.set(t)}set(t,n,i){const a=this;function l(p,m,g){const w=jo(m);if(!w)throw new Error("header name must be a non-empty string");const C=W.findKey(a,w);(!C||a[C]===void 0||g===!0||g===void 0&&a[C]!==!1)&&(a[C||m]=zl(p))}const h=(p,m)=>W.forEach(p,(g,w)=>l(g,w,m));if(W.isPlainObject(t)||t instanceof this.constructor)h(t,n);else if(W.isString(t)&&(t=t.trim())&&!U4(t))h(F4(t),n);else if(W.isObject(t)&&W.isIterable(t)){let p={},m,g;for(const w of t){if(!W.isArray(w))throw TypeError("Object iterator must return a key-value pair");p[g=w[0]]=(m=p[g])?W.isArray(m)?[...m,w[1]]:[m,w[1]]:w[1]}h(p,n)}else t!=null&&l(n,t,i);return this}get(t,n){if(t=jo(t),t){const i=W.findKey(this,t);if(i){const a=this[i];if(!n)return a;if(n===!0)return j4(a);if(W.isFunction(n))return n.call(this,a,i);if(W.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=jo(t),t){const i=W.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||yf(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let a=!1;function l(h){if(h=jo(h),h){const p=W.findKey(i,h);p&&(!n||yf(i,i[p],p,n))&&(delete i[p],a=!0)}}return W.isArray(t)?t.forEach(l):l(t),a}clear(t){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const l=n[i];(!t||yf(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const n=this,i={};return W.forEach(this,(a,l)=>{const h=W.findKey(i,l);if(h){n[h]=zl(a),delete n[l];return}const p=t?V4(l):String(l).trim();p!==l&&delete n[l],n[p]=zl(a),i[p]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return W.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=t&&W.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[Bp]=this[Bp]={accessors:{}}).accessors,a=this.prototype;function l(h){const p=jo(h);i[p]||(z4(a,h),i[p]=!0)}return W.isArray(t)?t.forEach(l):l(t),this}}au.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(au.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});W.freezeMethods(au);const ar=au;function wf(e,t){const n=this||c0,i=t||n,a=ar.from(i.headers);let l=i.data;return W.forEach(e,function(p){l=p.call(n,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function cy(e){return!!(e&&e.__CANCEL__)}function mo(e,t,n){Te.call(this,e??"canceled",Te.ERR_CANCELED,t,n),this.name="CanceledError"}W.inherits(mo,Te,{__CANCEL__:!0});function uy(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Te("Request failed with status code "+n.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function H4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function W4(e,t){e=e||10;const n=new Array(e),i=new Array(e);let a=0,l=0,h;return t=t!==void 0?t:1e3,function(m){const g=Date.now(),w=i[l];h||(h=g),n[a]=m,i[a]=g;let C=l,S=0;for(;C!==a;)S+=n[C++],C=C%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),g-h<t)return;const _=w&&g-w;return _?Math.round(S*1e3/_):void 0}}function G4(e,t){let n=0,i=1e3/t,a,l;const h=(g,w=Date.now())=>{n=w,a=null,l&&(clearTimeout(l),l=null),e(...g)};return[(...g)=>{const w=Date.now(),C=w-n;C>=i?h(g,w):(a=g,l||(l=setTimeout(()=>{l=null,h(a)},i-C)))},()=>a&&h(a)]}const Tc=(e,t,n=3)=>{let i=0;const a=W4(50,250);return G4(l=>{const h=l.loaded,p=l.lengthComputable?l.total:void 0,m=h-i,g=a(m),w=h<=p;i=h;const C={loaded:h,total:p,progress:p?h/p:void 0,bytes:m,rate:g||void 0,estimated:g&&p&&w?(p-h)/g:void 0,event:l,lengthComputable:p!=null,[t?"download":"upload"]:!0};e(C)},n)},Fp=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},jp=e=>(...t)=>W.asap(()=>e(...t)),X4=qt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,qt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(qt.origin),qt.navigator&&/(msie|trident)/i.test(qt.navigator.userAgent)):()=>!0,Y4=qt.hasStandardBrowserEnv?{write(e,t,n,i,a,l,h){if(typeof document>"u")return;const p=[`${e}=${encodeURIComponent(t)}`];W.isNumber(n)&&p.push(`expires=${new Date(n).toUTCString()}`),W.isString(i)&&p.push(`path=${i}`),W.isString(a)&&p.push(`domain=${a}`),l===!0&&p.push("secure"),W.isString(h)&&p.push(`SameSite=${h}`),document.cookie=p.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Q4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function K4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function fy(e,t,n){let i=!Q4(t);return e&&(i||n==!1)?K4(e,t):t}const Up=e=>e instanceof ar?{...e}:e;function ps(e,t){t=t||{};const n={};function i(g,w,C,S){return W.isPlainObject(g)&&W.isPlainObject(w)?W.merge.call({caseless:S},g,w):W.isPlainObject(w)?W.merge({},w):W.isArray(w)?w.slice():w}function a(g,w,C,S){if(W.isUndefined(w)){if(!W.isUndefined(g))return i(void 0,g,C,S)}else return i(g,w,C,S)}function l(g,w){if(!W.isUndefined(w))return i(void 0,w)}function h(g,w){if(W.isUndefined(w)){if(!W.isUndefined(g))return i(void 0,g)}else return i(void 0,w)}function p(g,w,C){if(C in t)return i(g,w);if(C in e)return i(void 0,g)}const m={url:l,method:l,data:l,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(g,w,C)=>a(Up(g),Up(w),C,!0)};return W.forEach(Object.keys({...e,...t}),function(w){const C=m[w]||a,S=C(e[w],t[w],w);W.isUndefined(S)&&C!==p||(n[w]=S)}),n}const hy=e=>{const t=ps({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:h,auth:p}=t;if(t.headers=h=ar.from(h),t.url=oy(fy(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),W.isFormData(n)){if(qt.hasStandardBrowserEnv||qt.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(W.isFunction(n.getHeaders)){const m=n.getHeaders(),g=["content-type","content-length"];Object.entries(m).forEach(([w,C])=>{g.includes(w.toLowerCase())&&h.set(w,C)})}}if(qt.hasStandardBrowserEnv&&(i&&W.isFunction(i)&&(i=i(t)),i||i!==!1&&X4(t.url))){const m=a&&l&&Y4.read(l);m&&h.set(a,m)}return t},Z4=typeof XMLHttpRequest<"u",q4=Z4&&function(e){return new Promise(function(n,i){const a=hy(e);let l=a.data;const h=ar.from(a.headers).normalize();let{responseType:p,onUploadProgress:m,onDownloadProgress:g}=a,w,C,S,_,R;function O(){_&&_(),R&&R(),a.cancelToken&&a.cancelToken.unsubscribe(w),a.signal&&a.signal.removeEventListener("abort",w)}let L=new XMLHttpRequest;L.open(a.method.toUpperCase(),a.url,!0),L.timeout=a.timeout;function M(){if(!L)return;const b=ar.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),Q={data:!p||p==="text"||p==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:b,config:e,request:L};uy(function(U){n(U),O()},function(U){i(U),O()},Q),L=null}"onloadend"in L?L.onloadend=M:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(M)},L.onabort=function(){L&&(i(new Te("Request aborted",Te.ECONNABORTED,e,L)),L=null)},L.onerror=function(F){const Q=F&&F.message?F.message:"Network Error",Z=new Te(Q,Te.ERR_NETWORK,e,L);Z.event=F||null,i(Z),L=null},L.ontimeout=function(){let F=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const Q=a.transitional||ay;a.timeoutErrorMessage&&(F=a.timeoutErrorMessage),i(new Te(F,Q.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,e,L)),L=null},l===void 0&&h.setContentType(null),"setRequestHeader"in L&&W.forEach(h.toJSON(),function(F,Q){L.setRequestHeader(Q,F)}),W.isUndefined(a.withCredentials)||(L.withCredentials=!!a.withCredentials),p&&p!=="json"&&(L.responseType=a.responseType),g&&([S,R]=Tc(g,!0),L.addEventListener("progress",S)),m&&L.upload&&([C,_]=Tc(m),L.upload.addEventListener("progress",C),L.upload.addEventListener("loadend",_)),(a.cancelToken||a.signal)&&(w=b=>{L&&(i(!b||b.type?new mo(null,e,L):b),L.abort(),L=null)},a.cancelToken&&a.cancelToken.subscribe(w),a.signal&&(a.signal.aborted?w():a.signal.addEventListener("abort",w)));const N=H4(a.url);if(N&&qt.protocols.indexOf(N)===-1){i(new Te("Unsupported protocol "+N+":",Te.ERR_BAD_REQUEST,e));return}L.send(l||null)})},$4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,a;const l=function(g){if(!a){a=!0,p();const w=g instanceof Error?g:this.reason;i.abort(w instanceof Te?w:new mo(w instanceof Error?w.message:w))}};let h=t&&setTimeout(()=>{h=null,l(new Te(`timeout ${t} of ms exceeded`,Te.ETIMEDOUT))},t);const p=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),e=null)};e.forEach(g=>g.addEventListener("abort",l));const{signal:m}=i;return m.unsubscribe=()=>W.asap(p),m}},J4=$4,eS=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let i=0,a;for(;i<n;)a=i+t,yield e.slice(i,a),i=a},tS=async function*(e,t){for await(const n of nS(e))yield*eS(n,t)},nS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Vp=(e,t,n,i)=>{const a=tS(e,t);let l=0,h,p=m=>{h||(h=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:g,value:w}=await a.next();if(g){p(),m.close();return}let C=w.byteLength;if(n){let S=l+=C;n(S)}m.enqueue(new Uint8Array(w))}catch(g){throw p(g),g}},cancel(m){return p(m),a.return()}},{highWaterMark:2})},zp=64*1024,{isFunction:Cl}=W,rS=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:Hp,TextEncoder:Wp}=W.global,Gp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},iS=e=>{e=W.merge.call({skipUndefined:!0},rS,e);const{fetch:t,Request:n,Response:i}=e,a=t?Cl(t):typeof fetch=="function",l=Cl(n),h=Cl(i);if(!a)return!1;const p=a&&Cl(Hp),m=a&&(typeof Wp=="function"?(R=>O=>R.encode(O))(new Wp):async R=>new Uint8Array(await new n(R).arrayBuffer())),g=l&&p&&Gp(()=>{let R=!1;const O=new n(qt.origin,{body:new Hp,method:"POST",get duplex(){return R=!0,"half"}}).headers.has("Content-Type");return R&&!O}),w=h&&p&&Gp(()=>W.isReadableStream(new i("").body)),C={stream:w&&(R=>R.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(R=>{!C[R]&&(C[R]=(O,L)=>{let M=O&&O[R];if(M)return M.call(O);throw new Te(`Response type '${R}' is not supported`,Te.ERR_NOT_SUPPORT,L)})});const S=async R=>{if(R==null)return 0;if(W.isBlob(R))return R.size;if(W.isSpecCompliantForm(R))return(await new n(qt.origin,{method:"POST",body:R}).arrayBuffer()).byteLength;if(W.isArrayBufferView(R)||W.isArrayBuffer(R))return R.byteLength;if(W.isURLSearchParams(R)&&(R=R+""),W.isString(R))return(await m(R)).byteLength},_=async(R,O)=>{const L=W.toFiniteNumber(R.getContentLength());return L??S(O)};return async R=>{let{url:O,method:L,data:M,signal:N,cancelToken:b,timeout:F,onDownloadProgress:Q,onUploadProgress:Z,responseType:U,headers:K,withCredentials:X="same-origin",fetchOptions:fe}=hy(R),_e=t||fetch;U=U?(U+"").toLowerCase():"text";let ie=J4([N,b&&b.toAbortSignal()],F),we=null;const Ae=ie&&ie.unsubscribe&&(()=>{ie.unsubscribe()});let Y;try{if(Z&&g&&L!=="get"&&L!=="head"&&(Y=await _(K,M))!==0){let he=new n(O,{method:"POST",body:M,duplex:"half"}),ve;if(W.isFormData(M)&&(ve=he.headers.get("content-type"))&&K.setContentType(ve),he.body){const[It,Pe]=Fp(Y,Tc(jp(Z)));M=Vp(he.body,zp,It,Pe)}}W.isString(X)||(X=X?"include":"omit");const xe=l&&"credentials"in n.prototype,de={...fe,signal:ie,method:L.toUpperCase(),headers:K.normalize().toJSON(),body:M,duplex:"half",credentials:xe?X:void 0};we=l&&new n(O,de);let ne=await(l?_e(we,fe):_e(O,de));const ue=w&&(U==="stream"||U==="response");if(w&&(Q||ue&&Ae)){const he={};["status","statusText","headers"].forEach(wn=>{he[wn]=ne[wn]});const ve=W.toFiniteNumber(ne.headers.get("content-length")),[It,Pe]=Q&&Fp(ve,Tc(jp(Q),!0))||[];ne=new i(Vp(ne.body,zp,It,()=>{Pe&&Pe(),Ae&&Ae()}),he)}U=U||"text";let me=await C[W.findKey(C,U)||"text"](ne,R);return!ue&&Ae&&Ae(),await new Promise((he,ve)=>{uy(he,ve,{data:me,headers:ar.from(ne.headers),status:ne.status,statusText:ne.statusText,config:R,request:we})})}catch(xe){throw Ae&&Ae(),xe&&xe.name==="TypeError"&&/Load failed|fetch/i.test(xe.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,R,we),{cause:xe.cause||xe}):Te.from(xe,xe&&xe.code,R,we)}}},sS=new Map,dy=e=>{let t=e&&e.env||{};const{fetch:n,Request:i,Response:a}=t,l=[i,a,n];let h=l.length,p=h,m,g,w=sS;for(;p--;)m=l[p],g=w.get(m),g===void 0&&w.set(m,g=p?new Map:iS(t)),w=g;return g};dy();const u0={http:C4,xhr:q4,fetch:{get:dy}};W.forEach(u0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Xp=e=>`- ${e}`,oS=e=>W.isFunction(e)||e===null||e===!1;function aS(e,t){e=W.isArray(e)?e:[e];const{length:n}=e;let i,a;const l={};for(let h=0;h<n;h++){i=e[h];let p;if(a=i,!oS(i)&&(a=u0[(p=String(i)).toLowerCase()],a===void 0))throw new Te(`Unknown adapter '${p}'`);if(a&&(W.isFunction(a)||(a=a.get(t))))break;l[p||"#"+h]=a}if(!a){const h=Object.entries(l).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let p=n?h.length>1?`since :
`+h.map(Xp).join(`
`):" "+Xp(h[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return a}const py={getAdapter:aS,adapters:u0};function Cf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new mo(null,e)}function Yp(e){return Cf(e),e.headers=ar.from(e.headers),e.data=wf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),py.getAdapter(e.adapter||c0.adapter,e)(e).then(function(i){return Cf(e),i.data=wf.call(e,e.transformResponse,i),i.headers=ar.from(i.headers),i},function(i){return cy(i)||(Cf(e),i&&i.response&&(i.response.data=wf.call(e,e.transformResponse,i.response),i.response.headers=ar.from(i.response.headers))),Promise.reject(i)})}const gy="1.13.2",lu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lu[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Qp={};lu.transitional=function(t,n,i){function a(l,h){return"[Axios v"+gy+"] Transitional option '"+l+"'"+h+(i?". "+i:"")}return(l,h,p)=>{if(t===!1)throw new Te(a(h," has been removed"+(n?" in "+n:"")),Te.ERR_DEPRECATED);return n&&!Qp[h]&&(Qp[h]=!0,console.warn(a(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,h,p):!0}};lu.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function lS(e,t,n){if(typeof e!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let a=i.length;for(;a-- >0;){const l=i[a],h=t[l];if(h){const p=e[l],m=p===void 0||h(p,l,e);if(m!==!0)throw new Te("option "+l+" must be "+m,Te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Te("Unknown option "+l,Te.ERR_BAD_OPTION)}}const Hl={assertOptions:lS,validators:lu},wr=Hl.validators;class Ic{constructor(t){this.defaults=t||{},this.interceptors={request:new Pp,response:new Pp}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ps(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:l}=n;i!==void 0&&Hl.assertOptions(i,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),a!=null&&(W.isFunction(a)?n.paramsSerializer={serialize:a}:Hl.assertOptions(a,{encode:wr.function,serialize:wr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hl.assertOptions(n,{baseUrl:wr.spelling("baseURL"),withXsrfToken:wr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=l&&W.merge(l.common,l[n.method]);l&&W.forEach(["delete","get","head","post","put","patch","common"],R=>{delete l[R]}),n.headers=ar.concat(h,l);const p=[];let m=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(n)===!1||(m=m&&O.synchronous,p.unshift(O.fulfilled,O.rejected))});const g=[];this.interceptors.response.forEach(function(O){g.push(O.fulfilled,O.rejected)});let w,C=0,S;if(!m){const R=[Yp.bind(this),void 0];for(R.unshift(...p),R.push(...g),S=R.length,w=Promise.resolve(n);C<S;)w=w.then(R[C++],R[C++]);return w}S=p.length;let _=n;for(;C<S;){const R=p[C++],O=p[C++];try{_=R(_)}catch(L){O.call(this,L);break}}try{w=Yp.call(this,_)}catch(R){return Promise.reject(R)}for(C=0,S=g.length;C<S;)w=w.then(g[C++],g[C++]);return w}getUri(t){t=ps(this.defaults,t);const n=fy(t.baseURL,t.url,t.allowAbsoluteUrls);return oy(n,t.params,t.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(t){Ic.prototype[t]=function(n,i){return this.request(ps(i||{},{method:t,url:n,data:(i||{}).data}))}});W.forEach(["post","put","patch"],function(t){function n(i){return function(l,h,p){return this.request(ps(p||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:h}))}}Ic.prototype[t]=n(),Ic.prototype[t+"Form"]=n(!0)});const Wl=Ic;class f0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const h=new Promise(p=>{i.subscribe(p),l=p}).then(a);return h.cancel=function(){i.unsubscribe(l)},h},t(function(l,h,p){i.reason||(i.reason=new mo(l,h,p),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new f0(function(a){t=a}),cancel:t}}}const cS=f0;function uS(e){return function(n){return e.apply(null,n)}}function fS(e){return W.isObject(e)&&e.isAxiosError===!0}const Fh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Fh).forEach(([e,t])=>{Fh[t]=e});const hS=Fh;function my(e){const t=new Wl(e),n=Qx(Wl.prototype.request,t);return W.extend(n,Wl.prototype,t,{allOwnKeys:!0}),W.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return my(ps(e,a))},n}const Tt=my(c0);Tt.Axios=Wl;Tt.CanceledError=mo;Tt.CancelToken=cS;Tt.isCancel=cy;Tt.VERSION=gy;Tt.toFormData=ou;Tt.AxiosError=Te;Tt.Cancel=Tt.CanceledError;Tt.all=function(t){return Promise.all(t)};Tt.spread=uS;Tt.isAxiosError=fS;Tt.mergeConfig=ps;Tt.AxiosHeaders=ar;Tt.formToJSON=e=>ly(W.isHTMLForm(e)?new FormData(e):e);Tt.getAdapter=py.getAdapter;Tt.HttpStatusCode=hS;Tt.default=Tt;const dS=Tt,At=dS.create({baseURL:"https://qr-smart-attendance.vercel.app/api",headers:{"Content-Type":"application/json"}});At.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const xy=B.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),cu=B.createContext({}),uu=B.createContext(null),fu=typeof document<"u",h0=fu?B.useLayoutEffect:B.useEffect,yy=B.createContext({strict:!1}),d0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),pS="framerAppearId",wy="data-"+d0(pS);function gS(e,t,n,i){const{visualElement:a}=B.useContext(cu),l=B.useContext(yy),h=B.useContext(uu),p=B.useContext(xy).reducedMotion,m=B.useRef();i=i||l.renderer,!m.current&&i&&(m.current=i(e,{visualState:t,parent:a,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const g=m.current;B.useInsertionEffect(()=>{g&&g.update(n,h)});const w=B.useRef(!!(n[wy]&&!window.HandoffComplete));return h0(()=>{g&&(g.render(),w.current&&g.animationState&&g.animationState.animateChanges())}),B.useEffect(()=>{g&&(g.updateFeatures(),!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(w.current=!1,window.HandoffComplete=!0))}),g}function zs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mS(e,t,n){return B.useCallback(i=>{i&&e.mount&&e.mount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):zs(n)&&(n.current=i))},[t])}function ba(e){return typeof e=="string"||Array.isArray(e)}function hu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const p0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g0=["initial",...p0];function du(e){return hu(e.animate)||g0.some(t=>ba(e[t]))}function Cy(e){return!!(du(e)||e.variants)}function xS(e,t){if(du(e)){const{initial:n,animate:i}=e;return{initial:n===!1||ba(n)?n:void 0,animate:ba(i)?i:void 0}}return e.inherit!==!1?t:{}}function yS(e){const{initial:t,animate:n}=xS(e,B.useContext(cu));return B.useMemo(()=>({initial:t,animate:n}),[Kp(t),Kp(n)])}function Kp(e){return Array.isArray(e)?e.join(" "):e}const Zp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Na={};for(const e in Zp)Na[e]={isEnabled:t=>Zp[e].some(n=>!!t[n])};function wS(e){for(const t in e)Na[t]={...Na[t],...e[t]}}const m0=B.createContext({}),Ey=B.createContext({}),CS=Symbol.for("motionComponentSymbol");function ES({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:a}){e&&wS(e);function l(p,m){let g;const w={...B.useContext(xy),...p,layoutId:vS(p)},{isStatic:C}=w,S=yS(p),_=i(p,C);if(!C&&fu){S.visualElement=gS(a,_,w,t);const R=B.useContext(Ey),O=B.useContext(yy).strict;S.visualElement&&(g=S.visualElement.loadFeatures(w,O,e,R))}return B.createElement(cu.Provider,{value:S},g&&S.visualElement?B.createElement(g,{visualElement:S.visualElement,...w}):null,n(a,p,mS(_,S.visualElement,m),_,C,S.visualElement))}const h=B.forwardRef(l);return h[CS]=a,h}function vS({layoutId:e}){const t=B.useContext(m0).id;return t&&e!==void 0?t+"-"+e:e}function AS(e){function t(i,a={}){return ES(e(i,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(i,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const SS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function x0(e){return typeof e!="string"||e.includes("-")?!1:!!(SS.indexOf(e)>-1||/[A-Z]/.test(e))}const bc={};function TS(e){Object.assign(bc,e)}const ja=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xs=new Set(ja);function vy(e,{layout:t,layoutId:n}){return xs.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!bc[e]||e==="opacity")}const yn=e=>!!(e&&e.getVelocity),IS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bS=ja.length;function NS(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},i,a){let l="";for(let h=0;h<bS;h++){const p=ja[h];if(e[p]!==void 0){const m=IS[p]||p;l+=`${m}(${e[p]}) `}}return t&&!e.z&&(l+="translateZ(0)"),l=l.trim(),a?l=a(e,i?"":l):n&&i&&(l="none"),l}const Ay=e=>t=>typeof t=="string"&&t.startsWith(e),Sy=Ay("--"),jh=Ay("var(--"),_S=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,RS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Oi=(e,t,n)=>Math.min(Math.max(n,e),t),ys={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ia={...ys,transform:e=>Oi(0,1,e)},El={...ys,default:1},sa=e=>Math.round(e*1e5)/1e5,pu=/(-)?([\d]*\.?[\d])+/g,Ty=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,OS=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ua(e){return typeof e=="string"}const Va=e=>({test:t=>Ua(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),li=Va("deg"),br=Va("%"),Ee=Va("px"),MS=Va("vh"),DS=Va("vw"),qp={...br,parse:e=>br.parse(e)/100,transform:e=>br.transform(e*100)},$p={...ys,transform:Math.round},Iy={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,size:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,rotate:li,rotateX:li,rotateY:li,rotateZ:li,scale:El,scaleX:El,scaleY:El,scaleZ:El,skew:li,skewX:li,skewY:li,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:ia,originX:qp,originY:qp,originZ:Ee,zIndex:$p,fillOpacity:ia,strokeOpacity:ia,numOctaves:$p};function y0(e,t,n,i){const{style:a,vars:l,transform:h,transformOrigin:p}=e;let m=!1,g=!1,w=!0;for(const C in t){const S=t[C];if(Sy(C)){l[C]=S;continue}const _=Iy[C],R=RS(S,_);if(xs.has(C)){if(m=!0,h[C]=R,!w)continue;S!==(_.default||0)&&(w=!1)}else C.startsWith("origin")?(g=!0,p[C]=R):a[C]=R}if(t.transform||(m||i?a.transform=NS(e.transform,n,w,i):a.transform&&(a.transform="none")),g){const{originX:C="50%",originY:S="50%",originZ:_=0}=p;a.transformOrigin=`${C} ${S} ${_}`}}const w0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function by(e,t,n){for(const i in t)!yn(t[i])&&!vy(i,n)&&(e[i]=t[i])}function kS({transformTemplate:e},t,n){return B.useMemo(()=>{const i=w0();return y0(i,t,{enableHardwareAcceleration:!n},e),Object.assign({},i.vars,i.style)},[t])}function LS(e,t,n){const i=e.style||{},a={};return by(a,i,e),Object.assign(a,kS(e,t,n)),e.transformValues?e.transformValues(a):a}function PS(e,t,n){const i={},a=LS(e,t,n);return e.drag&&e.dragListener!==!1&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=a,i}const BS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Nc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||BS.has(e)}let Ny=e=>!Nc(e);function FS(e){e&&(Ny=t=>t.startsWith("on")?!Nc(t):e(t))}try{FS(require("@emotion/is-prop-valid").default)}catch{}function jS(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(Ny(a)||n===!0&&Nc(a)||!t&&!Nc(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}function Jp(e,t,n){return typeof e=="string"?e:Ee.transform(t+n*e)}function US(e,t,n){const i=Jp(t,e.x,e.width),a=Jp(n,e.y,e.height);return`${i} ${a}`}const VS={offset:"stroke-dashoffset",array:"stroke-dasharray"},zS={offset:"strokeDashoffset",array:"strokeDasharray"};function HS(e,t,n=1,i=0,a=!0){e.pathLength=1;const l=a?VS:zS;e[l.offset]=Ee.transform(-i);const h=Ee.transform(t),p=Ee.transform(n);e[l.array]=`${h} ${p}`}function C0(e,{attrX:t,attrY:n,attrScale:i,originX:a,originY:l,pathLength:h,pathSpacing:p=1,pathOffset:m=0,...g},w,C,S){if(y0(e,g,w,S),C){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:R,dimensions:O}=e;_.transform&&(O&&(R.transform=_.transform),delete _.transform),O&&(a!==void 0||l!==void 0||R.transform)&&(R.transformOrigin=US(O,a!==void 0?a:.5,l!==void 0?l:.5)),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),h!==void 0&&HS(_,h,p,m,!1)}const _y=()=>({...w0(),attrs:{}}),E0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function WS(e,t,n,i){const a=B.useMemo(()=>{const l=_y();return C0(l,t,{enableHardwareAcceleration:!1},E0(i),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};by(l,e.style,e),a.style={...l,...a.style}}return a}function GS(e=!1){return(n,i,a,{latestValues:l},h)=>{const m=(x0(n)?WS:PS)(i,l,h,n),w={...jS(i,typeof n=="string",e),...m,ref:a},{children:C}=i,S=B.useMemo(()=>yn(C)?C.get():C,[C]);return B.createElement(n,{...w,children:S})}}function Ry(e,{style:t,vars:n},i,a){Object.assign(e.style,t,a&&a.getProjectionStyles(i));for(const l in n)e.style.setProperty(l,n[l])}const Oy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function My(e,t,n,i){Ry(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(Oy.has(a)?a:d0(a),t.attrs[a])}function v0(e,t){const{style:n}=e,i={};for(const a in n)(yn(n[a])||t.style&&yn(t.style[a])||vy(a,e))&&(i[a]=n[a]);return i}function Dy(e,t){const n=v0(e,t);for(const i in e)if(yn(e[i])||yn(t[i])){const a=ja.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}function A0(e,t,n,i={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,i,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,i,a)),t}function ky(e){const t=B.useRef(null);return t.current===null&&(t.current=e()),t.current}const _c=e=>Array.isArray(e),XS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),YS=e=>_c(e)?e[e.length-1]||0:e;function Gl(e){const t=yn(e)?e.get():e;return XS(t)?t.toValue():t}function QS({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},i,a,l){const h={latestValues:KS(i,a,l,e),renderState:t()};return n&&(h.mount=p=>n(i,p,h)),h}const Ly=e=>(t,n)=>{const i=B.useContext(cu),a=B.useContext(uu),l=()=>QS(e,t,i,a);return n?l():ky(l)};function KS(e,t,n,i){const a={},l=i(e,{});for(const S in l)a[S]=Gl(l[S]);let{initial:h,animate:p}=e;const m=du(e),g=Cy(e);t&&g&&!m&&e.inherit!==!1&&(h===void 0&&(h=t.initial),p===void 0&&(p=t.animate));let w=n?n.initial===!1:!1;w=w||h===!1;const C=w?p:h;return C&&typeof C!="boolean"&&!hu(C)&&(Array.isArray(C)?C:[C]).forEach(_=>{const R=A0(e,_);if(!R)return;const{transitionEnd:O,transition:L,...M}=R;for(const N in M){let b=M[N];if(Array.isArray(b)){const F=w?b.length-1:0;b=b[F]}b!==null&&(a[N]=b)}for(const N in O)a[N]=O[N]}),a}const gt=e=>e;class eg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function ZS(e){let t=new eg,n=new eg,i=0,a=!1,l=!1;const h=new WeakSet,p={schedule:(m,g=!1,w=!1)=>{const C=w&&a,S=C?t:n;return g&&h.add(m),S.add(m)&&C&&a&&(i=t.order.length),m},cancel:m=>{n.remove(m),h.delete(m)},process:m=>{if(a){l=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),i=t.order.length,i)for(let g=0;g<i;g++){const w=t.order[g];w(m),h.has(w)&&(p.schedule(w),e())}a=!1,l&&(l=!1,p.process(m))}};return p}const vl=["prepare","read","update","preRender","render","postRender"],qS=40;function $S(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=vl.reduce((C,S)=>(C[S]=ZS(()=>n=!0),C),{}),h=C=>l[C].process(a),p=()=>{const C=performance.now();n=!1,a.delta=i?1e3/60:Math.max(Math.min(C-a.timestamp,qS),1),a.timestamp=C,a.isProcessing=!0,vl.forEach(h),a.isProcessing=!1,n&&t&&(i=!1,e(p))},m=()=>{n=!0,i=!0,a.isProcessing||e(p)};return{schedule:vl.reduce((C,S)=>{const _=l[S];return C[S]=(R,O=!1,L=!1)=>(n||m(),_.schedule(R,O,L)),C},{}),cancel:C=>vl.forEach(S=>l[S].cancel(C)),state:a,steps:l}}const{schedule:qe,cancel:Zr,state:Kt,steps:Ef}=$S(typeof requestAnimationFrame<"u"?requestAnimationFrame:gt,!0),JS={useVisualState:Ly({scrapeMotionValuesFromProps:Dy,createRenderState:_y,onMount:(e,t,{renderState:n,latestValues:i})=>{qe.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),qe.render(()=>{C0(n,i,{enableHardwareAcceleration:!1},E0(t.tagName),e.transformTemplate),My(t,n)})}})},eT={useVisualState:Ly({scrapeMotionValuesFromProps:v0,createRenderState:w0})};function tT(e,{forwardMotionProps:t=!1},n,i){return{...x0(e)?JS:eT,preloadedFeatures:n,useRender:GS(t),createVisualElement:i,Component:e}}function Ur(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}const Py=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function gu(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const nT=e=>t=>Py(t)&&e(t,gu(t));function Wr(e,t,n,i){return Ur(e,t,nT(n),i)}const rT=(e,t)=>n=>t(e(n)),Ii=(...e)=>e.reduce(rT);function By(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const tg=By("dragHorizontal"),ng=By("dragVertical");function Fy(e){let t=!1;if(e==="y")t=ng();else if(e==="x")t=tg();else{const n=tg(),i=ng();n&&i?t=()=>{n(),i()}:(n&&n(),i&&i())}return t}function jy(){const e=Fy(!0);return e?(e(),!1):!0}class Ui{constructor(t){this.isMounted=!1,this.node=t}update(){}}function rg(e,t){const n="pointer"+(t?"enter":"leave"),i="onHover"+(t?"Start":"End"),a=(l,h)=>{if(l.pointerType==="touch"||jy())return;const p=e.getProps();e.animationState&&p.whileHover&&e.animationState.setActive("whileHover",t),p[i]&&qe.update(()=>p[i](l,h))};return Wr(e.current,n,a,{passive:!e.getProps()[i]})}class iT extends Ui{mount(){this.unmount=Ii(rg(this.node,!0),rg(this.node,!1))}unmount(){}}class sT extends Ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ii(Ur(this.node.current,"focus",()=>this.onFocus()),Ur(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Uy=(e,t)=>t?e===t?!0:Uy(e,t.parentElement):!1;function vf(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,gu(n))}class oT extends Ui{constructor(){super(...arguments),this.removeStartListeners=gt,this.removeEndListeners=gt,this.removeAccessibleListeners=gt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),l=Wr(window,"pointerup",(p,m)=>{if(!this.checkPressEnd())return;const{onTap:g,onTapCancel:w,globalTapTarget:C}=this.node.getProps();qe.update(()=>{!C&&!Uy(this.node.current,p.target)?w&&w(p,m):g&&g(p,m)})},{passive:!(i.onTap||i.onPointerUp)}),h=Wr(window,"pointercancel",(p,m)=>this.cancelPress(p,m),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=Ii(l,h),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=l=>{if(l.key!=="Enter"||this.isPressing)return;const h=p=>{p.key!=="Enter"||!this.checkPressEnd()||vf("up",(m,g)=>{const{onTap:w}=this.node.getProps();w&&qe.update(()=>w(m,g))})};this.removeEndListeners(),this.removeEndListeners=Ur(this.node.current,"keyup",h),vf("down",(p,m)=>{this.startPress(p,m)})},n=Ur(this.node.current,"keydown",t),i=()=>{this.isPressing&&vf("cancel",(l,h)=>this.cancelPress(l,h))},a=Ur(this.node.current,"blur",i);this.removeAccessibleListeners=Ii(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:i,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&qe.update(()=>i(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!jy()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&qe.update(()=>i(t,n))}mount(){const t=this.node.getProps(),n=Wr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),i=Ur(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ii(n,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Uh=new WeakMap,Af=new WeakMap,aT=e=>{const t=Uh.get(e.target);t&&t(e)},lT=e=>{e.forEach(aT)};function cT({root:e,...t}){const n=e||document;Af.has(n)||Af.set(n,{});const i=Af.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(lT,{root:e,...t})),i[a]}function uT(e,t,n){const i=cT(t);return Uh.set(e,n),i.observe(e),()=>{Uh.delete(e),i.unobserve(e)}}const fT={some:0,all:1};class hT extends Ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=t,h={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:fT[a]},p=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:w,onViewportLeave:C}=this.node.getProps(),S=g?w:C;S&&S(m)};return uT(this.node.current,h,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(dT(t,n))&&this.startObserver()}unmount(){}}function dT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const pT={inView:{Feature:hT},tap:{Feature:oT},focus:{Feature:sT},hover:{Feature:iT}};function Vy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function gT(e){const t={};return e.values.forEach((n,i)=>t[i]=n.get()),t}function mT(e){const t={};return e.values.forEach((n,i)=>t[i]=n.getVelocity()),t}function mu(e,t,n){const i=e.getProps();return A0(i,t,n!==void 0?n:i.custom,gT(e),mT(e))}let xT=gt,S0=gt;const bi=e=>e*1e3,Gr=e=>e/1e3,yT={current:!1},zy=e=>Array.isArray(e)&&typeof e[0]=="number";function Hy(e){return!!(!e||typeof e=="string"&&Wy[e]||zy(e)||Array.isArray(e)&&e.every(Hy))}const Yo=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,Wy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Yo([0,.65,.55,1]),circOut:Yo([.55,0,1,.45]),backIn:Yo([.31,.01,.66,-.59]),backOut:Yo([.33,1.53,.69,.99])};function Gy(e){if(e)return zy(e)?Yo(e):Array.isArray(e)?e.map(Gy):Wy[e]}function wT(e,t,n,{delay:i=0,duration:a,repeat:l=0,repeatType:h="loop",ease:p,times:m}={}){const g={[t]:n};m&&(g.offset=m);const w=Gy(p);return Array.isArray(w)&&(g.easing=w),e.animate(g,{delay:i,duration:a,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:l+1,direction:h==="reverse"?"alternate":"normal"})}function CT(e,{repeat:t,repeatType:n="loop"}){const i=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[i]}const Xy=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ET=1e-7,vT=12;function AT(e,t,n,i,a){let l,h,p=0;do h=t+(n-t)/2,l=Xy(h,i,a)-e,l>0?n=h:t=h;while(Math.abs(l)>ET&&++p<vT);return h}function za(e,t,n,i){if(e===t&&n===i)return gt;const a=l=>AT(l,0,1,e,n);return l=>l===0||l===1?l:Xy(a(l),t,i)}const ST=za(.42,0,1,1),TT=za(0,0,.58,1),Yy=za(.42,0,.58,1),IT=e=>Array.isArray(e)&&typeof e[0]!="number",Qy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ky=e=>t=>1-e(1-t),T0=e=>1-Math.sin(Math.acos(e)),Zy=Ky(T0),bT=Qy(T0),qy=za(.33,1.53,.69,.99),I0=Ky(qy),NT=Qy(I0),_T=e=>(e*=2)<1?.5*I0(e):.5*(2-Math.pow(2,-10*(e-1))),RT={linear:gt,easeIn:ST,easeInOut:Yy,easeOut:TT,circIn:T0,circInOut:bT,circOut:Zy,backIn:I0,backInOut:NT,backOut:qy,anticipate:_T},ig=e=>{if(Array.isArray(e)){S0(e.length===4);const[t,n,i,a]=e;return za(t,n,i,a)}else if(typeof e=="string")return RT[e];return e},b0=(e,t)=>n=>!!(Ua(n)&&OS.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),$y=(e,t,n)=>i=>{if(!Ua(i))return i;const[a,l,h,p]=i.match(pu);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(h),alpha:p!==void 0?parseFloat(p):1}},OT=e=>Oi(0,255,e),Sf={...ys,transform:e=>Math.round(OT(e))},os={test:b0("rgb","red"),parse:$y("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Sf.transform(e)+", "+Sf.transform(t)+", "+Sf.transform(n)+", "+sa(ia.transform(i))+")"};function MT(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Vh={test:b0("#"),parse:MT,transform:os.transform},Hs={test:b0("hsl","hue"),parse:$y("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+br.transform(sa(t))+", "+br.transform(sa(n))+", "+sa(ia.transform(i))+")"},tn={test:e=>os.test(e)||Vh.test(e)||Hs.test(e),parse:e=>os.test(e)?os.parse(e):Hs.test(e)?Hs.parse(e):Vh.parse(e),transform:e=>Ua(e)?e:e.hasOwnProperty("red")?os.transform(e):Hs.transform(e)},ot=(e,t,n)=>-n*e+n*t+e;function Tf(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function DT({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,l=0,h=0;if(!t)a=l=h=n;else{const p=n<.5?n*(1+t):n+t-n*t,m=2*n-p;a=Tf(m,p,e+1/3),l=Tf(m,p,e),h=Tf(m,p,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(h*255),alpha:i}}const If=(e,t,n)=>{const i=e*e;return Math.sqrt(Math.max(0,n*(t*t-i)+i))},kT=[Vh,os,Hs],LT=e=>kT.find(t=>t.test(e));function sg(e){const t=LT(e);let n=t.parse(e);return t===Hs&&(n=DT(n)),n}const Jy=(e,t)=>{const n=sg(e),i=sg(t),a={...n};return l=>(a.red=If(n.red,i.red,l),a.green=If(n.green,i.green,l),a.blue=If(n.blue,i.blue,l),a.alpha=ot(n.alpha,i.alpha,l),os.transform(a))};function PT(e){var t,n;return isNaN(e)&&Ua(e)&&(((t=e.match(pu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Ty))===null||n===void 0?void 0:n.length)||0)>0}const ew={regex:_S,countKey:"Vars",token:"${v}",parse:gt},tw={regex:Ty,countKey:"Colors",token:"${c}",parse:tn.parse},nw={regex:pu,countKey:"Numbers",token:"${n}",parse:ys.parse};function bf(e,{regex:t,countKey:n,token:i,parse:a}){const l=e.tokenised.match(t);l&&(e["num"+n]=l.length,e.tokenised=e.tokenised.replace(t,i),e.values.push(...l.map(a)))}function Rc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&bf(n,ew),bf(n,tw),bf(n,nw),n}function rw(e){return Rc(e).values}function iw(e){const{values:t,numColors:n,numVars:i,tokenised:a}=Rc(e),l=t.length;return h=>{let p=a;for(let m=0;m<l;m++)m<i?p=p.replace(ew.token,h[m]):m<i+n?p=p.replace(tw.token,tn.transform(h[m])):p=p.replace(nw.token,sa(h[m]));return p}}const BT=e=>typeof e=="number"?0:e;function FT(e){const t=rw(e);return iw(e)(t.map(BT))}const Mi={test:PT,parse:rw,createTransformer:iw,getAnimatableNone:FT},sw=(e,t)=>n=>`${n>0?t:e}`;function ow(e,t){return typeof e=="number"?n=>ot(e,t,n):tn.test(e)?Jy(e,t):e.startsWith("var(")?sw(e,t):lw(e,t)}const aw=(e,t)=>{const n=[...e],i=n.length,a=e.map((l,h)=>ow(l,t[h]));return l=>{for(let h=0;h<i;h++)n[h]=a[h](l);return n}},jT=(e,t)=>{const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=ow(e[a],t[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}},lw=(e,t)=>{const n=Mi.createTransformer(t),i=Rc(e),a=Rc(t);return i.numVars===a.numVars&&i.numColors===a.numColors&&i.numNumbers>=a.numNumbers?Ii(aw(i.values,a.values),n):sw(e,t)},_a=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},og=(e,t)=>n=>ot(e,t,n);function UT(e){return typeof e=="number"?og:typeof e=="string"?tn.test(e)?Jy:lw:Array.isArray(e)?aw:typeof e=="object"?jT:og}function VT(e,t,n){const i=[],a=n||UT(e[0]),l=e.length-1;for(let h=0;h<l;h++){let p=a(e[h],e[h+1]);if(t){const m=Array.isArray(t)?t[h]||gt:t;p=Ii(m,p)}i.push(p)}return i}function cw(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const l=e.length;if(S0(l===t.length),l===1)return()=>t[0];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=VT(t,i,a),p=h.length,m=g=>{let w=0;if(p>1)for(;w<e.length-2&&!(g<e[w+1]);w++);const C=_a(e[w],e[w+1],g);return h[w](C)};return n?g=>m(Oi(e[0],e[l-1],g)):m}function zT(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=_a(0,t,i);e.push(ot(n,1,a))}}function HT(e){const t=[0];return zT(t,e.length-1),t}function WT(e,t){return e.map(n=>n*t)}function GT(e,t){return e.map(()=>t||Yy).splice(0,e.length-1)}function Oc({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=IT(i)?i.map(ig):ig(i),l={done:!1,value:t[0]},h=WT(n&&n.length===t.length?n:HT(t),e),p=cw(h,t,{ease:Array.isArray(a)?a:GT(t,a)});return{calculatedDuration:e,next:m=>(l.value=p(m),l.done=m>=e,l)}}function uw(e,t){return t?e*(1e3/t):0}const XT=5;function fw(e,t,n){const i=Math.max(t-XT,0);return uw(n-e(i),t-i)}const Nf=.001,YT=.01,ag=10,QT=.05,KT=1;function ZT({duration:e=800,bounce:t=.25,velocity:n=0,mass:i=1}){let a,l;xT(e<=bi(ag));let h=1-t;h=Oi(QT,KT,h),e=Oi(YT,ag,Gr(e)),h<1?(a=g=>{const w=g*h,C=w*e,S=w-n,_=zh(g,h),R=Math.exp(-C);return Nf-S/_*R},l=g=>{const C=g*h*e,S=C*n+n,_=Math.pow(h,2)*Math.pow(g,2)*e,R=Math.exp(-C),O=zh(Math.pow(g,2),h);return(-a(g)+Nf>0?-1:1)*((S-_)*R)/O}):(a=g=>{const w=Math.exp(-g*e),C=(g-n)*e+1;return-Nf+w*C},l=g=>{const w=Math.exp(-g*e),C=(n-g)*(e*e);return w*C});const p=5/e,m=$T(a,l,p);if(e=bi(e),isNaN(m))return{stiffness:100,damping:10,duration:e};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:h*2*Math.sqrt(i*g),duration:e}}}const qT=12;function $T(e,t,n){let i=n;for(let a=1;a<qT;a++)i=i-e(i)/t(i);return i}function zh(e,t){return e*Math.sqrt(1-t*t)}const JT=["duration","bounce"],e8=["stiffness","damping","mass"];function lg(e,t){return t.some(n=>e[n]!==void 0)}function t8(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!lg(e,e8)&&lg(e,JT)){const n=ZT(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function hw({keyframes:e,restDelta:t,restSpeed:n,...i}){const a=e[0],l=e[e.length-1],h={done:!1,value:a},{stiffness:p,damping:m,mass:g,duration:w,velocity:C,isResolvedFromDuration:S}=t8({...i,velocity:-Gr(i.velocity||0)}),_=C||0,R=m/(2*Math.sqrt(p*g)),O=l-a,L=Gr(Math.sqrt(p/g)),M=Math.abs(O)<5;n||(n=M?.01:2),t||(t=M?.005:.5);let N;if(R<1){const b=zh(L,R);N=F=>{const Q=Math.exp(-R*L*F);return l-Q*((_+R*L*O)/b*Math.sin(b*F)+O*Math.cos(b*F))}}else if(R===1)N=b=>l-Math.exp(-L*b)*(O+(_+L*O)*b);else{const b=L*Math.sqrt(R*R-1);N=F=>{const Q=Math.exp(-R*L*F),Z=Math.min(b*F,300);return l-Q*((_+R*L*O)*Math.sinh(Z)+b*O*Math.cosh(Z))/b}}return{calculatedDuration:S&&w||null,next:b=>{const F=N(b);if(S)h.done=b>=w;else{let Q=_;b!==0&&(R<1?Q=fw(N,b,F):Q=0);const Z=Math.abs(Q)<=n,U=Math.abs(l-F)<=t;h.done=Z&&U}return h.value=h.done?l:F,h}}}function cg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:h,min:p,max:m,restDelta:g=.5,restSpeed:w}){const C=e[0],S={done:!1,value:C},_=K=>p!==void 0&&K<p||m!==void 0&&K>m,R=K=>p===void 0?m:m===void 0||Math.abs(p-K)<Math.abs(m-K)?p:m;let O=n*t;const L=C+O,M=h===void 0?L:h(L);M!==L&&(O=M-C);const N=K=>-O*Math.exp(-K/i),b=K=>M+N(K),F=K=>{const X=N(K),fe=b(K);S.done=Math.abs(X)<=g,S.value=S.done?M:fe};let Q,Z;const U=K=>{_(S.value)&&(Q=K,Z=hw({keyframes:[S.value,R(S.value)],velocity:fw(b,K,S.value),damping:a,stiffness:l,restDelta:g,restSpeed:w}))};return U(0),{calculatedDuration:null,next:K=>{let X=!1;return!Z&&Q===void 0&&(X=!0,F(K),U(K)),Q!==void 0&&K>Q?Z.next(K-Q):(!X&&F(K),S)}}}const n8=e=>{const t=({timestamp:n})=>e(n);return{start:()=>qe.update(t,!0),stop:()=>Zr(t),now:()=>Kt.isProcessing?Kt.timestamp:performance.now()}},ug=2e4;function fg(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<ug;)t+=n,i=e.next(t);return t>=ug?1/0:t}const r8={decay:cg,inertia:cg,tween:Oc,keyframes:Oc,spring:hw};function Mc({autoplay:e=!0,delay:t=0,driver:n=n8,keyframes:i,type:a="keyframes",repeat:l=0,repeatDelay:h=0,repeatType:p="loop",onPlay:m,onStop:g,onComplete:w,onUpdate:C,...S}){let _=1,R=!1,O,L;const M=()=>{L=new Promise(he=>{O=he})};M();let N;const b=r8[a]||Oc;let F;b!==Oc&&typeof i[0]!="number"&&(F=cw([0,100],i,{clamp:!1}),i=[0,100]);const Q=b({...S,keyframes:i});let Z;p==="mirror"&&(Z=b({...S,keyframes:[...i].reverse(),velocity:-(S.velocity||0)}));let U="idle",K=null,X=null,fe=null;Q.calculatedDuration===null&&l&&(Q.calculatedDuration=fg(Q));const{calculatedDuration:_e}=Q;let ie=1/0,we=1/0;_e!==null&&(ie=_e+h,we=ie*(l+1)-h);let Ae=0;const Y=he=>{if(X===null)return;_>0&&(X=Math.min(X,he)),_<0&&(X=Math.min(he-we/_,X)),K!==null?Ae=K:Ae=Math.round(he-X)*_;const ve=Ae-t*(_>=0?1:-1),It=_>=0?ve<0:ve>we;Ae=Math.max(ve,0),U==="finished"&&K===null&&(Ae=we);let Pe=Ae,wn=Q;if(l){const Mr=Math.min(Ae,we)/ie;let ur=Math.floor(Mr),ct=Mr%1;!ct&&Mr>=1&&(ct=1),ct===1&&ur--,ur=Math.min(ur,l+1),!!(ur%2)&&(p==="reverse"?(ct=1-ct,h&&(ct-=h/ie)):p==="mirror"&&(wn=Z)),Pe=Oi(0,1,ct)*ie}const le=It?{done:!1,value:i[0]}:wn.next(Pe);F&&(le.value=F(le.value));let{done:Qn}=le;!It&&_e!==null&&(Qn=_>=0?Ae>=we:Ae<=0);const wt=K===null&&(U==="finished"||U==="running"&&Qn);return C&&C(le.value),wt&&ne(),le},xe=()=>{N&&N.stop(),N=void 0},de=()=>{U="idle",xe(),O(),M(),X=fe=null},ne=()=>{U="finished",w&&w(),xe(),O()},ue=()=>{if(R)return;N||(N=n(Y));const he=N.now();m&&m(),K!==null?X=he-K:(!X||U==="finished")&&(X=he),U==="finished"&&M(),fe=X,K=null,U="running",N.start()};e&&ue();const me={then(he,ve){return L.then(he,ve)},get time(){return Gr(Ae)},set time(he){he=bi(he),Ae=he,K!==null||!N||_===0?K=he:X=N.now()-he/_},get duration(){const he=Q.calculatedDuration===null?fg(Q):Q.calculatedDuration;return Gr(he)},get speed(){return _},set speed(he){he===_||!N||(_=he,me.time=Gr(Ae))},get state(){return U},play:ue,pause:()=>{U="paused",K=Ae},stop:()=>{R=!0,U!=="idle"&&(U="idle",g&&g(),de())},cancel:()=>{fe!==null&&Y(fe),de()},complete:()=>{U="finished"},sample:he=>(X=0,Y(he))};return me}function i8(e){let t;return()=>(t===void 0&&(t=e()),t)}const s8=i8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),o8=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Al=10,a8=2e4,l8=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Hy(t.ease);function c8(e,t,{onUpdate:n,onComplete:i,...a}){if(!(s8()&&o8.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let h=!1,p,m,g=!1;const w=()=>{m=new Promise(b=>{p=b})};w();let{keyframes:C,duration:S=300,ease:_,times:R}=a;if(l8(t,a)){const b=Mc({...a,repeat:0,delay:0});let F={done:!1,value:C[0]};const Q=[];let Z=0;for(;!F.done&&Z<a8;)F=b.sample(Z),Q.push(F.value),Z+=Al;R=void 0,C=Q,S=Z-Al,_="linear"}const O=wT(e.owner.current,t,C,{...a,duration:S,ease:_,times:R}),L=()=>{g=!1,O.cancel()},M=()=>{g=!0,qe.update(L),p(),w()};return O.onfinish=()=>{g||(e.set(CT(C,a)),i&&i(),M())},{then(b,F){return m.then(b,F)},attachTimeline(b){return O.timeline=b,O.onfinish=null,gt},get time(){return Gr(O.currentTime||0)},set time(b){O.currentTime=bi(b)},get speed(){return O.playbackRate},set speed(b){O.playbackRate=b},get duration(){return Gr(S)},play:()=>{h||(O.play(),Zr(L))},pause:()=>O.pause(),stop:()=>{if(h=!0,O.playState==="idle")return;const{currentTime:b}=O;if(b){const F=Mc({...a,autoplay:!1});e.setWithVelocity(F.sample(b-Al).value,F.sample(b).value,Al)}M()},complete:()=>{g||O.finish()},cancel:M}}function u8({keyframes:e,delay:t,onUpdate:n,onComplete:i}){const a=()=>(n&&n(e[e.length-1]),i&&i(),{time:0,speed:1,duration:0,play:gt,pause:gt,stop:gt,then:l=>(l(),Promise.resolve()),cancel:gt,complete:gt});return t?Mc({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const f8={type:"spring",stiffness:500,damping:25,restSpeed:10},h8=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),d8={type:"keyframes",duration:.8},p8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},g8=(e,{keyframes:t})=>t.length>2?d8:xs.has(e)?e.startsWith("scale")?h8(t[1]):f8:p8,Hh=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Mi.test(t)||t==="0")&&!t.startsWith("url(")),m8=new Set(["brightness","contrast","saturate","opacity"]);function x8(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(pu)||[];if(!i)return e;const a=n.replace(i,"");let l=m8.has(t)?1:0;return i!==n&&(l*=100),t+"("+l+a+")"}const y8=/([a-z-]*)\(.*?\)/g,Wh={...Mi,getAnimatableNone:e=>{const t=e.match(y8);return t?t.map(x8).join(" "):e}},w8={...Iy,color:tn,backgroundColor:tn,outlineColor:tn,fill:tn,stroke:tn,borderColor:tn,borderTopColor:tn,borderRightColor:tn,borderBottomColor:tn,borderLeftColor:tn,filter:Wh,WebkitFilter:Wh},N0=e=>w8[e];function dw(e,t){let n=N0(e);return n!==Wh&&(n=Mi),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const pw=e=>/^0[^.\s]+$/.test(e);function C8(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||pw(e)}function E8(e,t,n,i){const a=Hh(t,n);let l;Array.isArray(n)?l=[...n]:l=[null,n];const h=i.from!==void 0?i.from:e.get();let p;const m=[];for(let g=0;g<l.length;g++)l[g]===null&&(l[g]=g===0?h:l[g-1]),C8(l[g])&&m.push(g),typeof l[g]=="string"&&l[g]!=="none"&&l[g]!=="0"&&(p=l[g]);if(a&&m.length&&p)for(let g=0;g<m.length;g++){const w=m[g];l[w]=dw(t,p)}return l}function v8({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:h,repeatDelay:p,from:m,elapsed:g,...w}){return!!Object.keys(w).length}function _0(e,t){return e[t]||e.default||e}const A8={skipAnimations:!1},R0=(e,t,n,i={})=>a=>{const l=_0(i,e)||{},h=l.delay||i.delay||0;let{elapsed:p=0}=i;p=p-bi(h);const m=E8(t,e,n,l),g=m[0],w=m[m.length-1],C=Hh(e,g),S=Hh(e,w);let _={keyframes:m,velocity:t.getVelocity(),ease:"easeOut",...l,delay:-p,onUpdate:R=>{t.set(R),l.onUpdate&&l.onUpdate(R)},onComplete:()=>{a(),l.onComplete&&l.onComplete()}};if(v8(l)||(_={..._,...g8(e,_)}),_.duration&&(_.duration=bi(_.duration)),_.repeatDelay&&(_.repeatDelay=bi(_.repeatDelay)),!C||!S||yT.current||l.type===!1||A8.skipAnimations)return u8(_);if(!i.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const R=c8(t,e,_);if(R)return R}return Mc(_)};function Dc(e){return!!(yn(e)&&e.add)}const gw=e=>/^\-?\d*\.?\d+$/.test(e);function O0(e,t){e.indexOf(t)===-1&&e.push(t)}function M0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class D0{constructor(){this.subscriptions=[]}add(t){return O0(this.subscriptions,t),()=>M0(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let l=0;l<a;l++){const h=this.subscriptions[l];h&&h(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const S8=e=>!isNaN(parseFloat(e));class T8{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,a=!0)=>{this.prev=this.current,this.current=i;const{delta:l,timestamp:h}=Kt;this.lastUpdated!==h&&(this.timeDelta=l,this.lastUpdated=h,qe.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>qe.postRender(this.velocityCheck),this.velocityCheck=({timestamp:i})=>{i!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=S8(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new D0);const i=this.events[t].add(n);return t==="change"?()=>{i(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=t,this.timeDelta=i}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?uw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ao(e,t){return new T8(e,t)}const mw=e=>t=>t.test(e),I8={test:e=>e==="auto",parse:e=>e},xw=[ys,Ee,br,li,DS,MS,I8],Uo=e=>xw.find(mw(e)),b8=[...xw,tn,Mi],N8=e=>b8.find(mw(e));function _8(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ao(n))}function R8(e,t){const n=mu(e,t);let{transitionEnd:i={},transition:a={},...l}=n?e.makeTargetAnimatable(n,!1):{};l={...l,...i};for(const h in l){const p=YS(l[h]);_8(e,h,p)}}function O8(e,t,n){var i,a;const l=Object.keys(t).filter(p=>!e.hasValue(p)),h=l.length;if(h)for(let p=0;p<h;p++){const m=l[p],g=t[m];let w=null;Array.isArray(g)&&(w=g[0]),w===null&&(w=(a=(i=n[m])!==null&&i!==void 0?i:e.readValue(m))!==null&&a!==void 0?a:t[m]),w!=null&&(typeof w=="string"&&(gw(w)||pw(w))?w=parseFloat(w):!N8(w)&&Mi.test(g)&&(w=dw(m,g)),e.addValue(m,ao(w,{owner:e})),n[m]===void 0&&(n[m]=w),w!==null&&e.setBaseTarget(m,w))}}function M8(e,t){return t?(t[e]||t.default||t).from:void 0}function D8(e,t,n){const i={};for(const a in e){const l=M8(a,t);if(l!==void 0)i[a]=l;else{const h=n.getValue(a);h&&(i[a]=h.get())}}return i}function k8({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function L8(e,t){const n=e.get();if(Array.isArray(t)){for(let i=0;i<t.length;i++)if(t[i]!==n)return!0}else return n!==t}function yw(e,t,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:h,...p}=e.makeTargetAnimatable(t);const m=e.getValue("willChange");i&&(l=i);const g=[],w=a&&e.animationState&&e.animationState.getState()[a];for(const C in p){const S=e.getValue(C),_=p[C];if(!S||_===void 0||w&&k8(w,C))continue;const R={delay:n,elapsed:0,..._0(l||{},C)};if(window.HandoffAppearAnimations){const M=e.getProps()[wy];if(M){const N=window.HandoffAppearAnimations(M,C,S,qe);N!==null&&(R.elapsed=N,R.isHandoff=!0)}}let O=!R.isHandoff&&!L8(S,_);if(R.type==="spring"&&(S.getVelocity()||R.velocity)&&(O=!1),S.animation&&(O=!1),O)continue;S.start(R0(C,S,_,e.shouldReduceMotion&&xs.has(C)?{type:!1}:R));const L=S.animation;Dc(m)&&(m.add(C),L.then(()=>m.remove(C))),g.push(L)}return h&&Promise.all(g).then(()=>{h&&R8(e,h)}),g}function Gh(e,t,n={}){const i=mu(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(yw(e,i,n)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:w,staggerDirection:C}=a;return P8(e,t,g+m,w,C,n)}:()=>Promise.resolve(),{when:p}=a;if(p){const[m,g]=p==="beforeChildren"?[l,h]:[h,l];return m().then(()=>g())}else return Promise.all([l(),h(n.delay)])}function P8(e,t,n=0,i=0,a=1,l){const h=[],p=(e.variantChildren.size-1)*i,m=a===1?(g=0)=>g*i:(g=0)=>p-g*i;return Array.from(e.variantChildren).sort(B8).forEach((g,w)=>{g.notify("AnimationStart",t),h.push(Gh(g,t,{...l,delay:n+m(w)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(h)}function B8(e,t){return e.sortNodePosition(t)}function F8(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>Gh(e,l,n));i=Promise.all(a)}else if(typeof t=="string")i=Gh(e,t,n);else{const a=typeof t=="function"?mu(e,t,n.custom):t;i=Promise.all(yw(e,a,n))}return i.then(()=>e.notify("AnimationComplete",t))}const j8=[...p0].reverse(),U8=p0.length;function V8(e){return t=>Promise.all(t.map(({animation:n,options:i})=>F8(e,n,i)))}function z8(e){let t=V8(e);const n=W8();let i=!0;const a=(m,g)=>{const w=mu(e,g);if(w){const{transition:C,transitionEnd:S,..._}=w;m={...m,..._,...S}}return m};function l(m){t=m(e)}function h(m,g){const w=e.getProps(),C=e.getVariantContext(!0)||{},S=[],_=new Set;let R={},O=1/0;for(let M=0;M<U8;M++){const N=j8[M],b=n[N],F=w[N]!==void 0?w[N]:C[N],Q=ba(F),Z=N===g?b.isActive:null;Z===!1&&(O=M);let U=F===C[N]&&F!==w[N]&&Q;if(U&&i&&e.manuallyAnimateOnMount&&(U=!1),b.protectedKeys={...R},!b.isActive&&Z===null||!F&&!b.prevProp||hu(F)||typeof F=="boolean")continue;let X=H8(b.prevProp,F)||N===g&&b.isActive&&!U&&Q||M>O&&Q,fe=!1;const _e=Array.isArray(F)?F:[F];let ie=_e.reduce(a,{});Z===!1&&(ie={});const{prevResolvedValues:we={}}=b,Ae={...we,...ie},Y=xe=>{X=!0,_.has(xe)&&(fe=!0,_.delete(xe)),b.needsAnimating[xe]=!0};for(const xe in Ae){const de=ie[xe],ne=we[xe];if(R.hasOwnProperty(xe))continue;let ue=!1;_c(de)&&_c(ne)?ue=!Vy(de,ne):ue=de!==ne,ue?de!==void 0?Y(xe):_.add(xe):de!==void 0&&_.has(xe)?Y(xe):b.protectedKeys[xe]=!0}b.prevProp=F,b.prevResolvedValues=ie,b.isActive&&(R={...R,...ie}),i&&e.blockInitialAnimation&&(X=!1),X&&(!U||fe)&&S.push(..._e.map(xe=>({animation:xe,options:{type:N,...m}})))}if(_.size){const M={};_.forEach(N=>{const b=e.getBaseTarget(N);b!==void 0&&(M[N]=b)}),S.push({animation:M})}let L=!!S.length;return i&&(w.initial===!1||w.initial===w.animate)&&!e.manuallyAnimateOnMount&&(L=!1),i=!1,L?t(S):Promise.resolve()}function p(m,g,w){var C;if(n[m].isActive===g)return Promise.resolve();(C=e.variantChildren)===null||C===void 0||C.forEach(_=>{var R;return(R=_.animationState)===null||R===void 0?void 0:R.setActive(m,g)}),n[m].isActive=g;const S=h(w,m);for(const _ in n)n[_].protectedKeys={};return S}return{animateChanges:h,setActive:p,setAnimateFunction:l,getState:()=>n}}function H8(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Vy(t,e):!1}function Qi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W8(){return{animate:Qi(!0),whileInView:Qi(),whileHover:Qi(),whileTap:Qi(),whileDrag:Qi(),whileFocus:Qi(),exit:Qi()}}class G8 extends Ui{constructor(t){super(t),t.animationState||(t.animationState=z8(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),hu(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let X8=0;class Y8 extends Ui{constructor(){super(...arguments),this.id=X8++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:i}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const l=this.node.animationState.setActive("exit",!t,{custom:i??this.node.getProps().custom});n&&!t&&l.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Q8={animation:{Feature:G8},exit:{Feature:Y8}},hg=(e,t)=>Math.abs(e-t);function K8(e,t){const n=hg(e.x,t.x),i=hg(e.y,t.y);return Math.sqrt(n**2+i**2)}class ww{constructor(t,n,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Rf(this.lastMoveEventInfo,this.history),S=this.startEvent!==null,_=K8(C.offset,{x:0,y:0})>=3;if(!S&&!_)return;const{point:R}=C,{timestamp:O}=Kt;this.history.push({...R,timestamp:O});const{onStart:L,onMove:M}=this.handlers;S||(L&&L(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,C)},this.handlePointerMove=(C,S)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=_f(S,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(C,S)=>{this.end();const{onEnd:_,onSessionEnd:R,resumeAnimation:O}=this.handlers;if(this.dragSnapToOrigin&&O&&O(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Rf(C.type==="pointercancel"?this.lastMoveEventInfo:_f(S,this.transformPagePoint),this.history);this.startEvent&&_&&_(C,L),R&&R(C,L)},!Py(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=a||window;const h=gu(t),p=_f(h,this.transformPagePoint),{point:m}=p,{timestamp:g}=Kt;this.history=[{...m,timestamp:g}];const{onSessionStart:w}=n;w&&w(t,Rf(p,this.history)),this.removeListeners=Ii(Wr(this.contextWindow,"pointermove",this.handlePointerMove),Wr(this.contextWindow,"pointerup",this.handlePointerUp),Wr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zr(this.updatePoint)}}function _f(e,t){return t?{point:t(e.point)}:e}function dg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Rf({point:e},t){return{point:e,delta:dg(e,Cw(t)),offset:dg(e,Z8(t)),velocity:q8(t,.1)}}function Z8(e){return e[0]}function Cw(e){return e[e.length-1]}function q8(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=Cw(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>bi(t)));)n--;if(!i)return{x:0,y:0};const l=Gr(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const h={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function _n(e){return e.max-e.min}function Xh(e,t=0,n=.01){return Math.abs(e-t)<=n}function pg(e,t,n,i=.5){e.origin=i,e.originPoint=ot(t.min,t.max,e.origin),e.scale=_n(n)/_n(t),(Xh(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ot(n.min,n.max,e.origin)-e.originPoint,(Xh(e.translate)||isNaN(e.translate))&&(e.translate=0)}function oa(e,t,n,i){pg(e.x,t.x,n.x,i?i.originX:void 0),pg(e.y,t.y,n.y,i?i.originY:void 0)}function gg(e,t,n){e.min=n.min+t.min,e.max=e.min+_n(t)}function $8(e,t,n){gg(e.x,t.x,n.x),gg(e.y,t.y,n.y)}function mg(e,t,n){e.min=t.min-n.min,e.max=e.min+_n(t)}function aa(e,t,n){mg(e.x,t.x,n.x),mg(e.y,t.y,n.y)}function J8(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?ot(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?ot(n,e,i.max):Math.min(e,n)),e}function xg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function eI(e,{top:t,left:n,bottom:i,right:a}){return{x:xg(e.x,n,a),y:xg(e.y,t,i)}}function yg(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function tI(e,t){return{x:yg(e.x,t.x),y:yg(e.y,t.y)}}function nI(e,t){let n=.5;const i=_n(e),a=_n(t);return a>i?n=_a(t.min,t.max-i,e.min):i>a&&(n=_a(e.min,e.max-a,t.min)),Oi(0,1,n)}function rI(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Yh=.35;function iI(e=Yh){return e===!1?e=0:e===!0&&(e=Yh),{x:wg(e,"left","right"),y:wg(e,"top","bottom")}}function wg(e,t,n){return{min:Cg(e,t),max:Cg(e,n)}}function Cg(e,t){return typeof e=="number"?e:e[t]||0}const Eg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ws=()=>({x:Eg(),y:Eg()}),vg=()=>({min:0,max:0}),Et=()=>({x:vg(),y:vg()});function Un(e){return[e("x"),e("y")]}function Ew({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function sI({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function oI(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Of(e){return e===void 0||e===1}function Qh({scale:e,scaleX:t,scaleY:n}){return!Of(e)||!Of(t)||!Of(n)}function $i(e){return Qh(e)||vw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function vw(e){return Ag(e.x)||Ag(e.y)}function Ag(e){return e&&e!=="0%"}function kc(e,t,n){const i=e-n,a=t*i;return n+a}function Sg(e,t,n,i,a){return a!==void 0&&(e=kc(e,a,i)),kc(e,n,i)+t}function Kh(e,t=0,n=1,i,a){e.min=Sg(e.min,t,n,i,a),e.max=Sg(e.max,t,n,i,a)}function Aw(e,{x:t,y:n}){Kh(e.x,t.translate,t.scale,t.originPoint),Kh(e.y,n.translate,n.scale,n.originPoint)}function aI(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,h;for(let p=0;p<a;p++){l=n[p],h=l.projectionDelta;const m=l.instance;m&&m.style&&m.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Gs(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),h&&(t.x*=h.x.scale,t.y*=h.y.scale,Aw(e,h)),i&&$i(l.latestValues)&&Gs(e,l.latestValues))}t.x=Tg(t.x),t.y=Tg(t.y)}function Tg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function fi(e,t){e.min=e.min+t,e.max=e.max+t}function Ig(e,t,[n,i,a]){const l=t[a]!==void 0?t[a]:.5,h=ot(e.min,e.max,l);Kh(e,t[n],t[i],h,t.scale)}const lI=["x","scaleX","originX"],cI=["y","scaleY","originY"];function Gs(e,t){Ig(e.x,t,lI),Ig(e.y,t,cI)}function Sw(e,t){return Ew(oI(e.getBoundingClientRect(),t))}function uI(e,t,n){const i=Sw(e,n),{scroll:a}=t;return a&&(fi(i.x,a.offset.x),fi(i.y,a.offset.y)),i}const Tw=({current:e})=>e?e.ownerDocument.defaultView:null,fI=new WeakMap;class hI{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=w=>{const{dragSnapToOrigin:C}=this.getProps();C?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(gu(w,"page").point)},l=(w,C)=>{const{drag:S,dragPropagation:_,onDragStart:R}=this.getProps();if(S&&!_&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Fy(S),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(L=>{let M=this.getAxisMotionValue(L).get()||0;if(br.test(M)){const{projection:N}=this.visualElement;if(N&&N.layout){const b=N.layout.layoutBox[L];b&&(M=_n(b)*(parseFloat(M)/100))}}this.originPoint[L]=M}),R&&qe.update(()=>R(w,C),!1,!0);const{animationState:O}=this.visualElement;O&&O.setActive("whileDrag",!0)},h=(w,C)=>{const{dragPropagation:S,dragDirectionLock:_,onDirectionLock:R,onDrag:O}=this.getProps();if(!S&&!this.openGlobalLock)return;const{offset:L}=C;if(_&&this.currentDirection===null){this.currentDirection=dI(L),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",C.point,L),this.updateAxis("y",C.point,L),this.visualElement.render(),O&&O(w,C)},p=(w,C)=>this.stop(w,C),m=()=>Un(w=>{var C;return this.getAnimationState(w)==="paused"&&((C=this.getAxisMotionValue(w).animation)===null||C===void 0?void 0:C.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new ww(t,{onSessionStart:a,onStart:l,onMove:h,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:Tw(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&qe.update(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!Sl(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let h=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(h=J8(h,this.constraints[t],this.elastic[t])),l.set(h)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;n&&zs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=eI(a.layoutBox,n):this.constraints=!1,this.elastic=iI(i),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Un(h=>{this.getAxisMotionValue(h)&&(this.constraints[h]=rI(a.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!zs(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=uI(i,a.root,this.visualElement.getTransformPagePoint());let h=tI(a.layout.layoutBox,l);if(n){const p=n(sI(h));this.hasMutatedConstraints=!!p,p&&(h=Ew(p))}return h}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:h,onDragTransitionEnd:p}=this.getProps(),m=this.constraints||{},g=Un(w=>{if(!Sl(w,n,this.currentDirection))return;let C=m&&m[w]||{};h&&(C={min:0,max:0});const S=a?200:1e6,_=a?40:1e7,R={type:"inertia",velocity:i?t[w]:0,bounceStiffness:S,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...l,...C};return this.startAxisValueAnimation(w,R)});return Promise.all(g).then(p)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return i.start(R0(t,i,0,n))}stopAnimation(){Un(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Un(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Un(n=>{const{drag:i}=this.getProps();if(!Sl(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:h,max:p}=a.layout.layoutBox[n];l.set(t[n]-ot(h,p,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!zs(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Un(h=>{const p=this.getAxisMotionValue(h);if(p){const m=p.get();a[h]=nI({min:m,max:m},this.constraints[h])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Un(h=>{if(!Sl(h,t,null))return;const p=this.getAxisMotionValue(h),{min:m,max:g}=this.constraints[h];p.set(ot(m,g,a[h]))})}addListeners(){if(!this.visualElement.current)return;fI.set(this.visualElement,this);const t=this.visualElement.current,n=Wr(t,"pointerdown",m=>{const{drag:g,dragListener:w=!0}=this.getProps();g&&w&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();zs(m)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),i();const h=Ur(window,"resize",()=>this.scalePositionWithinConstraints()),p=a.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g})=>{this.isDragging&&g&&(Un(w=>{const C=this.getAxisMotionValue(w);C&&(this.originPoint[w]+=m[w].translate,C.set(C.get()+m[w].translate))}),this.visualElement.render())});return()=>{h(),n(),l(),p&&p()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:h=Yh,dragMomentum:p=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:h,dragMomentum:p}}}function Sl(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function dI(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class pI extends Ui{constructor(t){super(t),this.removeGroupControls=gt,this.removeListeners=gt,this.controls=new hI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const bg=e=>(t,n)=>{e&&qe.update(()=>e(t,n))};class gI extends Ui{constructor(){super(...arguments),this.removePointerDownListener=gt}onPointerDown(t){this.session=new ww(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:bg(t),onStart:bg(n),onMove:i,onEnd:(l,h)=>{delete this.session,a&&qe.update(()=>a(l,h))}}}mount(){this.removePointerDownListener=Wr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function mI(){const e=B.useContext(uu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:i}=e,a=B.useId();return B.useEffect(()=>i(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const Xl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ng(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Vo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ee.test(e))e=parseFloat(e);else return e;const n=Ng(e,t.target.x),i=Ng(e,t.target.y);return`${n}% ${i}%`}},xI={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=Mi.parse(e);if(a.length>5)return i;const l=Mi.createTransformer(e),h=typeof a[0]!="number"?1:0,p=n.x.scale*t.x,m=n.y.scale*t.y;a[0+h]/=p,a[1+h]/=m;const g=ot(p,m,.5);return typeof a[2+h]=="number"&&(a[2+h]/=g),typeof a[3+h]=="number"&&(a[3+h]/=g),l(a)}};class yI extends Uc.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;TS(wI),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Xl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,h=i.projection;return h&&(h.isPresent=l,a||t.layoutDependency!==n||n===void 0?h.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?h.promote():h.relegate()||qe.postRender(()=>{const p=h.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Iw(e){const[t,n]=mI(),i=B.useContext(m0);return Uc.createElement(yI,{...e,layoutGroup:i,switchLayoutGroup:B.useContext(Ey),isPresent:t,safeToRemove:n})}const wI={borderRadius:{...Vo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vo,borderTopRightRadius:Vo,borderBottomLeftRadius:Vo,borderBottomRightRadius:Vo,boxShadow:xI},bw=["TopLeft","TopRight","BottomLeft","BottomRight"],CI=bw.length,_g=e=>typeof e=="string"?parseFloat(e):e,Rg=e=>typeof e=="number"||Ee.test(e);function EI(e,t,n,i,a,l){a?(e.opacity=ot(0,n.opacity!==void 0?n.opacity:1,vI(i)),e.opacityExit=ot(t.opacity!==void 0?t.opacity:1,0,AI(i))):l&&(e.opacity=ot(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let h=0;h<CI;h++){const p=`border${bw[h]}Radius`;let m=Og(t,p),g=Og(n,p);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||Rg(m)===Rg(g)?(e[p]=Math.max(ot(_g(m),_g(g),i),0),(br.test(g)||br.test(m))&&(e[p]+="%")):e[p]=g}(t.rotate||n.rotate)&&(e.rotate=ot(t.rotate||0,n.rotate||0,i))}function Og(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vI=Nw(0,.5,Zy),AI=Nw(.5,.95,gt);function Nw(e,t,n){return i=>i<e?0:i>t?1:n(_a(e,t,i))}function Mg(e,t){e.min=t.min,e.max=t.max}function Bn(e,t){Mg(e.x,t.x),Mg(e.y,t.y)}function Dg(e,t,n,i,a){return e-=t,e=kc(e,1/n,i),a!==void 0&&(e=kc(e,1/a,i)),e}function SI(e,t=0,n=1,i=.5,a,l=e,h=e){if(br.test(t)&&(t=parseFloat(t),t=ot(h.min,h.max,t/100)-h.min),typeof t!="number")return;let p=ot(l.min,l.max,i);e===l&&(p-=t),e.min=Dg(e.min,t,n,p,a),e.max=Dg(e.max,t,n,p,a)}function kg(e,t,[n,i,a],l,h){SI(e,t[n],t[i],t[a],t.scale,l,h)}const TI=["x","scaleX","originX"],II=["y","scaleY","originY"];function Lg(e,t,n,i){kg(e.x,t,TI,n?n.x:void 0,i?i.x:void 0),kg(e.y,t,II,n?n.y:void 0,i?i.y:void 0)}function Pg(e){return e.translate===0&&e.scale===1}function _w(e){return Pg(e.x)&&Pg(e.y)}function bI(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Rw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Bg(e){return _n(e.x)/_n(e.y)}class NI{constructor(){this.members=[]}add(t){O0(this.members,t),t.scheduleRender()}remove(t){if(M0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Fg(e,t,n){let i="";const a=e.x.translate/t.x,l=e.y.translate/t.y;if((a||l)&&(i=`translate3d(${a}px, ${l}px, 0) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:m,rotateX:g,rotateY:w}=n;m&&(i+=`rotate(${m}deg) `),g&&(i+=`rotateX(${g}deg) `),w&&(i+=`rotateY(${w}deg) `)}const h=e.x.scale*t.x,p=e.y.scale*t.y;return(h!==1||p!==1)&&(i+=`scale(${h}, ${p})`),i||"none"}const _I=(e,t)=>e.depth-t.depth;class RI{constructor(){this.children=[],this.isDirty=!1}add(t){O0(this.children,t),this.isDirty=!0}remove(t){M0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(_I),this.isDirty=!1,this.children.forEach(t)}}function OI(e,t){const n=performance.now(),i=({timestamp:a})=>{const l=a-n;l>=t&&(Zr(i),e(l-t))};return qe.read(i,!0),()=>Zr(i)}function MI(e){window.MotionDebug&&window.MotionDebug.record(e)}function DI(e){return e instanceof SVGElement&&e.tagName!=="svg"}function kI(e,t,n){const i=yn(e)?e:ao(e);return i.start(R0("",i,t,n)),i.animation}const jg=["","X","Y","Z"],LI={visibility:"hidden"},Ug=1e3;let PI=0;const Ji={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ow({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(h={},p=t==null?void 0:t()){this.id=PI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ji.totalNodes=Ji.resolvedTargetDeltas=Ji.recalculatedProjection=0,this.nodes.forEach(jI),this.nodes.forEach(WI),this.nodes.forEach(GI),this.nodes.forEach(UI),MI(Ji)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new RI)}addEventListener(h,p){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new D0),this.eventHandlers.get(h).add(p)}notifyListeners(h,...p){const m=this.eventHandlers.get(h);m&&m.notify(...p)}hasListeners(h){return this.eventHandlers.has(h)}mount(h,p=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=DI(h),this.instance=h;const{layoutId:m,layout:g,visualElement:w}=this.options;if(w&&!w.current&&w.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),p&&(g||m)&&(this.isLayoutDirty=!0),e){let C;const S=()=>this.root.updateBlockedByResize=!1;e(h,()=>{this.root.updateBlockedByResize=!0,C&&C(),C=OI(S,250),Xl.hasAnimatedSinceResize&&(Xl.hasAnimatedSinceResize=!1,this.nodes.forEach(zg))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&w&&(m||g)&&this.addEventListener("didUpdate",({delta:C,hasLayoutChanged:S,hasRelativeTargetChanged:_,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const O=this.options.transition||w.getDefaultTransition()||ZI,{onLayoutAnimationStart:L,onLayoutAnimationComplete:M}=w.getProps(),N=!this.targetLayout||!Rw(this.targetLayout,R)||_,b=!S&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||S&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(C,b);const F={..._0(O,"layout"),onPlay:L,onComplete:M};(w.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else S||zg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XI),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let w=0;w<this.path.length;w++){const C=this.path[w];C.shouldResetTransform=!0,C.updateScroll("snapshot"),C.options.layoutRoot&&C.willUpdate(!1)}const{layoutId:p,layout:m}=this.options;if(p===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vg);return}this.isUpdating||this.nodes.forEach(zI),this.isUpdating=!1,this.nodes.forEach(HI),this.nodes.forEach(BI),this.nodes.forEach(FI),this.clearAllSnapshots();const p=performance.now();Kt.delta=Oi(0,1e3/60,p-Kt.timestamp),Kt.timestamp=p,Kt.isProcessing=!0,Ef.update.process(Kt),Ef.preRender.process(Kt),Ef.render.process(Kt),Kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(VI),this.sharedNodes.forEach(YI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let p=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(p=!1),p&&(this.scroll={animationId:this.root.animationId,phase:h,isRoot:i(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const h=this.isLayoutDirty||this.shouldResetTransform,p=this.projectionDelta&&!_w(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,w=g!==this.prevTransformTemplateValue;h&&(p||$i(this.latestValues)||w)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const p=this.measurePageBox();let m=this.removeElementScroll(p);return h&&(m=this.removeTransform(m)),qI(m),{animationId:this.root.animationId,measuredBox:p,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:h}=this.options;if(!h)return Et();const p=h.measureViewportBox(),{scroll:m}=this.root;return m&&(fi(p.x,m.offset.x),fi(p.y,m.offset.y)),p}removeElementScroll(h){const p=Et();Bn(p,h);for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:w,options:C}=g;if(g!==this.root&&w&&C.layoutScroll){if(w.isRoot){Bn(p,h);const{scroll:S}=this.root;S&&(fi(p.x,-S.offset.x),fi(p.y,-S.offset.y))}fi(p.x,w.offset.x),fi(p.y,w.offset.y)}}return p}applyTransform(h,p=!1){const m=Et();Bn(m,h);for(let g=0;g<this.path.length;g++){const w=this.path[g];!p&&w.options.layoutScroll&&w.scroll&&w!==w.root&&Gs(m,{x:-w.scroll.offset.x,y:-w.scroll.offset.y}),$i(w.latestValues)&&Gs(m,w.latestValues)}return $i(this.latestValues)&&Gs(m,this.latestValues),m}removeTransform(h){const p=Et();Bn(p,h);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!$i(g.latestValues))continue;Qh(g.latestValues)&&g.updateSnapshot();const w=Et(),C=g.measurePageBox();Bn(w,C),Lg(p,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,w)}return $i(this.latestValues)&&Lg(p,this.latestValues),p}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var p;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==m;if(!(h||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((p=this.parent)===null||p===void 0)&&p.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:C,layoutId:S}=this.options;if(!(!this.layout||!(C||S))){if(this.resolvedRelativeTargetAt=Kt.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),aa(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Bn(this.target,this.layout.layoutBox),Aw(this.target,this.targetDelta)):Bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),aa(this.relativeTargetOrigin,this.target,_.target),Bn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ji.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qh(this.parent.latestValues)||vw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var h;const p=this.getLead(),m=!!this.resumingFrom||this!==p;let g=!0;if((this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty)&&(g=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===Kt.timestamp&&(g=!1),g)return;const{layout:w,layoutId:C}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||C))return;Bn(this.layoutCorrected,this.layout.layoutBox);const S=this.treeScale.x,_=this.treeScale.y;aI(this.layoutCorrected,this.treeScale,this.path,m),p.layout&&!p.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(p.target=p.layout.layoutBox);const{target:R}=p;if(!R){this.projectionTransform&&(this.projectionDelta=Ws(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ws(),this.projectionDeltaWithTransform=Ws());const O=this.projectionTransform;oa(this.projectionDelta,this.layoutCorrected,R,this.latestValues),this.projectionTransform=Fg(this.projectionDelta,this.treeScale),(this.projectionTransform!==O||this.treeScale.x!==S||this.treeScale.y!==_)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R)),Ji.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),h){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(h,p=!1){const m=this.snapshot,g=m?m.latestValues:{},w={...this.latestValues},C=Ws();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const S=Et(),_=m?m.source:void 0,R=this.layout?this.layout.source:void 0,O=_!==R,L=this.getStack(),M=!L||L.members.length<=1,N=!!(O&&!M&&this.options.crossfade===!0&&!this.path.some(KI));this.animationProgress=0;let b;this.mixTargetDelta=F=>{const Q=F/1e3;Hg(C.x,h.x,Q),Hg(C.y,h.y,Q),this.setTargetDelta(C),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(aa(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QI(this.relativeTarget,this.relativeTargetOrigin,S,Q),b&&bI(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Et()),Bn(b,this.relativeTarget)),O&&(this.animationValues=w,EI(w,g,this.latestValues,Q,N,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Xl.hasAnimatedSinceResize=!0,this.currentAnimation=kI(0,Ug,{...h,onUpdate:p=>{this.mixTargetDelta(p),h.onUpdate&&h.onUpdate(p)},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ug),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:p,target:m,layout:g,latestValues:w}=h;if(!(!p||!m||!g)){if(this!==h&&this.layout&&g&&Mw(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||Et();const C=_n(this.layout.layoutBox.x);m.x.min=h.target.x.min,m.x.max=m.x.min+C;const S=_n(this.layout.layoutBox.y);m.y.min=h.target.y.min,m.y.max=m.y.min+S}Bn(p,m),Gs(p,w),oa(this.projectionDeltaWithTransform,this.layoutCorrected,p,w)}}registerSharedNode(h,p){this.sharedNodes.has(h)||this.sharedNodes.set(h,new NI),this.sharedNodes.get(h).add(p);const g=p.options.initialPromotionConfig;p.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(p):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var h;const{layoutId:p}=this.options;return p?((h=this.getStack())===null||h===void 0?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:p}=this.options;return p?(h=this.getStack())===null||h===void 0?void 0:h.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:p,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),h&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetRotation(){const{visualElement:h}=this.options;if(!h)return;let p=!1;const{latestValues:m}=h;if((m.rotate||m.rotateX||m.rotateY||m.rotateZ)&&(p=!0),!p)return;const g={};for(let w=0;w<jg.length;w++){const C="rotate"+jg[w];m[C]&&(g[C]=m[C],h.setStaticValue(C,0))}h.render();for(const w in g)h.setStaticValue(w,g[w]);h.scheduleRender()}getProjectionStyles(h){var p,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return LI;const g={visibility:""},w=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=Gl(h==null?void 0:h.pointerEvents)||"",g.transform=w?w(this.latestValues,""):"none",g;const C=this.getLead();if(!this.projectionDelta||!this.layout||!C.target){const O={};return this.options.layoutId&&(O.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,O.pointerEvents=Gl(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!$i(this.latestValues)&&(O.transform=w?w({},""):"none",this.hasProjected=!1),O}const S=C.animationValues||C.latestValues;this.applyTransformsToTarget(),g.transform=Fg(this.projectionDeltaWithTransform,this.treeScale,S),w&&(g.transform=w(S,g.transform));const{x:_,y:R}=this.projectionDelta;g.transformOrigin=`${_.origin*100}% ${R.origin*100}% 0`,C.animationValues?g.opacity=C===this?(m=(p=S.opacity)!==null&&p!==void 0?p:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:g.opacity=C===this?S.opacity!==void 0?S.opacity:"":S.opacityExit!==void 0?S.opacityExit:0;for(const O in bc){if(S[O]===void 0)continue;const{correct:L,applyTo:M}=bc[O],N=g.transform==="none"?S[O]:L(S[O],C);if(M){const b=M.length;for(let F=0;F<b;F++)g[M[F]]=N}else g[O]=N}return this.options.layoutId&&(g.pointerEvents=C===this?Gl(h==null?void 0:h.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var p;return(p=h.currentAnimation)===null||p===void 0?void 0:p.stop()}),this.root.nodes.forEach(Vg),this.root.sharedNodes.clear()}}}function BI(e){e.updateLayout()}function FI(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=e.layout,{animationType:l}=e.options,h=n.source!==e.layout.source;l==="size"?Un(C=>{const S=h?n.measuredBox[C]:n.layoutBox[C],_=_n(S);S.min=i[C].min,S.max=S.min+_}):Mw(l,n.layoutBox,i)&&Un(C=>{const S=h?n.measuredBox[C]:n.layoutBox[C],_=_n(i[C]);S.max=S.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[C].max=e.relativeTarget[C].min+_)});const p=Ws();oa(p,i,n.layoutBox);const m=Ws();h?oa(m,e.applyTransform(a,!0),n.measuredBox):oa(m,i,n.layoutBox);const g=!_w(p);let w=!1;if(!e.resumeFrom){const C=e.getClosestProjectingParent();if(C&&!C.resumeFrom){const{snapshot:S,layout:_}=C;if(S&&_){const R=Et();aa(R,n.layoutBox,S.layoutBox);const O=Et();aa(O,i,_.layoutBox),Rw(R,O)||(w=!0),C.options.layoutRoot&&(e.relativeTarget=O,e.relativeTargetOrigin=R,e.relativeParent=C)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:m,layoutDelta:p,hasLayoutChanged:g,hasRelativeTargetChanged:w})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function jI(e){Ji.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function UI(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function VI(e){e.clearSnapshot()}function Vg(e){e.clearMeasurements()}function zI(e){e.isLayoutDirty=!1}function HI(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WI(e){e.resolveTargetDelta()}function GI(e){e.calcProjection()}function XI(e){e.resetRotation()}function YI(e){e.removeLeadSnapshot()}function Hg(e,t,n){e.translate=ot(t.translate,0,n),e.scale=ot(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Wg(e,t,n,i){e.min=ot(t.min,n.min,i),e.max=ot(t.max,n.max,i)}function QI(e,t,n,i){Wg(e.x,t.x,n.x,i),Wg(e.y,t.y,n.y,i)}function KI(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ZI={duration:.45,ease:[.4,0,.1,1]},Gg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Xg=Gg("applewebkit/")&&!Gg("chrome/")?Math.round:gt;function Yg(e){e.min=Xg(e.min),e.max=Xg(e.max)}function qI(e){Yg(e.x),Yg(e.y)}function Mw(e,t,n){return e==="position"||e==="preserve-aspect"&&!Xh(Bg(t),Bg(n),.2)}const $I=Ow({attachResizeListener:(e,t)=>Ur(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mf={current:void 0},Dw=Ow({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mf.current){const e=new $I({});e.mount(window),e.setOptions({layoutScroll:!0}),Mf.current=e}return Mf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),JI={pan:{Feature:gI},drag:{Feature:pI,ProjectionNode:Dw,MeasureLayout:Iw}},eb=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function tb(e){const t=eb.exec(e);if(!t)return[,];const[,n,i]=t;return[n,i]}function Zh(e,t,n=1){const[i,a]=tb(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const h=l.trim();return gw(h)?parseFloat(h):h}else return jh(a)?Zh(a,t,n+1):a}function nb(e,{...t},n){const i=e.current;if(!(i instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const l=a.get();if(!jh(l))return;const h=Zh(l,i);h&&a.set(h)});for(const a in t){const l=t[a];if(!jh(l))continue;const h=Zh(l,i);h&&(t[a]=h,n||(n={}),n[a]===void 0&&(n[a]=l))}return{target:t,transitionEnd:n}}const rb=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),kw=e=>rb.has(e),ib=e=>Object.keys(e).some(kw),Qg=e=>e===ys||e===Ee,Kg=(e,t)=>parseFloat(e.split(", ")[t]),Zg=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const a=i.match(/^matrix3d\((.+)\)$/);if(a)return Kg(a[1],t);{const l=i.match(/^matrix\((.+)\)$/);return l?Kg(l[1],e):0}},sb=new Set(["x","y","z"]),ob=ja.filter(e=>!sb.has(e));function ab(e){const t=[];return ob.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const lo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Zg(4,13),y:Zg(5,14)};lo.translateX=lo.x;lo.translateY=lo.y;const lb=(e,t,n)=>{const i=t.measureViewportBox(),a=t.current,l=getComputedStyle(a),{display:h}=l,p={};h==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(g=>{p[g]=lo[g](i,l)}),t.render();const m=t.measureViewportBox();return n.forEach(g=>{const w=t.getValue(g);w&&w.jump(p[g]),e[g]=lo[g](m,l)}),e},cb=(e,t,n={},i={})=>{t={...t},i={...i};const a=Object.keys(t).filter(kw);let l=[],h=!1;const p=[];if(a.forEach(m=>{const g=e.getValue(m);if(!e.hasValue(m))return;let w=n[m],C=Uo(w);const S=t[m];let _;if(_c(S)){const R=S.length,O=S[0]===null?1:0;w=S[O],C=Uo(w);for(let L=O;L<R&&S[L]!==null;L++)_?S0(Uo(S[L])===_):_=Uo(S[L])}else _=Uo(S);if(C!==_)if(Qg(C)&&Qg(_)){const R=g.get();typeof R=="string"&&g.set(parseFloat(R)),typeof S=="string"?t[m]=parseFloat(S):Array.isArray(S)&&_===Ee&&(t[m]=S.map(parseFloat))}else C!=null&&C.transform&&(_!=null&&_.transform)&&(w===0||S===0)?w===0?g.set(_.transform(w)):t[m]=C.transform(S):(h||(l=ab(e),h=!0),p.push(m),i[m]=i[m]!==void 0?i[m]:t[m],g.jump(S))}),p.length){const m=p.indexOf("height")>=0?window.pageYOffset:null,g=lb(t,e,p);return l.length&&l.forEach(([w,C])=>{e.getValue(w).set(C)}),e.render(),fu&&m!==null&&window.scrollTo({top:m}),{target:g,transitionEnd:i}}else return{target:t,transitionEnd:i}};function ub(e,t,n,i){return ib(t)?cb(e,t,n,i):{target:t,transitionEnd:i}}const fb=(e,t,n,i)=>{const a=nb(e,t,i);return t=a.target,i=a.transitionEnd,ub(e,t,n,i)},qh={current:null},Lw={current:!1};function hb(){if(Lw.current=!0,!!fu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>qh.current=e.matches;e.addListener(t),t()}else qh.current=!1}function db(e,t,n){const{willChange:i}=t;for(const a in t){const l=t[a],h=n[a];if(yn(l))e.addValue(a,l),Dc(i)&&i.add(a);else if(yn(h))e.addValue(a,ao(l,{owner:e})),Dc(i)&&i.remove(a);else if(h!==l)if(e.hasValue(a)){const p=e.getValue(a);!p.hasAnimated&&p.set(l)}else{const p=e.getStaticValue(a);e.addValue(a,ao(p!==void 0?p:l,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const qg=new WeakMap,Pw=Object.keys(Na),pb=Pw.length,$g=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],gb=g0.length;class mb{constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,visualState:l},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>qe.render(this.render,!1,!0);const{latestValues:p,renderState:m}=l;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.isControllingVariants=du(n),this.isVariantNode=Cy(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...w}=this.scrapeMotionValuesFromProps(n,{});for(const C in w){const S=w[C];p[C]!==void 0&&yn(S)&&(S.set(p[C],!1),Dc(g)&&g.add(C))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,qg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Lw.current||hb(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qh.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qg.delete(this.current),this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const i=xs.has(t),a=n.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&qe.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),l()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},i,a,l){let h,p;for(let m=0;m<pb;m++){const g=Pw[m],{isEnabled:w,Feature:C,ProjectionNode:S,MeasureLayout:_}=Na[g];S&&(h=S),w(n)&&(!this.features[g]&&C&&(this.features[g]=new C(this)),_&&(p=_))}if((this.type==="html"||this.type==="svg")&&!this.projection&&h){this.projection=new h(this.latestValues,this.parent&&this.parent.projection);const{layoutId:m,layout:g,drag:w,dragConstraints:C,layoutScroll:S,layoutRoot:_}=n;this.projection.setOptions({layoutId:m,layout:g,alwaysMeasureLayout:!!w||C&&zs(C),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof g=="string"?g:"both",initialPromotionConfig:l,layoutScroll:S,layoutRoot:_})}return p}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<$g.length;i++){const a=$g[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l=t["on"+a];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=db(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const n={};for(let i=0;i<gb;i++){const a=g0[i],l=this.props[a];(ba(l)||l===!1)&&(n[a]=l)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=ao(n,{owner:this}),this.addValue(t,i)),i}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props,a=typeof i=="string"||typeof i=="object"?(n=A0(this.props,i))===null||n===void 0?void 0:n[t]:void 0;if(i&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!yn(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new D0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Bw extends mb{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...i},{transformValues:a},l){let h=D8(i,t||{},this);if(a&&(n&&(n=a(n)),i&&(i=a(i)),h&&(h=a(h))),l){O8(this,i,h);const p=fb(this,i,h,n);n=p.transitionEnd,i=p.target}return{transition:t,transitionEnd:n,...i}}}function xb(e){return window.getComputedStyle(e)}class yb extends Bw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(xs.has(n)){const i=N0(n);return i&&i.default||0}else{const i=xb(t),a=(Sy(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Sw(t,n)}build(t,n,i,a){y0(t,n,i,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return v0(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,i,a){Ry(t,n,i,a)}}class wb extends Bw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(xs.has(n)){const i=N0(n);return i&&i.default||0}return n=Oy.has(n)?n:d0(n),t.getAttribute(n)}measureInstanceViewportBox(){return Et()}scrapeMotionValuesFromProps(t,n){return Dy(t,n)}build(t,n,i,a){C0(t,n,i,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,i,a){My(t,n,i,a)}mount(t){this.isSVGTag=E0(t.tagName),super.mount(t)}}const Cb=(e,t)=>x0(e)?new wb(t,{enableHardwareAcceleration:!1}):new yb(t,{enableHardwareAcceleration:!0}),Eb={layout:{ProjectionNode:Dw,MeasureLayout:Iw}},vb={...Q8,...pT,...JI,...Eb},Di=AS((e,t)=>tT(e,t,vb,Cb));function Fw(){const e=B.useRef(!1);return h0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Ab(){const e=Fw(),[t,n]=B.useState(0),i=B.useCallback(()=>{e.current&&n(t+1)},[t]);return[B.useCallback(()=>qe.postRender(i),[i]),t]}class Sb extends B.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Tb({children:e,isPresent:t}){const n=B.useId(),i=B.useRef(null),a=B.useRef({width:0,height:0,top:0,left:0});return B.useInsertionEffect(()=>{const{width:l,height:h,top:p,left:m}=a.current;if(t||!i.current||!l||!h)return;i.current.dataset.motionPopId=n;const g=document.createElement("style");return document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${h}px !important;
            top: ${p}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[t]),B.createElement(Sb,{isPresent:t,childRef:i,sizeRef:a},B.cloneElement(e,{ref:i}))}const Df=({children:e,initial:t,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:h})=>{const p=ky(Ib),m=B.useId(),g=B.useMemo(()=>({id:m,initial:t,isPresent:n,custom:a,onExitComplete:w=>{p.set(w,!0);for(const C of p.values())if(!C)return;i&&i()},register:w=>(p.set(w,!1),()=>p.delete(w))}),l?void 0:[n]);return B.useMemo(()=>{p.forEach((w,C)=>p.set(C,!1))},[n]),B.useEffect(()=>{!n&&!p.size&&i&&i()},[n]),h==="popLayout"&&(e=B.createElement(Tb,{isPresent:n},e)),B.createElement(uu.Provider,{value:g},e)};function Ib(){return new Map}function bb(e){return B.useEffect(()=>()=>e(),[])}const es=e=>e.key||"";function Nb(e,t){e.forEach(n=>{const i=es(n);t.set(i,n)})}function _b(e){const t=[];return B.Children.forEach(e,n=>{B.isValidElement(n)&&t.push(n)}),t}const Rb=({children:e,custom:t,initial:n=!0,onExitComplete:i,exitBeforeEnter:a,presenceAffectsLayout:l=!0,mode:h="sync"})=>{const p=B.useContext(m0).forceRender||Ab()[0],m=Fw(),g=_b(e);let w=g;const C=B.useRef(new Map).current,S=B.useRef(w),_=B.useRef(new Map).current,R=B.useRef(!0);if(h0(()=>{R.current=!1,Nb(g,_),S.current=w}),bb(()=>{R.current=!0,_.clear(),C.clear()}),R.current)return B.createElement(B.Fragment,null,w.map(N=>B.createElement(Df,{key:es(N),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:l,mode:h},N)));w=[...w];const O=S.current.map(es),L=g.map(es),M=O.length;for(let N=0;N<M;N++){const b=O[N];L.indexOf(b)===-1&&!C.has(b)&&C.set(b,void 0)}return h==="wait"&&C.size&&(w=[]),C.forEach((N,b)=>{if(L.indexOf(b)!==-1)return;const F=_.get(b);if(!F)return;const Q=O.indexOf(b);let Z=N;if(!Z){const U=()=>{C.delete(b);const K=Array.from(_.keys()).filter(X=>!L.includes(X));if(K.forEach(X=>_.delete(X)),S.current=g.filter(X=>{const fe=es(X);return fe===b||K.includes(fe)}),!C.size){if(m.current===!1)return;p(),i&&i()}};Z=B.createElement(Df,{key:es(F),isPresent:!1,onExitComplete:U,custom:t,presenceAffectsLayout:l,mode:h},F),C.set(b,Z)}w.splice(Q,0,Z)}),w=w.map(N=>{const b=N.key;return C.has(b)?N:B.createElement(Df,{key:es(N),isPresent:!0,presenceAffectsLayout:l,mode:h},N)}),B.createElement(B.Fragment,null,C.size?w:w.map(N=>B.cloneElement(N)))};var Ob={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mb=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),He=(e,t)=>{const n=B.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:h,children:p,...m},g)=>B.createElement("svg",{ref:g,...Ob,width:a,height:a,stroke:i,strokeWidth:h?Number(l)*24/Number(a):l,className:`lucide lucide-${Mb(e)}`,...m},[...t.map(([w,C])=>B.createElement(w,C)),...(Array.isArray(p)?p:[p])||[]]));return n.displayName=`${e}`,n},Db=He("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),kb=He("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["line",{x1:"12",x2:"12",y1:"9",y2:"13",key:"1gkch0"}],["line",{x1:"12",x2:"12.01",y1:"17",y2:"17",key:"io3f8k"}]]),k0=He("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]),Lb=He("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),xu=He("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Jg=He("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),em=He("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),L0=He("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Lc=He("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),yu=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Pb=He("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Bb=He("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),Fb=He("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),jw=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),jb=He("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),Ub=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Uw=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Vb=He("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),zb=He("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Hb=He("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Wb=He("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Gb=He("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),Xb=He("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),Yb=He("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),tm=He("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Qb=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Pc=He("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),P0=He("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]),Kb=He("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]]),Zb=()=>{const[e,t]=B.useState({email:"",password:""}),[n,i]=B.useState(""),[a,l]=B.useState(!1),{login:h}=B.useContext(ji),p=Or(),m=async g=>{var w,C;g.preventDefault(),i(""),l(!0);try{const S=await At.post("/auth/login",e);h(S.data.token,S.data),S.data.role==="student"?p("/student/dashboard"):S.data.role==="teacher"?p("/teacher/dashboard"):S.data.role==="admin"&&p("/admin/dashboard")}catch(S){i(((C=(w=S.response)==null?void 0:w.data)==null?void 0:C.message)||"Login failed. Please try again.")}finally{l(!1)}};return T.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-[#0f172a] flex items-center justify-center p-4",children:[T.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-purple-500/30 rounded-full blur-3xl"}),T.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-blue-500/30 rounded-full blur-3xl"}),T.jsxs(Di.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"glass-panel w-full max-w-md p-8 rounded-2xl relative z-10 border border-white/10 bg-white/5",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),T.jsx("p",{className:"text-gray-400",children:"Sign in to access your dashboard"})]}),n&&T.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 text-red-200 p-3 rounded-lg mb-6 flex items-center gap-2 text-sm",children:[T.jsx(Db,{size:16}),n]}),T.jsxs("form",{onSubmit:m,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),T.jsxs("div",{className:"relative",children:[T.jsx(Uw,{className:"absolute left-3 top-3 text-gray-400",size:20}),T.jsx("input",{type:"email",required:!0,className:"w-full bg-white/5 border border-gray-600 text-white pl-10 pr-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-500",placeholder:"name@university.edu",value:e.email,onChange:g=>t({...e,email:g.target.value})})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),T.jsxs("div",{className:"relative",children:[T.jsx(jw,{className:"absolute left-3 top-3 text-gray-400",size:20}),T.jsx("input",{type:"password",required:!0,className:"w-full bg-white/5 border border-gray-600 text-white pl-10 pr-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-500",placeholder:"",value:e.password,onChange:g=>t({...e,password:g.target.value})})]})]}),T.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white font-semibold py-3 rounded-lg transition-all duration-200 transform hover:scale-[1.02] shadow-lg shadow-blue-500/25 flex items-center justify-center gap-2",children:a?"Signing in...":T.jsxs(T.Fragment,{children:[T.jsx(jb,{size:20}),"Sign In"]})})]}),T.jsxs("div",{className:"mt-6 text-center text-sm text-gray-400",children:["Don't have an account?"," ",T.jsx(Yx,{to:"/register",className:"text-blue-400 hover:text-blue-300 font-medium hover:underline",children:"Register here"})]})]})]})},qb=()=>{const e=Or(),{login:t}=B.useContext(ji),[n,i]=B.useState("student"),[a,l]=B.useState(!1),[h,p]=B.useState(""),[m,g]=B.useState({name:"",email:"",password:"",rollNumber:"",department:"",semester:"",designation:"",phone:""}),w=S=>{g({...m,[S.target.name]:S.target.value})},C=async S=>{var _,R;S.preventDefault(),p(""),l(!0);try{const O={name:m.name,email:m.email,password:m.password,role:n,department:m.department,...n==="student"&&{rollNumber:m.rollNumber,semester:m.semester},...n==="teacher"&&{designation:m.designation,phone:m.phone}},L=await At.post("/auth/register",O);t(L.data.token,L.data),e(n==="student"?"/student/dashboard":"/teacher/dashboard")}catch(O){p(((R=(_=O.response)==null?void 0:_.data)==null?void 0:R.message)||"Registration failed")}finally{l(!1)}};return T.jsxs("div",{className:"min-h-screen relative bg-[#0f172a] py-10 px-4 flex items-center justify-center",children:[T.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[T.jsx("div",{className:"absolute top-[10%] right-[10%] w-80 h-80 bg-pink-500/20 rounded-full blur-3xl"}),T.jsx("div",{className:"absolute bottom-[10%] left-[10%] w-80 h-80 bg-cyan-500/20 rounded-full blur-3xl"})]}),T.jsxs(Di.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"glass-panel w-full max-w-2xl p-8 rounded-2xl relative z-10 border border-white/10 bg-white/5",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Account"}),T.jsx("p",{className:"text-gray-400",children:"Join the Smart Attendance System"})]}),T.jsxs("div",{className:"flex bg-white/5 p-1 rounded-lg mb-8 max-w-xs mx-auto border border-white/10",children:[T.jsxs("button",{type:"button",onClick:()=>i("student"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-md transition-all text-sm font-medium ${n==="student"?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:[T.jsx(Bb,{size:18})," Student"]}),T.jsxs("button",{type:"button",onClick:()=>i("teacher"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-md transition-all text-sm font-medium ${n==="teacher"?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:[T.jsx(Jg,{size:18})," Teacher"]})]}),h&&T.jsx("div",{className:"bg-red-500/10 border border-red-500/50 text-red-200 p-3 rounded-lg mb-6 text-sm text-center",children:h}),T.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-4",children:[T.jsx(kr,{icon:Qb,type:"text",name:"name",placeholder:"Full Name",value:m.name,onChange:w}),T.jsx(kr,{icon:Uw,type:"email",name:"email",placeholder:"Email Address",value:m.email,onChange:w}),T.jsx(kr,{icon:jw,type:"password",name:"password",placeholder:"Password",value:m.password,onChange:w})]}),T.jsx("div",{className:"col-span-1 md:col-span-2 border-t border-white/10 my-2"}),n==="student"?T.jsxs(T.Fragment,{children:[T.jsx(kr,{icon:Fb,type:"text",name:"rollNumber",placeholder:"Roll Number",value:m.rollNumber,onChange:w}),T.jsx(kr,{icon:em,type:"text",name:"department",placeholder:"Department (e.g., CSE)",value:m.department,onChange:w}),T.jsx(kr,{icon:xu,type:"number",name:"semester",placeholder:"Semester (1-8)",value:m.semester,onChange:w})]}):T.jsxs(T.Fragment,{children:[T.jsx(kr,{icon:em,type:"text",name:"department",placeholder:"Department",value:m.department,onChange:w}),T.jsx(kr,{icon:Jg,type:"text",name:"designation",placeholder:"Designation",value:m.designation,onChange:w}),T.jsx(kr,{icon:Hb,type:"text",name:"phone",placeholder:"Phone Number",value:m.phone,onChange:w})]}),T.jsx("div",{className:"col-span-1 md:col-span-2 mt-4",children:T.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white font-semibold py-3 rounded-lg transition-all duration-200 shadow-lg shadow-blue-500/25",children:a?"Creating Account...":"Register Now"})})]}),T.jsxs("div",{className:"mt-6 text-center text-sm text-gray-400",children:["Already have an account?"," ",T.jsx(Yx,{to:"/login",className:"text-blue-400 hover:text-blue-300 font-medium hover:underline",children:"Sign in"})]})]})]})},kr=({icon:e,type:t,name:n,placeholder:i,value:a,onChange:l})=>T.jsxs("div",{className:"relative",children:[T.jsx(e,{className:"absolute left-3 top-3 text-gray-500",size:18}),T.jsx("input",{type:t,name:n,placeholder:i,required:!0,value:a,onChange:l,className:"w-full bg-white/5 border border-gray-600 text-white pl-10 pr-4 py-2.5 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all placeholder-gray-500 text-sm"})]}),xo=({title:e})=>{const{user:t,logout:n}=B.useContext(ji),i=Or(),a=()=>{n(),i("/login")};return T.jsxs("nav",{className:"glass-panel sticky top-4 z-50 mx-4 rounded-xl px-6 py-3 flex justify-between items-center bg-white/80 dark:bg-slate-900/80 backdrop-blur-md shadow-sm border border-slate-200 dark:border-slate-800",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("div",{className:"bg-blue-600 p-2 rounded-lg",children:T.jsx(Yb,{className:"text-white w-5 h-5"})}),T.jsx("span",{className:"font-bold text-xl text-slate-800 dark:text-white tracking-tight",children:e||"Smart Attendance"})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("div",{className:"hidden md:flex flex-col items-end mr-2",children:[T.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:t==null?void 0:t.name}),T.jsx("span",{className:"text-xs text-slate-500 capitalize",children:t==null?void 0:t.role})]}),T.jsx("button",{onClick:a,className:"p-2 rounded-lg hover:bg-red-50 text-red-500 transition-colors",title:"Logout",children:T.jsx(Ub,{size:20})})]})]})};var oe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(oe||(oe={}));var nm=new Map([[oe.QR_CODE,"QR_CODE"],[oe.AZTEC,"AZTEC"],[oe.CODABAR,"CODABAR"],[oe.CODE_39,"CODE_39"],[oe.CODE_93,"CODE_93"],[oe.CODE_128,"CODE_128"],[oe.DATA_MATRIX,"DATA_MATRIX"],[oe.MAXICODE,"MAXICODE"],[oe.ITF,"ITF"],[oe.EAN_13,"EAN_13"],[oe.EAN_8,"EAN_8"],[oe.PDF_417,"PDF_417"],[oe.RSS_14,"RSS_14"],[oe.RSS_EXPANDED,"RSS_EXPANDED"],[oe.UPC_A,"UPC_A"],[oe.UPC_E,"UPC_E"],[oe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),rm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(rm||(rm={}));function $b(e){return Object.values(oe).includes(e)}var ki;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ki||(ki={}));var tr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[ki.SCAN_TYPE_CAMERA,ki.SCAN_TYPE_FILE],e}(),Vw=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!nm.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,nm.get(t))},e}(),im=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),$h;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})($h||($h={}));var zw=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:$h.UNKWOWN_ERROR}},e}(),Hw=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Er(e){return typeof e>"u"||e===null}function Jb(e,t,n){return e>n?n:e<t?t:e}var Xs=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Ve=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),sm=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Ww=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),h=Object.keys(t),p=0,m=h;p<m.length;p++){var g=m[p];if(l.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),Jh={exports:{}};(function(e,t){(function(n,i){i(t)})(Ro,function(n){function i(v){return v==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,r){v.__proto__=r}||function(v,r){for(var s in r)r.hasOwnProperty(s)&&(v[s]=r[s])};function l(v,r){a(v,r);function s(){this.constructor=v}v.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}function h(v,r){var s=Object.setPrototypeOf;s?s(v,r):v.__proto__=r}function p(v,r){r===void 0&&(r=v.constructor);var s=Error.captureStackTrace;s&&s(v,r)}var m=function(v){l(r,v);function r(s){var o=this.constructor,c=v.call(this,s)||this;return Object.defineProperty(c,"name",{value:o.name,enumerable:!1}),h(c,o.prototype),p(c),c}return r}(Error);class g extends m{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}g.kind="Exception";class w extends g{}w.kind="ArgumentException";class C extends g{}C.kind="IllegalArgumentException";class S{constructor(r){if(this.binarizer=r,r===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,s){return this.binarizer.getBlackRow(r,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,s,o,c){const u=this.binarizer.getLuminanceSource().crop(r,s,o,c);return new S(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends g{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class R{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(r,s,o,c,u){for(;u--;)o[c++]=r[s++]}static currentTimeMillis(){return Date.now()}}class L extends g{}L.kind="IndexOutOfBoundsException";class M extends L{constructor(r=void 0,s=void 0){super(s),this.index=r,this.message=s}}M.kind="ArrayIndexOutOfBoundsException";class N{static fill(r,s){for(let o=0,c=r.length;o<c;o++)r[o]=s}static fillWithin(r,s,o,c){N.rangeCheck(r.length,s,o);for(let u=s;u<o;u++)r[u]=c}static rangeCheck(r,s,o){if(s>o)throw new C("fromIndex("+s+") > toIndex("+o+")");if(s<0)throw new M(s);if(o>r)throw new M(o)}static asList(...r){return r}static create(r,s,o){return Array.from({length:r}).map(u=>Array.from({length:s}).fill(o))}static createInt32Array(r,s,o){return Array.from({length:r}).map(u=>Int32Array.from({length:s}).fill(o))}static equals(r,s){if(!r||!s||!r.length||!s.length||r.length!==s.length)return!1;for(let o=0,c=r.length;o<c;o++)if(r[o]!==s[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let s=1;for(const o of r)s=31*s+o;return s}static fillUint8Array(r,s){for(let o=0;o!==r.length;o++)r[o]=s}static copyOf(r,s){return r.slice(0,s)}static copyOfUint8Array(r,s){if(r.length<=s){const o=new Uint8Array(s);return o.set(r),o}return r.slice(0,s)}static copyOfRange(r,s,o){const c=o-s,u=new Int32Array(c);return O.arraycopy(r,s,u,0,c),u}static binarySearch(r,s,o){o===void 0&&(o=N.numberComparator);let c=0,u=r.length-1;for(;c<=u;){const f=u+c>>1,d=o(s,r[f]);if(d>0)c=f+1;else if(d<0)u=f-1;else return f}return-c-1}static numberComparator(r,s){return r-s}}class b{static numberOfTrailingZeros(r){let s;if(r===0)return 32;let o=31;return s=r<<16,s!==0&&(o-=16,r=s),s=r<<8,s!==0&&(o-=8,r=s),s=r<<4,s!==0&&(o-=4,r=s),s=r<<2,s!==0&&(o-=2,r=s),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let s=1;return r>>>16||(s+=16,r<<=16),r>>>24||(s+=8,r<<=8),r>>>28||(s+=4,r<<=4),r>>>30||(s+=2,r<<=2),s-=r>>>31,s}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,s){return Math.trunc(r/s)}static parseInt(r,s=void 0){return parseInt(r,s)}}b.MIN_VALUE_32_BITS=-2147483648,b.MAX_VALUE=Number.MAX_SAFE_INTEGER;class F{constructor(r,s){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,s==null?this.bits=F.makeArray(r):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const s=F.makeArray(r);O.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const s=this.size;if(r>=s)return s;const o=this.bits;let c=Math.floor(r/32),u=o[c];u&=~((1<<(r&31))-1);const f=o.length;for(;u===0;){if(++c===f)return s;u=o[c]}const d=c*32+b.numberOfTrailingZeros(u);return d>s?s:d}getNextUnset(r){const s=this.size;if(r>=s)return s;const o=this.bits;let c=Math.floor(r/32),u=~o[c];u&=~((1<<(r&31))-1);const f=o.length;for(;u===0;){if(++c===f)return s;u=~o[c]}const d=c*32+b.numberOfTrailingZeros(u);return d>s?s:d}setBulk(r,s){this.bits[Math.floor(r/32)]=s}setRange(r,s){if(s<r||r<0||s>this.size)throw new C;if(s===r)return;s--;const o=Math.floor(r/32),c=Math.floor(s/32),u=this.bits;for(let f=o;f<=c;f++){const d=f>o?0:r&31,y=(2<<(f<c?31:s&31))-(1<<d);u[f]|=y}}clear(){const r=this.bits.length,s=this.bits;for(let o=0;o<r;o++)s[o]=0}isRange(r,s,o){if(s<r||r<0||s>this.size)throw new C;if(s===r)return!0;s--;const c=Math.floor(r/32),u=Math.floor(s/32),f=this.bits;for(let d=c;d<=u;d++){const x=d>c?0:r&31,E=(2<<(d<u?31:s&31))-(1<<x)&4294967295;if((f[d]&E)!==(o?E:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,s){if(s<0||s>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let o=s;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const s=r.size;this.ensureCapacity(this.size+s);for(let o=0;o<s;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new C("Sizes don't match");const s=this.bits;for(let o=0,c=s.length;o<c;o++)s[o]^=r.bits[o]}toBytes(r,s,o,c){for(let u=0;u<c;u++){let f=0;for(let d=0;d<8;d++)this.get(r)&&(f|=1<<7-d),r++;s[o+u]=f}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),o=s+1,c=this.bits;for(let u=0;u<o;u++){let f=c[u];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,r[s-u]=f}if(this.size!==o*32){const u=o*32-this.size;let f=r[0]>>>u;for(let d=1;d<o;d++){const x=r[d];f|=x<<32-u,r[d-1]=f,f=x>>>u}r[o-1]=f}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof F))return!1;const s=r;return this.size===s.size&&N.equals(this.bits,s.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let r="";for(let s=0,o=this.size;s<o;s++)s&7||(r+=" "),r+=this.get(s)?"X":".";return r}clone(){return new F(this.size,this.bits.slice())}}var Q;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Q||(Q={}));var Z=Q;class U extends g{static getFormatInstance(){return new U}}U.kind="FormatException";var K;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(K||(K={}));class X{constructor(r,s,o,...c){this.valueIdentifier=r,this.name=o,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=c,X.VALUE_IDENTIFIER_TO_ECI.set(r,this),X.NAME_TO_ECI.set(o,this);const u=this.values;for(let f=0,d=u.length;f!==d;f++){const x=u[f];X.VALUES_TO_ECI.set(x,this)}for(const f of c)X.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new U("incorect value");const s=X.VALUES_TO_ECI.get(r);if(s===void 0)throw new U("incorect value");return s}static getCharacterSetECIByName(r){const s=X.NAME_TO_ECI.get(r);if(s===void 0)throw new U("incorect value");return s}equals(r){if(!(r instanceof X))return!1;const s=r;return this.getName()===s.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(K.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(K.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(K.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(K.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(K.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(K.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(K.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(K.Big5,28,"Big5"),X.GB18030=new X(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(K.EUC_KR,30,"EUC_KR","EUC-KR");class fe extends g{}fe.kind="UnsupportedOperationException";class _e{static decode(r,s){const o=this.encodingName(s);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!_e.isBrowser()&&r==="ISO-8859-1"}static encode(r,s){const o=this.encodingName(s);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof X?r:X.getCharacterSetECIByName(r)}static decodeFallback(r,s){const o=this.encodingCharacterSet(s);if(_e.isDecodeFallbackSupported(o)){let c="";for(let u=0,f=r.length;u<f;u++){let d=r[u].toString(16);d.length<2&&(d="0"+d),c+="%"+d}return decodeURIComponent(c)}if(o.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new fe(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(X.UTF8)||r.equals(X.ISO8859_1)||r.equals(X.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),c=[];for(let u=0;u<o.length;u++)c.push(o[u].charCodeAt(0));return new Uint8Array(c)}}class ie{static castAsNonUtf8Char(r,s=null){const o=s?s.getName():this.ISO88591;return _e.decode(new Uint8Array([r]),o)}static guessEncoding(r,s){if(s!=null&&s.get(Z.CHARACTER_SET)!==void 0)return s.get(Z.CHARACTER_SET).toString();const o=r.length;let c=!0,u=!0,f=!0,d=0,x=0,y=0,E=0,A=0,I=0,k=0,P=0,j=0,V=0,G=0;const ee=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let te=0;te<o&&(c||u||f);te++){const $=r[te]&255;f&&(d>0?$&128?d--:f=!1:$&128&&($&64?(d++,$&32?(d++,$&16?(d++,$&8?f=!1:E++):y++):x++):f=!1)),c&&($>127&&$<160?c=!1:$>159&&($<192||$===215||$===247)&&G++),u&&(A>0?$<64||$===127||$>252?u=!1:A--:$===128||$===160||$>239?u=!1:$>160&&$<224?(I++,P=0,k++,k>j&&(j=k)):$>127?(A++,k=0,P++,P>V&&(V=P)):(k=0,P=0))}return f&&d>0&&(f=!1),u&&A>0&&(u=!1),f&&(ee||x+y+E>0)?ie.UTF8:u&&(ie.ASSUME_SHIFT_JIS||j>=3||V>=3)?ie.SHIFT_JIS:c&&u?j===2&&I===2||G*10>=o?ie.SHIFT_JIS:ie.ISO88591:c?ie.ISO88591:u?ie.SHIFT_JIS:f?ie.UTF8:ie.PLATFORM_DEFAULT_ENCODING}static format(r,...s){let o=-1;function c(f,d,x,y,E,A){if(f==="%%")return"%";if(s[++o]===void 0)return;f=y?parseInt(y.substr(1)):void 0;let I=E?parseInt(E.substr(1)):void 0,k;switch(A){case"s":k=s[o];break;case"c":k=s[o][0];break;case"f":k=parseFloat(s[o]).toFixed(f);break;case"p":k=parseFloat(s[o]).toPrecision(f);break;case"e":k=parseFloat(s[o]).toExponential(f);break;case"x":k=parseInt(s[o]).toString(I||16);break;case"d":k=parseFloat(parseInt(s[o],I||10).toPrecision(f)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(I);let P=parseInt(x),j=x&&x[0]+""=="0"?"0":" ";for(;k.length<P;)k=d!==void 0?k+j:j+k;return k}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}static getBytes(r,s){return _e.encode(r,s)}static getCharCode(r,s=0){return r.charCodeAt(s)}static getCharAt(r){return String.fromCharCode(r)}}ie.SHIFT_JIS=X.SJIS.getName(),ie.GB2312="GB2312",ie.ISO88591=X.ISO8859_1.getName(),ie.EUC_JP="EUC_JP",ie.UTF8=X.UTF8.getName(),ie.PLATFORM_DEFAULT_ENCODING=ie.UTF8,ie.ASSUME_SHIFT_JIS=!1;class we{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=ie.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,s,o){for(let c=s;s<s+o;c++)this.append(r[c]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+1)}substring(r,s){return this.value.substring(r,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+s.length)}}class Ae{constructor(r,s,o,c){if(this.width=r,this.height=s,this.rowSize=o,this.bits=c,s==null&&(s=r),this.height=s,r<1||s<1)throw new C("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const s=r.length,o=r[0].length,c=new Ae(o,s);for(let u=0;u<s;u++){const f=r[u];for(let d=0;d<o;d++)f[d]&&c.set(d,u)}return c}static parseFromString(r,s,o){if(r===null)throw new C("stringRepresentation cannot be null");const c=new Array(r.length);let u=0,f=0,d=-1,x=0,y=0;for(;y<r.length;)if(r.charAt(y)===`
`||r.charAt(y)==="\r"){if(u>f){if(d===-1)d=u-f;else if(u-f!==d)throw new C("row lengths do not match");f=u,x++}y++}else if(r.substring(y,y+s.length)===s)y+=s.length,c[u]=!0,u++;else if(r.substring(y,y+o.length)===o)y+=o.length,c[u]=!1,u++;else throw new C("illegal character encountered: "+r.substring(y));if(u>f){if(d===-1)d=u-f;else if(u-f!==d)throw new C("row lengths do not match");x++}const E=new Ae(d,x);for(let A=0;A<u;A++)c[A]&&E.set(Math.floor(A%d),Math.floor(A/d));return E}get(r,s){const o=s*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new C("input matrix dimensions do not match");const s=new F(Math.floor(this.width/32)+1),o=this.rowSize,c=this.bits;for(let u=0,f=this.height;u<f;u++){const d=u*o,x=r.getRow(u,s).getBitArray();for(let y=0;y<o;y++)c[d+y]^=x[y]}}clear(){const r=this.bits,s=r.length;for(let o=0;o<s;o++)r[o]=0}setRegion(r,s,o,c){if(s<0||r<0)throw new C("Left and top must be nonnegative");if(c<1||o<1)throw new C("Height and width must be at least 1");const u=r+o,f=s+c;if(f>this.height||u>this.width)throw new C("The region must fit inside the matrix");const d=this.rowSize,x=this.bits;for(let y=s;y<f;y++){const E=y*d;for(let A=r;A<u;A++)x[E+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(r,s){s==null||s.getSize()<this.width?s=new F(this.width):s.clear();const o=this.rowSize,c=this.bits,u=r*o;for(let f=0;f<o;f++)s.setBulk(f*32,c[u+f]);return s}setRow(r,s){O.arraycopy(s.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),s=this.getHeight();let o=new F(r),c=new F(r);for(let u=0,f=Math.floor((s+1)/2);u<f;u++)o=this.getRow(u,o),c=this.getRow(s-1-u,c),o.reverse(),c.reverse(),this.setRow(u,c),this.setRow(s-1-u,o)}getEnclosingRectangle(){const r=this.width,s=this.height,o=this.rowSize,c=this.bits;let u=r,f=s,d=-1,x=-1;for(let y=0;y<s;y++)for(let E=0;E<o;E++){const A=c[y*o+E];if(A!==0){if(y<f&&(f=y),y>x&&(x=y),E*32<u){let I=0;for(;!(A<<31-I&4294967295);)I++;E*32+I<u&&(u=E*32+I)}if(E*32+31>d){let I=31;for(;!(A>>>I);)I--;E*32+I>d&&(d=E*32+I)}}}return d<u||x<f?null:Int32Array.from([u,f,d-u+1,x-f+1])}getTopLeftOnBit(){const r=this.rowSize,s=this.bits;let o=0;for(;o<s.length&&s[o]===0;)o++;if(o===s.length)return null;const c=o/r;let u=o%r*32;const f=s[o];let d=0;for(;!(f<<31-d&4294967295);)d++;return u+=d,Int32Array.from([u,c])}getBottomRightOnBit(){const r=this.rowSize,s=this.bits;let o=s.length-1;for(;o>=0&&s[o]===0;)o--;if(o<0)return null;const c=Math.floor(o/r);let u=Math.floor(o%r)*32;const f=s[o];let d=31;for(;!(f>>>d);)d--;return u+=d,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof Ae))return!1;const s=r;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&N.equals(this.bits,s.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+N.hashCode(this.bits),r}toString(r="X ",s="  ",o=`
`){return this.buildToString(r,s,o)}buildToString(r,s,o){let c=new we;for(let u=0,f=this.height;u<f;u++){for(let d=0,x=this.width;d<x;d++)c.append(this.get(d,u)?r:s);c.append(o)}return c.toString()}clone(){return new Ae(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends g{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class xe extends R{constructor(r){super(r),this.luminances=xe.EMPTY,this.buckets=new Int32Array(xe.LUMINANCE_BUCKETS)}getBlackRow(r,s){const o=this.getLuminanceSource(),c=o.getWidth();s==null||s.getSize()<c?s=new F(c):s.clear(),this.initArrays(c);const u=o.getRow(r,this.luminances),f=this.buckets;for(let x=0;x<c;x++)f[(u[x]&255)>>xe.LUMINANCE_SHIFT]++;const d=xe.estimateBlackPoint(f);if(c<3)for(let x=0;x<c;x++)(u[x]&255)<d&&s.set(x);else{let x=u[0]&255,y=u[1]&255;for(let E=1;E<c-1;E++){const A=u[E+1]&255;(y*4-x-A)/2<d&&s.set(E),x=y,y=A}}return s}getBlackMatrix(){const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight(),c=new Ae(s,o);this.initArrays(s);const u=this.buckets;for(let x=1;x<5;x++){const y=Math.floor(o*x/5),E=r.getRow(y,this.luminances),A=Math.floor(s*4/5);for(let I=Math.floor(s/5);I<A;I++){const k=E[I]&255;u[k>>xe.LUMINANCE_SHIFT]++}}const f=xe.estimateBlackPoint(u),d=r.getMatrix();for(let x=0;x<o;x++){const y=x*s;for(let E=0;E<s;E++)(d[y+E]&255)<f&&c.set(E,x)}return c}createBinarizer(r){return new xe(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const s=this.buckets;for(let o=0;o<xe.LUMINANCE_BUCKETS;o++)s[o]=0}static estimateBlackPoint(r){const s=r.length;let o=0,c=0,u=0;for(let E=0;E<s;E++)r[E]>u&&(c=E,u=r[E]),r[E]>o&&(o=r[E]);let f=0,d=0;for(let E=0;E<s;E++){const A=E-c,I=r[E]*A*A;I>d&&(f=E,d=I)}if(c>f){const E=c;c=f,f=E}if(f-c<=s/16)throw new Y;let x=f-1,y=-1;for(let E=f-1;E>c;E--){const A=E-c,I=A*A*(f-E)*(o-r[E]);I>y&&(x=E,y=I)}return x<<xe.LUMINANCE_SHIFT}}xe.LUMINANCE_BITS=5,xe.LUMINANCE_SHIFT=8-xe.LUMINANCE_BITS,xe.LUMINANCE_BUCKETS=1<<xe.LUMINANCE_BITS,xe.EMPTY=Uint8ClampedArray.from([0]);class de extends xe{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight();if(s>=de.MINIMUM_DIMENSION&&o>=de.MINIMUM_DIMENSION){const c=r.getMatrix();let u=s>>de.BLOCK_SIZE_POWER;s&de.BLOCK_SIZE_MASK&&u++;let f=o>>de.BLOCK_SIZE_POWER;o&de.BLOCK_SIZE_MASK&&f++;const d=de.calculateBlackPoints(c,u,f,s,o),x=new Ae(s,o);de.calculateThresholdForBlock(c,u,f,s,o,d,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new de(r)}static calculateThresholdForBlock(r,s,o,c,u,f,d){const x=u-de.BLOCK_SIZE,y=c-de.BLOCK_SIZE;for(let E=0;E<o;E++){let A=E<<de.BLOCK_SIZE_POWER;A>x&&(A=x);const I=de.cap(E,2,o-3);for(let k=0;k<s;k++){let P=k<<de.BLOCK_SIZE_POWER;P>y&&(P=y);const j=de.cap(k,2,s-3);let V=0;for(let ee=-2;ee<=2;ee++){const te=f[I+ee];V+=te[j-2]+te[j-1]+te[j]+te[j+1]+te[j+2]}const G=V/25;de.thresholdBlock(r,P,A,G,c,d)}}}static cap(r,s,o){return r<s?s:r>o?o:r}static thresholdBlock(r,s,o,c,u,f){for(let d=0,x=o*u+s;d<de.BLOCK_SIZE;d++,x+=u)for(let y=0;y<de.BLOCK_SIZE;y++)(r[x+y]&255)<=c&&f.set(s+y,o+d)}static calculateBlackPoints(r,s,o,c,u){const f=u-de.BLOCK_SIZE,d=c-de.BLOCK_SIZE,x=new Array(o);for(let y=0;y<o;y++){x[y]=new Int32Array(s);let E=y<<de.BLOCK_SIZE_POWER;E>f&&(E=f);for(let A=0;A<s;A++){let I=A<<de.BLOCK_SIZE_POWER;I>d&&(I=d);let k=0,P=255,j=0;for(let G=0,ee=E*c+I;G<de.BLOCK_SIZE;G++,ee+=c){for(let te=0;te<de.BLOCK_SIZE;te++){const $=r[ee+te]&255;k+=$,$<P&&(P=$),$>j&&(j=$)}if(j-P>de.MIN_DYNAMIC_RANGE)for(G++,ee+=c;G<de.BLOCK_SIZE;G++,ee+=c)for(let te=0;te<de.BLOCK_SIZE;te++)k+=r[ee+te]&255}let V=k>>de.BLOCK_SIZE_POWER*2;if(j-P<=de.MIN_DYNAMIC_RANGE&&(V=P/2,y>0&&A>0)){const G=(x[y-1][A]+2*x[y][A-1]+x[y-1][A-1])/4;P<G&&(V=G)}x[y][A]=V}}return x}}de.BLOCK_SIZE_POWER=3,de.BLOCK_SIZE=1<<de.BLOCK_SIZE_POWER,de.BLOCK_SIZE_MASK=de.BLOCK_SIZE-1,de.MINIMUM_DIMENSION=de.BLOCK_SIZE*5,de.MIN_DYNAMIC_RANGE=24;class ne{constructor(r,s){this.width=r,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,s,o,c){throw new fe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new fe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new fe("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let s=new we;for(let o=0;o<this.height;o++){const c=this.getRow(o,r);for(let u=0;u<this.width;u++){const f=c[u]&255;let d;f<64?d="#":f<128?d="+":f<192?d=".":d=" ",s.append(d)}s.append(`
`)}return s.toString()}}class ue extends ne{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,s){const o=this.delegate.getRow(r,s),c=this.getWidth();for(let u=0;u<c;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(s);for(let c=0;c<s;c++)o[c]=255-(r[c]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,s,o,c){return new ue(this.delegate.crop(r,s,o,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ue(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ue(this.delegate.rotateCounterClockwise45())}}class me extends ne{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=me.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const s=r.getContext("2d").getImageData(0,0,r.width,r.height);return me.toGrayscaleBuffer(s.data,r.width,r.height)}static toGrayscaleBuffer(r,s,o){const c=new Uint8ClampedArray(s*o);for(let u=0,f=0,d=r.length;u<d;u+=4,f++){let x;if(r[u+3]===0)x=255;else{const E=r[u],A=r[u+1],I=r[u+2];x=306*E+601*A+117*I+512>>10}c[f]=x}return c}getRow(r,s){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth(),c=r*o;return s===null?s=this.buffer.slice(c,c+o):(s.length<o&&(s=new Uint8ClampedArray(o)),s.set(this.buffer.slice(c,c+o))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,s,o,c){return super.crop(r,s,o,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const s=this.getTempCanvasElement(),o=s.getContext("2d"),c=r*me.DEGREE_TO_RADIANS,u=this.canvas.width,f=this.canvas.height,d=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*f),x=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*f);return s.width=d,s.height=x,o.translate(d/2,x/2),o.rotate(c),o.drawImage(this.canvas,u/-2,f/-2),this.buffer=me.makeBufferFromCanvasImageData(s),this}invert(){return new ue(this)}}me.DEGREE_TO_RADIANS=Math.PI/180;class he{constructor(r,s,o){this.deviceId=r,this.label=s,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ve=(globalThis||Ro||self||window||void 0)&&(globalThis||Ro||self||window||void 0).__awaiter||function(v,r,s,o){function c(u){return u instanceof s?u:new s(function(f){f(u)})}return new(s||(s=Promise))(function(u,f){function d(E){try{y(o.next(E))}catch(A){f(A)}}function x(E){try{y(o.throw(E))}catch(A){f(A)}}function y(E){E.done?u(E.value):c(E.value).then(d,x)}y((o=o.apply(v,r||[])).next())})};class It{constructor(r,s=500,o){this.reader=r,this.timeBetweenScansMillis=s,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return ve(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const o of r){const c=o.kind==="video"?"videoinput":o.kind;if(c!=="videoinput")continue;const u=o.deviceId||o.id,f=o.label||`Video device ${s.length+1}`,d=o.groupId,x={deviceId:u,label:f,kind:c,groupId:d};s.push(x)}return s})}getVideoInputDevices(){return ve(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new he(s.deviceId,s.label))})}findDeviceById(r){return ve(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,s){return ve(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,s)})}decodeOnceFromVideoDevice(r,s){return ve(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const c={video:o};return yield this.decodeOnceFromConstraints(c,s)})}decodeOnceFromConstraints(r,s){return ve(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,s)})}decodeOnceFromStream(r,s){return ve(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,s);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,s,o){return ve(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,s,o)})}decodeFromVideoDevice(r,s,o){return ve(this,void 0,void 0,function*(){let c;r?c={deviceId:{exact:r}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,s,o)})}decodeFromConstraints(r,s,o){return ve(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(c,s,o)})}decodeFromStream(r,s,o){return ve(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(r,s);return yield this.decodeContinuously(c,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,s){return ve(this,void 0,void 0,function*(){const o=this.prepareVideoElement(s);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((s,o)=>this.playVideoOnLoad(r,()=>s()))}playVideoOnLoad(r,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",s),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return ve(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,s){const o=document.getElementById(r);if(!o)throw new w(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==s.toLowerCase())throw new w(`element with id '${r}' must be an ${s} element`);return o}decodeFromImage(r,s){if(!r&&!s)throw new w("either imageElement with a src set or an url must be provided");return s&&!r?this.decodeFromImageUrl(s):this.decodeFromImageElement(r)}decodeFromVideo(r,s){if(!r&&!s)throw new w("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,s,o){if(r===void 0&&s===void 0)throw new w("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrlContinuously(s,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new w("An image element must be provided.");this.reset();const s=this.prepareImageElement(r);this.imageElement=s;let o;return this.isImageLoaded(s)?o=this.decodeOnce(s,!1,!0):o=this._decodeOnLoadImage(s),o}decodeFromVideoElement(r){const s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(r,s){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,s)}_decodeFromVideoElementSetup(r){if(!r)throw new w("A video element must be provided.");this.reset();const s=this.prepareVideoElement(r);return this.videoElement=s,s}decodeFromImageUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const o=this._decodeOnLoadImage(s);return s.src=r,o}decodeFromVideoUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElement(s);return s.src=r,o}decodeFromVideoUrlContinuously(r,s){if(!r)throw new w("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(o,s);return o.src=r,c}_decodeOnLoadImage(r){return new Promise((s,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(s,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return ve(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,s){return ve(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,s)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let s;return typeof r>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(s=r),s}prepareVideoElement(r){let s;return!r&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(s=r),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(r,s=!0,o=!0){this._stopAsyncDecode=!1;const c=(u,f)=>{if(this._stopAsyncDecode){f(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const d=this.decode(r);u(d)}catch(d){const x=s&&d instanceof Y,E=(d instanceof _||d instanceof U)&&o;if(x||E)return setTimeout(c,this._timeBetweenDecodingAttempts,u,f);f(d)}};return new Promise((u,f)=>c(u,f))}decodeContinuously(r,s){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(r);s(c,null),setTimeout(o,this.timeBetweenScansMillis)}catch(c){s(null,c);const u=c instanceof _||c instanceof U,f=c instanceof Y;(u||f)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const s=this.createBinaryBitmap(r);return this.decodeBitmap(s)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,s,o){s||(s={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(r,s,o=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const s=this.getCaptureCanvas(r),o=new me(s),c=new de(o);return new S(c)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const s=this.createCaptureCanvas(r);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let o,c;return typeof r<"u"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,c=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,c=r.naturalHeight||r.height)),s.style.width=o+"px",s.style.height=c+"px",s.width=o,s.height=c,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,s){try{r.srcObject=s}catch{r.src=URL.createObjectURL(s)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class Pe{constructor(r,s,o=s==null?0:8*s.length,c,u,f=O.currentTimeMillis()){this.text=r,this.rawBytes=s,this.numBits=o,this.resultPoints=c,this.format=u,this.timestamp=f,this.text=r,this.rawBytes=s,o==null?this.numBits=s==null?0:8*s.length:this.numBits=o,this.resultPoints=c,this.format=u,this.resultMetadata=null,f==null?this.timestamp=O.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,s)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const s=this.resultPoints;if(s===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(s.length+r.length);O.arraycopy(s,0,o,0,s.length),O.arraycopy(r,0,o,s.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var wn;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wn||(wn={}));var le=wn,Qn;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Qn||(Qn={}));var wt=Qn;class Mr{constructor(r,s,o,c,u=-1,f=-1){this.rawBytes=r,this.text=s,this.byteSegments=o,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=f,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ur{exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}static addOrSubtract(r,s){return r^s}}class ct{constructor(r,s){if(s.length===0)throw new C;this.field=r;const o=s.length;if(o>1&&s[0]===0){let c=1;for(;c<o&&s[c]===0;)c++;c===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-c),O.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const s=this.coefficients;let o;if(r===1){o=0;for(let f=0,d=s.length;f!==d;f++){const x=s[f];o=ur.addOrSubtract(o,x)}return o}o=s[0];const c=s.length,u=this.field;for(let f=1;f<c;f++)o=ur.addOrSubtract(u.multiply(r,o),s[f]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){const f=s;s=o,o=f}let c=new Int32Array(o.length);const u=o.length-s.length;O.arraycopy(o,0,c,0,u);for(let f=u;f<o.length;f++)c[f]=ur.addOrSubtract(s[f-u],o[f]);return new ct(this.field,c)}multiply(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const s=this.coefficients,o=s.length,c=r.coefficients,u=c.length,f=new Int32Array(o+u-1),d=this.field;for(let x=0;x<o;x++){const y=s[x];for(let E=0;E<u;E++)f[x+E]=ur.addOrSubtract(f[x+E],d.multiply(y,c[E]))}return new ct(d,f)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const s=this.coefficients.length,o=this.field,c=new Int32Array(s),u=this.coefficients;for(let f=0;f<s;f++)c[f]=o.multiply(u[f],r);return new ct(o,c)}multiplyByMonomial(r,s){if(r<0)throw new C;if(s===0)return this.field.getZero();const o=this.coefficients,c=o.length,u=new Int32Array(c+r),f=this.field;for(let d=0;d<c;d++)u[d]=f.multiply(o[d],s);return new ct(f,u)}divide(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new C("Divide by 0");const s=this.field;let o=s.getZero(),c=this;const u=r.getCoefficient(r.getDegree()),f=s.inverse(u);for(;c.getDegree()>=r.getDegree()&&!c.isZero();){const d=c.getDegree()-r.getDegree(),x=s.multiply(c.getCoefficient(c.getDegree()),f),y=r.multiplyByMonomial(d,x),E=s.buildMonomial(d,x);o=o.addOrSubtract(E),c=c.addOrSubtract(y)}return[o,c]}toString(){let r="";for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),s===0||o!==1){const c=this.field.log(o);c===0?r+="1":c===1?r+="a":(r+="a^",r+=c)}s!==0&&(s===1?r+="x":(r+="x^",r+=s))}}return r}}class wo extends g{}wo.kind="ArithmeticException";class Be extends ur{constructor(r,s,o){super(),this.primitive=r,this.size=s,this.generatorBase=o;const c=new Int32Array(s);let u=1;for(let d=0;d<s;d++)c[d]=u,u*=2,u>=s&&(u^=r,u&=s-1);this.expTable=c;const f=new Int32Array(s);for(let d=0;d<s-1;d++)f[c[d]]=d;this.logTable=f,this.zero=new ct(this,Int32Array.from([0])),this.one=new ct(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new C;if(s===0)return this.zero;const o=new Int32Array(r+1);return o[0]=s,new ct(this,o)}inverse(r){if(r===0)throw new wo;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+b.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}Be.AZTEC_DATA_12=new Be(4201,4096,1),Be.AZTEC_DATA_10=new Be(1033,1024,1),Be.AZTEC_DATA_6=new Be(67,64,1),Be.AZTEC_PARAM=new Be(19,16,1),Be.QR_CODE_FIELD_256=new Be(285,256,0),Be.DATA_MATRIX_FIELD_256=new Be(301,256,1),Be.AZTEC_DATA_8=Be.DATA_MATRIX_FIELD_256,Be.MAXICODE_FIELD_64=Be.AZTEC_DATA_6;class ws extends g{}ws.kind="ReedSolomonException";class fr extends g{}fr.kind="IllegalStateException";class Co{constructor(r){this.field=r}decode(r,s){const o=this.field,c=new ct(o,r),u=new Int32Array(s);let f=!0;for(let k=0;k<s;k++){const P=c.evaluateAt(o.exp(k+o.getGeneratorBase()));u[u.length-1-k]=P,P!==0&&(f=!1)}if(f)return;const d=new ct(o,u),x=this.runEuclideanAlgorithm(o.buildMonomial(s,1),d,s),y=x[0],E=x[1],A=this.findErrorLocations(y),I=this.findErrorMagnitudes(E,A);for(let k=0;k<A.length;k++){const P=r.length-1-o.log(A[k]);if(P<0)throw new ws("Bad error location");r[P]=Be.addOrSubtract(r[P],I[k])}}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){const k=r;r=s,s=k}const c=this.field;let u=r,f=s,d=c.getZero(),x=c.getOne();for(;f.getDegree()>=(o/2|0);){let k=u,P=d;if(u=f,d=x,u.isZero())throw new ws("r_{i-1} was zero");f=k;let j=c.getZero();const V=u.getCoefficient(u.getDegree()),G=c.inverse(V);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){const ee=f.getDegree()-u.getDegree(),te=c.multiply(f.getCoefficient(f.getDegree()),G);j=j.addOrSubtract(c.buildMonomial(ee,te)),f=f.addOrSubtract(u.multiplyByMonomial(ee,te))}if(x=j.multiply(d).addOrSubtract(P),f.getDegree()>=u.getDegree())throw new fr("Division algorithm failed to reduce polynomial?")}const y=x.getCoefficient(0);if(y===0)throw new ws("sigmaTilde(0) was zero");const E=c.inverse(y),A=x.multiplyScalar(E),I=f.multiplyScalar(E);return[A,I]}findErrorLocations(r){const s=r.getDegree();if(s===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(s);let c=0;const u=this.field;for(let f=1;f<u.getSize()&&c<s;f++)r.evaluateAt(f)===0&&(o[c]=u.inverse(f),c++);if(c!==s)throw new ws("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,s){const o=s.length,c=new Int32Array(o),u=this.field;for(let f=0;f<o;f++){const d=u.inverse(s[f]);let x=1;for(let y=0;y<o;y++)if(f!==y){const E=u.multiply(s[y],d),A=E&1?E&-2:E|1;x=u.multiply(x,A)}c[f]=u.multiply(r.evaluateAt(d),u.inverse(x)),u.getGeneratorBase()!==0&&(c[f]=u.multiply(c[f],d))}return c}}var Pt;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(Pt||(Pt={}));class Qe{decode(r){this.ddata=r;let s=r.getBits(),o=this.extractBits(s),c=this.correctBits(o),u=Qe.convertBoolArrayToByteArray(c),f=Qe.getEncodedData(c),d=new Mr(u,f,null,null);return d.setNumBits(c.length),d}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let s=r.length,o=Pt.UPPER,c=Pt.UPPER,u="",f=0;for(;f<s;)if(c===Pt.BINARY){if(s-f<5)break;let d=Qe.readCode(r,f,5);if(f+=5,d===0){if(s-f<11)break;d=Qe.readCode(r,f,11)+31,f+=11}for(let x=0;x<d;x++){if(s-f<8){f=s;break}const y=Qe.readCode(r,f,8);u+=ie.castAsNonUtf8Char(y),f+=8}c=o}else{let d=c===Pt.DIGIT?4:5;if(s-f<d)break;let x=Qe.readCode(r,f,d);f+=d;let y=Qe.getCharacter(c,x);y.startsWith("CTRL_")?(o=c,c=Qe.getTable(y.charAt(5)),y.charAt(6)==="L"&&(o=c)):(u+=y,c=o)}return u}static getTable(r){switch(r){case"L":return Pt.LOWER;case"P":return Pt.PUNCT;case"M":return Pt.MIXED;case"D":return Pt.DIGIT;case"B":return Pt.BINARY;case"U":default:return Pt.UPPER}}static getCharacter(r,s){switch(r){case Pt.UPPER:return Qe.UPPER_TABLE[s];case Pt.LOWER:return Qe.LOWER_TABLE[s];case Pt.MIXED:return Qe.MIXED_TABLE[s];case Pt.PUNCT:return Qe.PUNCT_TABLE[s];case Pt.DIGIT:return Qe.DIGIT_TABLE[s];default:throw new fr("Bad table")}}correctBits(r){let s,o;this.ddata.getNbLayers()<=2?(o=6,s=Be.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,s=Be.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,s=Be.AZTEC_DATA_10):(o=12,s=Be.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=r.length/o;if(u<c)throw new U;let f=r.length%o,d=new Int32Array(u);for(let I=0;I<u;I++,f+=o)d[I]=Qe.readCode(r,f,o);try{new Co(s).decode(d,u-c)}catch(I){throw new U(I)}let x=(1<<o)-1,y=0;for(let I=0;I<c;I++){let k=d[I];if(k===0||k===x)throw new U;(k===1||k===x-1)&&y++}let E=new Array(c*o-y),A=0;for(let I=0;I<c;I++){let k=d[I];if(k===1||k===x-1)E.fill(k>1,A,A+o-1),A+=o-1;else for(let P=o-1;P>=0;--P)E[A++]=(k&1<<P)!==0}return E}extractBits(r){let s=this.ddata.isCompact(),o=this.ddata.getNbLayers(),c=(s?11:14)+o*4,u=new Int32Array(c),f=new Array(this.totalBitsInLayer(o,s));if(s)for(let d=0;d<u.length;d++)u[d]=d;else{let d=c+1+2*b.truncDivision(b.truncDivision(c,2)-1,15),x=c/2,y=b.truncDivision(d,2);for(let E=0;E<x;E++){let A=E+b.truncDivision(E,15);u[x-E-1]=y-A-1,u[x+E]=y+A+1}}for(let d=0,x=0;d<o;d++){let y=(o-d)*4+(s?9:12),E=d*2,A=c-1-E;for(let I=0;I<y;I++){let k=I*2;for(let P=0;P<2;P++)f[x+k+P]=r.get(u[E+P],u[E+I]),f[x+2*y+k+P]=r.get(u[E+I],u[A-P]),f[x+4*y+k+P]=r.get(u[A-P],u[A-I]),f[x+6*y+k+P]=r.get(u[A-I],u[E+P])}x+=y*8}return f}static readCode(r,s,o){let c=0;for(let u=s;u<s+o;u++)c<<=1,r[u]&&(c|=1);return c}static readByte(r,s){let o=r.length-s;return o>=8?Qe.readCode(r,s,8):Qe.readCode(r,s,o)<<8-o}static convertBoolArrayToByteArray(r){let s=new Uint8Array((r.length+7)/8);for(let o=0;o<s.length;o++)s[o]=Qe.readByte(r,8*o);return s}totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}Qe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Qe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Qe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Qe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Qe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class De{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,s,o,c){const u=r-o,f=s-c;return Math.sqrt(u*u+f*f)}static sum(r){let s=0;for(let o=0,c=r.length;o!==c;o++){const u=r[o];s+=u}return s}}class Wa{static floatToIntBits(r){return r}}Wa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ce{constructor(r,s){this.x=r,this.y=s}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof ce){const s=r;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Wa.floatToIntBits(this.x)+Wa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const s=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),c=this.distance(r[0],r[2]);let u,f,d;if(o>=s&&o>=c?(f=r[0],u=r[1],d=r[2]):c>=o&&c>=s?(f=r[1],u=r[0],d=r[2]):(f=r[2],u=r[0],d=r[1]),this.crossProductZ(u,f,d)<0){const x=u;u=d,d=x}r[0]=u,r[1]=f,r[2]=d}static distance(r,s){return De.distance(r.x,r.y,s.x,s.y)}static crossProductZ(r,s,o){const c=s.x,u=s.y;return(o.x-c)*(r.y-u)-(o.y-u)*(r.x-c)}}class Ga{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class X0 extends Ga{constructor(r,s,o,c,u){super(r,s),this.compact=o,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Dr{constructor(r,s,o,c){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),s==null&&(s=Dr.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),c==null&&(c=r.getHeight()/2|0);const u=s/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let r=this.leftInit,s=this.rightInit,o=this.upInit,c=this.downInit,u=!1,f=!0,d=!1,x=!1,y=!1,E=!1,A=!1;const I=this.width,k=this.height;for(;f;){f=!1;let P=!0;for(;(P||!x)&&s<I;)P=this.containsBlackPoint(o,c,s,!1),P?(s++,f=!0,x=!0):x||s++;if(s>=I){u=!0;break}let j=!0;for(;(j||!y)&&c<k;)j=this.containsBlackPoint(r,s,c,!0),j?(c++,f=!0,y=!0):y||c++;if(c>=k){u=!0;break}let V=!0;for(;(V||!E)&&r>=0;)V=this.containsBlackPoint(o,c,r,!1),V?(r--,f=!0,E=!0):E||r--;if(r<0){u=!0;break}let G=!0;for(;(G||!A)&&o>=0;)G=this.containsBlackPoint(r,s,o,!0),G?(o--,f=!0,A=!0):A||o--;if(o<0){u=!0;break}f&&(d=!0)}if(!u&&d){const P=s-r;let j=null;for(let te=1;j===null&&te<P;te++)j=this.getBlackPointOnSegment(r,c-te,r+te,c);if(j==null)throw new Y;let V=null;for(let te=1;V===null&&te<P;te++)V=this.getBlackPointOnSegment(r,o+te,r+te,o);if(V==null)throw new Y;let G=null;for(let te=1;G===null&&te<P;te++)G=this.getBlackPointOnSegment(s,o+te,s-te,o);if(G==null)throw new Y;let ee=null;for(let te=1;ee===null&&te<P;te++)ee=this.getBlackPointOnSegment(s,c-te,s-te,c);if(ee==null)throw new Y;return this.centerEdges(ee,j,G,V)}else throw new Y}getBlackPointOnSegment(r,s,o,c){const u=De.round(De.distance(r,s,o,c)),f=(o-r)/u,d=(c-s)/u,x=this.image;for(let y=0;y<u;y++){const E=De.round(r+y*f),A=De.round(s+y*d);if(x.get(E,A))return new ce(E,A)}return null}centerEdges(r,s,o,c){const u=r.getX(),f=r.getY(),d=s.getX(),x=s.getY(),y=o.getX(),E=o.getY(),A=c.getX(),I=c.getY(),k=Dr.CORR;return u<this.width/2?[new ce(A-k,I+k),new ce(d+k,x+k),new ce(y-k,E-k),new ce(u+k,f-k)]:[new ce(A+k,I+k),new ce(d+k,x-k),new ce(y-k,E+k),new ce(u-k,f-k)]}containsBlackPoint(r,s,o,c){const u=this.image;if(c){for(let f=r;f<=s;f++)if(u.get(f,o))return!0}else for(let f=r;f<=s;f++)if(u.get(o,f))return!0;return!1}}Dr.INIT_SIZE=10,Dr.CORR=1;class Au{static checkAndNudgePoints(r,s){const o=r.getWidth(),c=r.getHeight();let u=!0;for(let f=0;f<s.length&&u;f+=2){const d=Math.floor(s[f]),x=Math.floor(s[f+1]);if(d<-1||d>o||x<-1||x>c)throw new Y;u=!1,d===-1?(s[f]=0,u=!0):d===o&&(s[f]=o-1,u=!0),x===-1?(s[f+1]=0,u=!0):x===c&&(s[f+1]=c-1,u=!0)}u=!0;for(let f=s.length-2;f>=0&&u;f-=2){const d=Math.floor(s[f]),x=Math.floor(s[f+1]);if(d<-1||d>o||x<-1||x>c)throw new Y;u=!1,d===-1?(s[f]=0,u=!0):d===o&&(s[f]=o-1,u=!0),x===-1?(s[f+1]=0,u=!0):x===c&&(s[f+1]=c-1,u=!0)}}}class Kn{constructor(r,s,o,c,u,f,d,x,y){this.a11=r,this.a21=s,this.a31=o,this.a12=c,this.a22=u,this.a32=f,this.a13=d,this.a23=x,this.a33=y}static quadrilateralToQuadrilateral(r,s,o,c,u,f,d,x,y,E,A,I,k,P,j,V){const G=Kn.quadrilateralToSquare(r,s,o,c,u,f,d,x);return Kn.squareToQuadrilateral(y,E,A,I,k,P,j,V).times(G)}transformPoints(r){const s=r.length,o=this.a11,c=this.a12,u=this.a13,f=this.a21,d=this.a22,x=this.a23,y=this.a31,E=this.a32,A=this.a33;for(let I=0;I<s;I+=2){const k=r[I],P=r[I+1],j=u*k+x*P+A;r[I]=(o*k+f*P+y)/j,r[I+1]=(c*k+d*P+E)/j}}transformPointsWithValues(r,s){const o=this.a11,c=this.a12,u=this.a13,f=this.a21,d=this.a22,x=this.a23,y=this.a31,E=this.a32,A=this.a33,I=r.length;for(let k=0;k<I;k++){const P=r[k],j=s[k],V=u*P+x*j+A;r[k]=(o*P+f*j+y)/V,s[k]=(c*P+d*j+E)/V}}static squareToQuadrilateral(r,s,o,c,u,f,d,x){const y=r-o+u-d,E=s-c+f-x;if(y===0&&E===0)return new Kn(o-r,u-o,r,c-s,f-c,s,0,0,1);{const A=o-u,I=d-u,k=c-f,P=x-f,j=A*P-I*k,V=(y*P-I*E)/j,G=(A*E-y*k)/j;return new Kn(o-r+V*o,d-r+G*d,r,c-s+V*c,x-s+G*x,s,V,G,1)}}static quadrilateralToSquare(r,s,o,c,u,f,d,x){return Kn.squareToQuadrilateral(r,s,o,c,u,f,d,x).buildAdjoint()}buildAdjoint(){return new Kn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new Kn(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Y0 extends Au{sampleGrid(r,s,o,c,u,f,d,x,y,E,A,I,k,P,j,V,G,ee,te){const $=Kn.quadrilateralToQuadrilateral(c,u,f,d,x,y,E,A,I,k,P,j,V,G,ee,te);return this.sampleGridWithTransform(r,s,o,$)}sampleGridWithTransform(r,s,o,c){if(s<=0||o<=0)throw new Y;const u=new Ae(s,o),f=new Float32Array(2*s);for(let d=0;d<o;d++){const x=f.length,y=d+.5;for(let E=0;E<x;E+=2)f[E]=E/2+.5,f[E+1]=y;c.transformPoints(f),Au.checkAndNudgePoints(r,f);try{for(let E=0;E<x;E+=2)r.get(Math.floor(f[E]),Math.floor(f[E+1]))&&u.set(E/2,d)}catch{throw new Y}}return u}}class $r{static setGridSampler(r){$r.gridSampler=r}static getInstance(){return $r.gridSampler}}$r.gridSampler=new Y0;class Jt{constructor(r,s){this.x=r,this.y=s}toResultPoint(){return new ce(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Q0{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let s=this.getMatrixCenter(),o=this.getBullsEyeCorners(s);if(r){let f=o[0];o[0]=o[2],o[2]=f}this.extractParameters(o);let c=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new X0(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new Y;let s=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],s),this.sampleLine(r[1],r[2],s),this.sampleLine(r[2],r[3],s),this.sampleLine(r[3],r[0],s)]);this.shift=this.getRotation(o,s);let c=0;for(let f=0;f<4;f++){let d=o[(this.shift+f)%4];this.compact?(c<<=7,c+=d>>1&127):(c<<=10,c+=(d>>2&992)+(d>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(r,s){let o=0;r.forEach((c,u,f)=>{let d=(c>>s-2<<1)+(c&1);o=(o<<3)+d}),o=((o&1)<<11)+(o>>1);for(let c=0;c<4;c++)if(b.bitCount(o^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new Y}getCorrectedParameterData(r,s){let o,c;s?(o=7,c=2):(o=10,c=4);let u=o-c,f=new Int32Array(o);for(let x=o-1;x>=0;--x)f[x]=r&15,r>>=4;try{new Co(Be.AZTEC_PARAM).decode(f,u)}catch{throw new Y}let d=0;for(let x=0;x<c;x++)d=(d<<4)+f[x];return d}getBullsEyeCorners(r){let s=r,o=r,c=r,u=r,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(s,f,1,-1),I=this.getFirstDifferent(o,f,1,1),k=this.getFirstDifferent(c,f,-1,1),P=this.getFirstDifferent(u,f,-1,-1);if(this.nbCenterLayers>2){let j=this.distancePoint(P,A)*this.nbCenterLayers/(this.distancePoint(u,s)*(this.nbCenterLayers+2));if(j<.75||j>1.25||!this.isWhiteOrBlackRectangle(A,I,k,P))break}s=A,o=I,c=k,u=P,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let d=new ce(s.getX()+.5,s.getY()-.5),x=new ce(o.getX()+.5,o.getY()+.5),y=new ce(c.getX()-.5,c.getY()+.5),E=new ce(u.getX()-.5,u.getY()-.5);return this.expandSquare([d,x,y,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,s,o,c;try{let d=new Dr(this.image).detect();r=d[0],s=d[1],o=d[2],c=d[3]}catch{let x=this.image.getWidth()/2,y=this.image.getHeight()/2;r=this.getFirstDifferent(new Jt(x+7,y-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Jt(x+7,y+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Jt(x-7,y+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Jt(x-7,y-7),!1,-1,-1).toResultPoint()}let u=De.round((r.getX()+c.getX()+s.getX()+o.getX())/4),f=De.round((r.getY()+c.getY()+s.getY()+o.getY())/4);try{let d=new Dr(this.image,15,u,f).detect();r=d[0],s=d[1],o=d[2],c=d[3]}catch{r=this.getFirstDifferent(new Jt(u+7,f-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Jt(u+7,f+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new Jt(u-7,f+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new Jt(u-7,f-7),!1,-1,-1).toResultPoint()}return u=De.round((r.getX()+c.getX()+s.getX()+o.getX())/4),f=De.round((r.getY()+c.getY()+s.getY()+o.getY())/4),new Jt(u,f)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,s,o,c,u){let f=$r.getInstance(),d=this.getDimension(),x=d/2-this.nbCenterLayers,y=d/2+this.nbCenterLayers;return f.sampleGrid(r,d,d,x,x,y,x,y,y,x,y,s.getX(),s.getY(),o.getX(),o.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(r,s,o){let c=0,u=this.distanceResultPoint(r,s),f=u/o,d=r.getX(),x=r.getY(),y=f*(s.getX()-r.getX())/u,E=f*(s.getY()-r.getY())/u;for(let A=0;A<o;A++)this.image.get(De.round(d+A*y),De.round(x+A*E))&&(c|=1<<o-A-1);return c}isWhiteOrBlackRectangle(r,s,o,c){let u=3;r=new Jt(r.getX()-u,r.getY()+u),s=new Jt(s.getX()-u,s.getY()-u),o=new Jt(o.getX()+u,o.getY()-u),c=new Jt(c.getX()+u,c.getY()+u);let f=this.getColor(c,r);if(f===0)return!1;let d=this.getColor(r,s);return d!==f||(d=this.getColor(s,o),d!==f)?!1:(d=this.getColor(o,c),d===f)}getColor(r,s){let o=this.distancePoint(r,s),c=(s.getX()-r.getX())/o,u=(s.getY()-r.getY())/o,f=0,d=r.getX(),x=r.getY(),y=this.image.get(r.getX(),r.getY()),E=Math.ceil(o);for(let I=0;I<E;I++)d+=c,x+=u,this.image.get(De.round(d),De.round(x))!==y&&f++;let A=f/o;return A>.1&&A<.9?0:A<=.1===y?1:-1}getFirstDifferent(r,s,o,c){let u=r.getX()+o,f=r.getY()+c;for(;this.isValid(u,f)&&this.image.get(u,f)===s;)u+=o,f+=c;for(u-=o,f-=c;this.isValid(u,f)&&this.image.get(u,f)===s;)u+=o;for(u-=o;this.isValid(u,f)&&this.image.get(u,f)===s;)f+=c;return f-=c,new Jt(u,f)}expandSquare(r,s,o){let c=o/(2*s),u=r[0].getX()-r[2].getX(),f=r[0].getY()-r[2].getY(),d=(r[0].getX()+r[2].getX())/2,x=(r[0].getY()+r[2].getY())/2,y=new ce(d+c*u,x+c*f),E=new ce(d-c*u,x-c*f);u=r[1].getX()-r[3].getX(),f=r[1].getY()-r[3].getY(),d=(r[1].getX()+r[3].getX())/2,x=(r[1].getY()+r[3].getY())/2;let A=new ce(d+c*u,x+c*f),I=new ce(d-c*u,x-c*f);return[y,A,E,I]}isValid(r,s){return r>=0&&r<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(r){let s=De.round(r.getX()),o=De.round(r.getY());return this.isValid(s,o)}distancePoint(r,s){return De.distance(r.getX(),r.getY(),s.getX(),s.getY())}distanceResultPoint(r,s){return De.distance(r.getX(),r.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(b.truncDivision(this.nbLayers-4,8)+1)+15}}class Xa{decode(r,s=null){let o=null,c=new Q0(r.getBlackMatrix()),u=null,f=null;try{let E=c.detectMirror(!1);u=E.getPoints(),this.reportFoundResultPoints(s,u),f=new Qe().decode(E)}catch(E){o=E}if(f==null)try{let E=c.detectMirror(!0);u=E.getPoints(),this.reportFoundResultPoints(s,u),f=new Qe().decode(E)}catch(E){throw o??E}let d=new Pe(f.getText(),f.getRawBytes(),f.getNumBits(),u,le.AZTEC,O.currentTimeMillis()),x=f.getByteSegments();x!=null&&d.putMetadata(wt.BYTE_SEGMENTS,x);let y=f.getECLevel();return y!=null&&d.putMetadata(wt.ERROR_CORRECTION_LEVEL,y),d}reportFoundResultPoints(r,s){if(r!=null){let o=r.get(Z.NEED_RESULT_POINT_CALLBACK);o!=null&&s.forEach((c,u,f)=>{o.foundPossibleResultPoint(c)})}}reset(){}}class SC extends It{constructor(r=500){super(new Xa,r)}}class Ct{decode(r,s){try{return this.doDecode(r,s)}catch{if(s&&s.get(Z.TRY_HARDER)===!0&&r.isRotateSupported()){const u=r.rotateCounterClockwise(),f=this.doDecode(u,s),d=f.getResultMetadata();let x=270;d!==null&&d.get(wt.ORIENTATION)===!0&&(x=x+d.get(wt.ORIENTATION)%360),f.putMetadata(wt.ORIENTATION,x);const y=f.getResultPoints();if(y!==null){const E=u.getHeight();for(let A=0;A<y.length;A++)y[A]=new ce(E-y[A].getY()-1,y[A].getX())}return f}else throw new Y}}reset(){}doDecode(r,s){const o=r.getWidth(),c=r.getHeight();let u=new F(o);const f=s&&s.get(Z.TRY_HARDER)===!0,d=Math.max(1,c>>(f?8:5));let x;f?x=c:x=15;const y=Math.trunc(c/2);for(let E=0;E<x;E++){const A=Math.trunc((E+1)/2),I=(E&1)===0,k=y+d*(I?A:-A);if(k<0||k>=c)break;try{u=r.getBlackRow(k,u)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(u.reverse(),s&&s.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const j=new Map;s.forEach((V,G)=>j.set(G,V)),j.delete(Z.NEED_RESULT_POINT_CALLBACK),s=j}try{const j=this.decodeRow(k,u,s);if(P===1){j.putMetadata(wt.ORIENTATION,180);const V=j.getResultPoints();V!==null&&(V[0]=new ce(o-V[0].getX()-1,V[0].getY()),V[1]=new ce(o-V[1].getX()-1,V[1].getY()))}return j}catch{}}}throw new Y}static recordPattern(r,s,o){const c=o.length;for(let y=0;y<c;y++)o[y]=0;const u=r.getSize();if(s>=u)throw new Y;let f=!r.get(s),d=0,x=s;for(;x<u;){if(r.get(x)!==f)o[d]++;else{if(++d===c)break;o[d]=1,f=!f}x++}if(!(d===c||d===c-1&&x===u))throw new Y}static recordPatternInReverse(r,s,o){let c=o.length,u=r.get(s);for(;s>0&&c>=0;)r.get(--s)!==u&&(c--,u=!u);if(c>=0)throw new Y;Ct.recordPattern(r,s+1,o)}static patternMatchVariance(r,s,o){const c=r.length;let u=0,f=0;for(let y=0;y<c;y++)u+=r[y],f+=s[y];if(u<f)return Number.POSITIVE_INFINITY;const d=u/f;o*=d;let x=0;for(let y=0;y<c;y++){const E=r[y],A=s[y]*d,I=E>A?E-A:A-E;if(I>o)return Number.POSITIVE_INFINITY;x+=I}return x/u}}class re extends Ct{static findStartPattern(r){const s=r.getSize(),o=r.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),f=o,d=!1;const x=6;for(let y=o;y<s;y++)if(r.get(y)!==d)u[c]++;else{if(c===x-1){let E=re.MAX_AVG_VARIANCE,A=-1;for(let I=re.CODE_START_A;I<=re.CODE_START_C;I++){const k=Ct.patternMatchVariance(u,re.CODE_PATTERNS[I],re.MAX_INDIVIDUAL_VARIANCE);k<E&&(E=k,A=I)}if(A>=0&&r.isRange(Math.max(0,f-(y-f)/2),f,!1))return Int32Array.from([f,y,A]);f+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,d=!d}throw new Y}static decodeCode(r,s,o){Ct.recordPattern(r,o,s);let c=re.MAX_AVG_VARIANCE,u=-1;for(let f=0;f<re.CODE_PATTERNS.length;f++){const d=re.CODE_PATTERNS[f],x=this.patternMatchVariance(s,d,re.MAX_INDIVIDUAL_VARIANCE);x<c&&(c=x,u=f)}if(u>=0)return u;throw new Y}decodeRow(r,s,o){const c=o&&o.get(Z.ASSUME_GS1)===!0,u=re.findStartPattern(s),f=u[2];let d=0;const x=new Uint8Array(20);x[d++]=f;let y;switch(f){case re.CODE_START_A:y=re.CODE_CODE_A;break;case re.CODE_START_B:y=re.CODE_CODE_B;break;case re.CODE_START_C:y=re.CODE_CODE_C;break;default:throw new U}let E=!1,A=!1,I="",k=u[0],P=u[1];const j=Int32Array.from([0,0,0,0,0,0]);let V=0,G=0,ee=f,te=0,$=!0,Re=!1,Se=!1;for(;!E;){const Ns=A;switch(A=!1,V=G,G=re.decodeCode(s,j,P),x[d++]=G,G!==re.CODE_STOP&&($=!0),G!==re.CODE_STOP&&(te++,ee+=te*G),k=P,P+=j.reduce((JC,e3)=>JC+e3,0),G){case re.CODE_START_A:case re.CODE_START_B:case re.CODE_START_C:throw new U}switch(y){case re.CODE_CODE_A:if(G<64)Se===Re?I+=String.fromCharCode(" ".charCodeAt(0)+G):I+=String.fromCharCode(" ".charCodeAt(0)+G+128),Se=!1;else if(G<96)Se===Re?I+=String.fromCharCode(G-64):I+=String.fromCharCode(G+64),Se=!1;else switch(G!==re.CODE_STOP&&($=!1),G){case re.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_A:!Re&&Se?(Re=!0,Se=!1):Re&&Se?(Re=!1,Se=!1):Se=!0;break;case re.CODE_SHIFT:A=!0,y=re.CODE_CODE_B;break;case re.CODE_CODE_B:y=re.CODE_CODE_B;break;case re.CODE_CODE_C:y=re.CODE_CODE_C;break;case re.CODE_STOP:E=!0;break}break;case re.CODE_CODE_B:if(G<96)Se===Re?I+=String.fromCharCode(" ".charCodeAt(0)+G):I+=String.fromCharCode(" ".charCodeAt(0)+G+128),Se=!1;else switch(G!==re.CODE_STOP&&($=!1),G){case re.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_B:!Re&&Se?(Re=!0,Se=!1):Re&&Se?(Re=!1,Se=!1):Se=!0;break;case re.CODE_SHIFT:A=!0,y=re.CODE_CODE_A;break;case re.CODE_CODE_A:y=re.CODE_CODE_A;break;case re.CODE_CODE_C:y=re.CODE_CODE_C;break;case re.CODE_STOP:E=!0;break}break;case re.CODE_CODE_C:if(G<100)G<10&&(I+="0"),I+=G;else switch(G!==re.CODE_STOP&&($=!1),G){case re.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case re.CODE_CODE_A:y=re.CODE_CODE_A;break;case re.CODE_CODE_B:y=re.CODE_CODE_B;break;case re.CODE_STOP:E=!0;break}break}Ns&&(y=y===re.CODE_CODE_A?re.CODE_CODE_B:re.CODE_CODE_A)}const un=P-k;if(P=s.getNextUnset(P),!s.isRange(P,Math.min(s.getSize(),P+(P-k)/2),!1))throw new Y;if(ee-=te*V,ee%103!==V)throw new _;const qn=I.length;if(qn===0)throw new Y;qn>0&&$&&(y===re.CODE_CODE_C?I=I.substring(0,qn-2):I=I.substring(0,qn-1));const fn=(u[1]+u[0])/2,Ye=k+un/2,jt=x.length,Cn=new Uint8Array(jt);for(let Ns=0;Ns<jt;Ns++)Cn[Ns]=x[Ns];const bs=[new ce(fn,r),new ce(Ye,r)];return new Pe(I,Cn,0,bs,le.CODE_128,new Date().getTime())}}re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],re.MAX_AVG_VARIANCE=.25,re.MAX_INDIVIDUAL_VARIANCE=.7,re.CODE_SHIFT=98,re.CODE_CODE_C=99,re.CODE_CODE_B=100,re.CODE_CODE_A=101,re.CODE_FNC_1=102,re.CODE_FNC_2=97,re.CODE_FNC_3=96,re.CODE_FNC_4_A=101,re.CODE_FNC_4_B=100,re.CODE_START_A=103,re.CODE_START_B=104,re.CODE_START_C=105,re.CODE_STOP=106;class bt extends Ct{constructor(r=!1,s=!1){super(),this.usingCheckDigit=r,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,s,o){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=bt.findAsteriskPattern(s,c),f=s.getNextSet(u[1]),d=s.getSize(),x,y;do{bt.recordPattern(s,f,c);let j=bt.toNarrowWidePattern(c);if(j<0)throw new Y;x=bt.patternToChar(j),this.decodeRowResult+=x,y=f;for(let V of c)f+=V;f=s.getNextSet(f)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let j of c)E+=j;let A=f-y-E;if(f!==d&&A*2<E)throw new Y;if(this.usingCheckDigit){let j=this.decodeRowResult.length-1,V=0;for(let G=0;G<j;G++)V+=bt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(j)!==bt.ALPHABET_STRING.charAt(V%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new Y;let I;this.extendedMode?I=bt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let k=(u[1]+u[0])/2,P=y+E/2;return new Pe(I,null,0,[new ce(k,r),new ce(P,r)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(r,s){let o=r.getSize(),c=r.getNextSet(0),u=0,f=c,d=!1,x=s.length;for(let y=c;y<o;y++)if(r.get(y)!==d)s[u]++;else{if(u===x-1){if(this.toNarrowWidePattern(s)===bt.ASTERISK_ENCODING&&r.isRange(Math.max(0,f-Math.floor((y-f)/2)),f,!1))return[f,y];f+=s[0]+s[1],s.copyWithin(0,2,2+u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,d=!d}throw new Y}static toNarrowWidePattern(r){let s=r.length,o=0,c;do{let u=2147483647;for(let x of r)x<u&&x>o&&(u=x);o=u,c=0;let f=0,d=0;for(let x=0;x<s;x++){let y=r[x];y>o&&(d|=1<<s-1-x,c++,f+=y)}if(c===3){for(let x=0;x<s&&c>0;x++){let y=r[x];if(y>o&&(c--,y*2>=f))return-1}return d}}while(c>3);return-1}static patternToChar(r){for(let s=0;s<bt.CHARACTER_ENCODINGS.length;s++)if(bt.CHARACTER_ENCODINGS[s]===r)return bt.ALPHABET_STRING.charAt(s);if(r===bt.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(r){let s=r.length,o="";for(let c=0;c<s;c++){let u=r.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let f=r.charAt(c+1),d="\0";switch(u){case"+":if(f>="A"&&f<="Z")d=String.fromCharCode(f.charCodeAt(0)+32);else throw new U;break;case"$":if(f>="A"&&f<="Z")d=String.fromCharCode(f.charCodeAt(0)-64);else throw new U;break;case"%":if(f>="A"&&f<="E")d=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")d=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")d=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")d=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")d="\0";else if(f==="V")d="@";else if(f==="W")d="`";else if(f==="X"||f==="Y"||f==="Z")d="";else throw new U;break;case"/":if(f>="A"&&f<="O")d=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")d=":";else throw new U;break}o+=d,c++}else o+=u}return o}}bt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",bt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],bt.ASTERISK_ENCODING=148;class Ge extends Ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,s,o){let c=this.decodeStart(s),u=this.decodeEnd(s),f=new we;Ge.decodeMiddle(s,c[1],u[0],f);let d=f.toString(),x=null;o!=null&&(x=o.get(Z.ALLOWED_LENGTHS)),x==null&&(x=Ge.DEFAULT_ALLOWED_LENGTHS);let y=d.length,E=!1,A=0;for(let P of x){if(y===P){E=!0;break}P>A&&(A=P)}if(!E&&y>A&&(E=!0),!E)throw new U;const I=[new ce(c[1],r),new ce(u[0],r)];return new Pe(d,null,0,I,le.ITF,new Date().getTime())}static decodeMiddle(r,s,o,c){let u=new Int32Array(10),f=new Int32Array(5),d=new Int32Array(5);for(u.fill(0),f.fill(0),d.fill(0);s<o;){Ct.recordPattern(r,s,u);for(let y=0;y<5;y++){let E=2*y;f[y]=u[E],d[y]=u[E+1]}let x=Ge.decodeDigit(f);c.append(x.toString()),x=this.decodeDigit(d),c.append(x.toString()),u.forEach(function(y){s+=y})}}decodeStart(r){let s=Ge.skipWhiteSpace(r),o=Ge.findGuardPattern(r,s,Ge.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,s){let o=this.narrowLineWidth*10;o=o<s?o:s;for(let c=s-1;o>0&&c>=0&&!r.get(c);c--)o--;if(o!==0)throw new Y}static skipWhiteSpace(r){const s=r.getSize(),o=r.getNextSet(0);if(o===s)throw new Y;return o}decodeEnd(r){r.reverse();try{let s=Ge.skipWhiteSpace(r),o;try{o=Ge.findGuardPattern(r,s,Ge.END_PATTERN_REVERSED[0])}catch(u){u instanceof Y&&(o=Ge.findGuardPattern(r,s,Ge.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let c=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-c,o}finally{r.reverse()}}static findGuardPattern(r,s,o){let c=o.length,u=new Int32Array(c),f=r.getSize(),d=!1,x=0,y=s;u.fill(0);for(let E=s;E<f;E++)if(r.get(E)!==d)u[x]++;else{if(x===c-1){if(Ct.patternMatchVariance(u,o,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE)return[y,E];y+=u[0]+u[1],O.arraycopy(u,2,u,0,x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,d=!d}throw new Y}static decodeDigit(r){let s=Ge.MAX_AVG_VARIANCE,o=-1,c=Ge.PATTERNS.length;for(let u=0;u<c;u++){let f=Ge.PATTERNS[u],d=Ct.patternMatchVariance(r,f,Ge.MAX_INDIVIDUAL_VARIANCE);d<s?(s=d,o=u):d===s&&(o=-1)}if(o>=0)return o%10;throw new Y}}Ge.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ge.MAX_AVG_VARIANCE=.38,Ge.MAX_INDIVIDUAL_VARIANCE=.5,Ge.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ge.START_PATTERN=Int32Array.from([1,1,1,1]),Ge.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ut extends Ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let s=!1,o,c=0,u=Int32Array.from([0,0,0]);for(;!s;){u=Int32Array.from([0,0,0]),o=ut.findGuardPattern(r,c,!1,this.START_END_PATTERN,u);let f=o[0];c=o[1];let d=f-(c-f);d>=0&&(s=r.isRange(d,f,!1))}return o}static checkChecksum(r){return ut.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return ut.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let c=s-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new U;o+=u}o*=3;for(let c=s-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new U;o+=u}return(1e3-o)%10}static decodeEnd(r,s){return ut.findGuardPattern(r,s,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,s,o,c){return this.findGuardPattern(r,s,o,c,new Int32Array(c.length))}static findGuardPattern(r,s,o,c,u){let f=r.getSize();s=o?r.getNextUnset(s):r.getNextSet(s);let d=0,x=s,y=c.length,E=o;for(let A=s;A<f;A++)if(r.get(A)!==E)u[d]++;else{if(d===y-1){if(Ct.patternMatchVariance(u,c,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return Int32Array.from([x,A]);x+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let k=0;k<d-1;k++)u[k]=I[k];u[d-1]=0,u[d]=0,d--}else d++;u[d]=1,E=!E}throw new Y}static decodeDigit(r,s,o,c){this.recordPattern(r,o,s);let u=this.MAX_AVG_VARIANCE,f=-1,d=c.length;for(let x=0;x<d;x++){let y=c[x],E=Ct.patternMatchVariance(s,y,ut.MAX_INDIVIDUAL_VARIANCE);E<u&&(u=E,f=x)}if(f>=0)return f;throw new Y}}ut.MAX_AVG_VARIANCE=.48,ut.MAX_INDIVIDUAL_VARIANCE=.7,ut.START_END_PATTERN=Int32Array.from([1,1,1]),ut.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ut.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ut.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Eo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(s,o,c),f=c.toString(),d=Eo.parseExtensionString(f),x=[new ce((o[0]+o[1])/2,r),new ce(u,r)],y=new Pe(f,null,0,x,le.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&y.putAllMetadata(d),y}decodeMiddle(r,s,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),f=s[1],d=0;for(let y=0;y<5&&f<u;y++){let E=ut.decodeDigit(r,c,f,ut.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let A of c)f+=A;E>=10&&(d|=1<<4-y),y!==4&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==5)throw new Y;let x=this.determineCheckDigit(d);if(Eo.extensionChecksum(o.toString())!==x)throw new Y;return f}static extensionChecksum(r){let s=r.length,o=0;for(let c=s-2;c>=0;c-=2)o+=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);o*=3;for(let c=s-1;c>=0;c-=2)o+=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);return o*=3,o%10}determineCheckDigit(r){for(let s=0;s<10;s++)if(r===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new Y}static parseExtensionString(r){if(r.length!==5)return null;let s=Eo.parseExtension5String(r);return s==null?null:new Map([[wt.SUGGESTED_PRICE,s]])}static parseExtension5String(r){let s;switch(r.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let o=parseInt(r.substring(1)),c=(o/100).toString(),u=o%100,f=u<10?"0"+u:u.toString();return s+c+"."+f}}class Su{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(s,o,c),f=c.toString(),d=Su.parseExtensionString(f),x=[new ce((o[0]+o[1])/2,r),new ce(u,r)],y=new Pe(f,null,0,x,le.UPC_EAN_EXTENSION,new Date().getTime());return d!=null&&y.putAllMetadata(d),y}decodeMiddle(r,s,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),f=s[1],d=0;for(let x=0;x<2&&f<u;x++){let y=ut.decodeDigit(r,c,f,ut.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+y%10);for(let E of c)f+=E;y>=10&&(d|=1<<1-x),x!==1&&(f=r.getNextSet(f),f=r.getNextUnset(f))}if(o.length!==2)throw new Y;if(parseInt(o.toString())%4!==d)throw new Y;return f}static parseExtensionString(r){return r.length!==2?null:new Map([[wt.ISSUE_NUMBER,parseInt(r)]])}}class K0{static decodeRow(r,s,o){let c=ut.findGuardPattern(s,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Eo().decodeRow(r,s,c)}catch{return new Su().decodeRow(r,s,c)}}}K0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Fe extends ut{constructor(){super(),this.decodeRowStringBuffer="",Fe.L_AND_G_PATTERNS=Fe.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let s=Fe.L_PATTERNS[r-10],o=new Int32Array(s.length);for(let c=0;c<s.length;c++)o[c]=s[s.length-c-1];Fe.L_AND_G_PATTERNS[r]=o}}decodeRow(r,s,o){let c=Fe.findStartGuardPattern(s),u=o==null?null:o.get(Z.NEED_RESULT_POINT_CALLBACK);if(u!=null){const $=new ce((c[0]+c[1])/2,r);u.foundPossibleResultPoint($)}let f=this.decodeMiddle(s,c,this.decodeRowStringBuffer),d=f.rowOffset,x=f.resultString;if(u!=null){const $=new ce(d,r);u.foundPossibleResultPoint($)}let y=this.decodeEnd(s,d);if(u!=null){const $=new ce((y[0]+y[1])/2,r);u.foundPossibleResultPoint($)}let E=y[1],A=E+(E-y[0]);if(A>=s.getSize()||!s.isRange(E,A,!1))throw new Y;let I=x.toString();if(I.length<8)throw new U;if(!Fe.checkChecksum(I))throw new _;let k=(c[1]+c[0])/2,P=(y[1]+y[0])/2,j=this.getBarcodeFormat(),V=[new ce(k,r),new ce(P,r)],G=new Pe(I,null,0,V,j,new Date().getTime()),ee=0;try{let $=K0.decodeRow(r,s,y[1]);G.putMetadata(wt.UPC_EAN_EXTENSION,$.getText()),G.putAllMetadata($.getResultMetadata()),G.addResultPoints($.getResultPoints()),ee=$.getText().length}catch{}let te=o==null?null:o.get(Z.ALLOWED_EAN_EXTENSIONS);if(te!=null){let $=!1;for(let Re in te)if(ee.toString()===Re){$=!0;break}if(!$)throw new Y}return G}decodeEnd(r,s){return Fe.findGuardPattern(r,s,!1,Fe.START_END_PATTERN,new Int32Array(Fe.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Fe.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return Fe.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let c=s-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new U;o+=u}o*=3;for(let c=s-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new U;o+=u}return(1e3-o)%10}}class zi extends Fe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),f=s[1],d=0;for(let y=0;y<6&&f<u;y++){let E=Fe.decodeDigit(r,c,f,Fe.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let A of c)f+=A;E>=10&&(d|=1<<5-y)}o=zi.determineFirstDigit(o,d),f=Fe.findGuardPattern(r,f,!0,Fe.MIDDLE_PATTERN,new Int32Array(Fe.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&f<u;y++){let E=Fe.decodeDigit(r,c,f,Fe.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E);for(let A of c)f+=A}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(r,s){for(let o=0;o<10;o++)if(s===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode("0".charCodeAt(0)+o)+r,r;throw new Y}}zi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Z0 extends Fe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),f=s[1];for(let x=0;x<4&&f<u;x++){let y=Fe.decodeDigit(r,c,f,Fe.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+y);for(let E of c)f+=E}f=Fe.findGuardPattern(r,f,!0,Fe.MIDDLE_PATTERN,new Int32Array(Fe.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&f<u;x++){let y=Fe.decodeDigit(r,c,f,Fe.L_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+y);for(let E of c)f+=E}return{rowOffset:f,resultString:o}}getBarcodeFormat(){return le.EAN_8}}class q0 extends Fe{constructor(){super(...arguments),this.ean13Reader=new zi}getBarcodeFormat(){return le.UPC_A}decode(r,s){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,s,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,s,o))}decodeMiddle(r,s,o){return this.ean13Reader.decodeMiddle(r,s,o)}maybeReturnResult(r){let s=r.getText();if(s.charAt(0)==="0"){let o=new Pe(s.substring(1),null,null,r.getResultPoints(),le.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new Y}reset(){this.ean13Reader.reset()}}class Zn extends Fe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,s,o){const c=this.decodeMiddleCounters.map(y=>y);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=r.getSize();let f=s[1],d=0;for(let y=0;y<6&&f<u;y++){const E=Zn.decodeDigit(r,c,f,Zn.L_AND_G_PATTERNS);o+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let A of c)f+=A;E>=10&&(d|=1<<5-y)}let x=Zn.determineNumSysAndCheckDigit(o,d);return{rowOffset:f,resultString:x}}decodeEnd(r,s){return Zn.findGuardPatternWithoutCounters(r,s,!0,Zn.MIDDLE_END_PATTERN)}checkChecksum(r){return Fe.checkChecksum(Zn.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,s){for(let o=0;o<=1;o++)for(let c=0;c<10;c++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][c]){let u=String.fromCharCode("0".charCodeAt(0)+o),f=String.fromCharCode("0".charCodeAt(0)+c);return u+r+f}throw Y.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(r){const s=r.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new we;o.append(r.charAt(0));let c=s[5];switch(c){case 0:case 1:case 2:o.appendChars(s,0,2),o.append(c),o.append("0000"),o.appendChars(s,2,3);break;case 3:o.appendChars(s,0,3),o.append("00000"),o.appendChars(s,3,2);break;case 4:o.appendChars(s,0,4),o.append("00000"),o.append(s[4]);break;default:o.appendChars(s,0,5),o.append("0000"),o.append(c);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}Zn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Tu extends Ct{constructor(r){super();let s=r==null?null:r.get(Z.POSSIBLE_FORMATS),o=[];i(s)?(o.push(new zi),o.push(new q0),o.push(new Z0),o.push(new Zn)):(s.indexOf(le.EAN_13)>-1&&o.push(new zi),s.indexOf(le.UPC_A)>-1&&o.push(new q0),s.indexOf(le.EAN_8)>-1&&o.push(new Z0),s.indexOf(le.UPC_E)>-1&&o.push(new Zn)),this.readers=o}decodeRow(r,s,o){for(let c of this.readers)try{const u=c.decodeRow(r,s,o),f=u.getBarcodeFormat()===le.EAN_13&&u.getText().charAt(0)==="0",d=o==null?null:o.get(Z.POSSIBLE_FORMATS),x=d==null||d.includes(le.UPC_A);if(f&&x){const y=u.getRawBytes(),E=new Pe(u.getText().substring(1),y,y?y.length:null,u.getResultPoints(),le.UPC_A);return E.putAllMetadata(u.getResultMetadata()),E}return u}catch{}throw new Y}reset(){for(let r of this.readers)r.reset()}}class Gt extends Ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,s){for(let o=0;o<s.length;o++)if(Ct.patternMatchVariance(r,s[o],Gt.MAX_INDIVIDUAL_VARIANCE)<Gt.MAX_AVG_VARIANCE)return o;throw new Y}static count(r){return De.sum(new Int32Array(r))}static increment(r,s){let o=0,c=s[0];for(let u=1;u<r.length;u++)s[u]>c&&(c=s[u],o=u);r[o]++}static decrement(r,s){let o=0,c=s[0];for(let u=1;u<r.length;u++)s[u]<c&&(c=s[u],o=u);r[o]--}static isFinderPattern(r){let s=r[0]+r[1],o=s+r[2]+r[3],c=s/o;if(c>=Gt.MIN_FINDER_PATTERN_RATIO&&c<=Gt.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let d of r)d>f&&(f=d),d<u&&(u=d);return f<10*u}return!1}}Gt.MAX_AVG_VARIANCE=.2,Gt.MAX_INDIVIDUAL_VARIANCE=.45,Gt.MIN_FINDER_PATTERN_RATIO=9.5/12,Gt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Cs{constructor(r,s){this.value=r,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Cs))return!1;const s=r;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ya{constructor(r,s,o,c,u){this.value=r,this.startEnd=s,this.value=r,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new ce(o,u)),this.resultPoints.push(new ce(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof Ya))return!1;const s=r;return this.value===s.value}hashCode(){return this.value}}class hr{constructor(){}static getRSSvalue(r,s,o){let c=0;for(let x of r)c+=x;let u=0,f=0,d=r.length;for(let x=0;x<d-1;x++){let y;for(y=1,f|=1<<x;y<r[x];y++,f&=~(1<<x)){let E=hr.combins(c-y-1,d-x-2);if(o&&f===0&&c-y-(d-x-1)>=d-x-1&&(E-=hr.combins(c-y-(d-x),d-x-2)),d-x-1>1){let A=0;for(let I=c-y-(d-x-2);I>s;I--)A+=hr.combins(c-y-I-1,d-x-3);E-=A*(d-1-x)}else c-y>s&&E--;u+=E}c-=y}return u}static combins(r,s){let o,c;r-s>s?(c=s,o=r-s):(c=r-s,o=s);let u=1,f=1;for(let d=r;d>o;d--)u*=d,f<=c&&(u/=f,f++);for(;f<=c;)u/=f,f++;return u}}class TC{static buildBitArray(r){let s=r.length*2-1;r[r.length-1].getRightChar()==null&&(s-=1);let o=12*s,c=new F(o),u=0,d=r[0].getRightChar().getValue();for(let x=11;x>=0;--x)d&1<<x&&c.set(u),u++;for(let x=1;x<r.length;++x){let y=r[x],E=y.getLeftChar().getValue();for(let A=11;A>=0;--A)E&1<<A&&c.set(u),u++;if(y.getRightChar()!=null){let A=y.getRightChar().getValue();for(let I=11;I>=0;--I)A&1<<I&&c.set(u),u++}}return c}}class Hi{constructor(r,s){s?this.decodedInformation=null:(this.finished=r,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Iu{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class an extends Iu{constructor(r,s){super(r),this.value=s}getValue(){return this.value}isFNC1(){return this.value===an.FNC1}}an.FNC1="$";class Wi extends Iu{constructor(r,s,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Dn extends Iu{constructor(r,s,o){if(super(r),s<0||s>10||o<0||o>10)throw new U;this.firstDigit=s,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Dn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Dn.FNC1}isAnyFNC1(){return this.firstDigit===Dn.FNC1||this.secondDigit===Dn.FNC1}}Dn.FNC1=10;class se{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new Y;let s=r.substring(0,2);for(let u of se.TWO_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===se.VARIABLE_LENGTH?se.processVariableAI(2,u[2],r):se.processFixedAI(2,u[1],r);if(r.length<3)throw new Y;let o=r.substring(0,3);for(let u of se.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===se.VARIABLE_LENGTH?se.processVariableAI(3,u[2],r):se.processFixedAI(3,u[1],r);for(let u of se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,u[2],r):se.processFixedAI(4,u[1],r);if(r.length<4)throw new Y;let c=r.substring(0,4);for(let u of se.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===se.VARIABLE_LENGTH?se.processVariableAI(4,u[2],r):se.processFixedAI(4,u[1],r);throw new Y}static processFixedAI(r,s,o){if(o.length<r)throw new Y;let c=o.substring(0,r);if(o.length<r+s)throw new Y;let u=o.substring(r,r+s),f=o.substring(r+s),d="("+c+")"+u,x=se.parseFieldsInGeneralPurpose(f);return x==null?d:d+x}static processVariableAI(r,s,o){let c=o.substring(0,r),u;o.length<r+s?u=o.length:u=r+s;let f=o.substring(r,u),d=o.substring(u),x="("+c+")"+f,y=se.parseFieldsInGeneralPurpose(d);return y==null?x:x+y}}se.VARIABLE_LENGTH=[],se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",se.VARIABLE_LENGTH,20],["22",se.VARIABLE_LENGTH,29],["30",se.VARIABLE_LENGTH,8],["37",se.VARIABLE_LENGTH,8],["90",se.VARIABLE_LENGTH,30],["91",se.VARIABLE_LENGTH,30],["92",se.VARIABLE_LENGTH,30],["93",se.VARIABLE_LENGTH,30],["94",se.VARIABLE_LENGTH,30],["95",se.VARIABLE_LENGTH,30],["96",se.VARIABLE_LENGTH,30],["97",se.VARIABLE_LENGTH,3],["98",se.VARIABLE_LENGTH,30],["99",se.VARIABLE_LENGTH,30]],se.THREE_DIGIT_DATA_LENGTH=[["240",se.VARIABLE_LENGTH,30],["241",se.VARIABLE_LENGTH,30],["242",se.VARIABLE_LENGTH,6],["250",se.VARIABLE_LENGTH,30],["251",se.VARIABLE_LENGTH,30],["253",se.VARIABLE_LENGTH,17],["254",se.VARIABLE_LENGTH,20],["400",se.VARIABLE_LENGTH,30],["401",se.VARIABLE_LENGTH,30],["402",17],["403",se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",se.VARIABLE_LENGTH,20],["421",se.VARIABLE_LENGTH,15],["422",3],["423",se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",se.VARIABLE_LENGTH,15],["391",se.VARIABLE_LENGTH,18],["392",se.VARIABLE_LENGTH,15],["393",se.VARIABLE_LENGTH,18],["703",se.VARIABLE_LENGTH,30]],se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",se.VARIABLE_LENGTH,20],["8003",se.VARIABLE_LENGTH,30],["8004",se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",se.VARIABLE_LENGTH,30],["8008",se.VARIABLE_LENGTH,12],["8018",18],["8020",se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",se.VARIABLE_LENGTH,70],["8200",se.VARIABLE_LENGTH,70]];class Es{constructor(r){this.buffer=new we,this.information=r}decodeAllCodes(r,s){let o=s,c=null;do{let u=this.decodeGeneralPurposeField(o,c),f=se.parseFieldsInGeneralPurpose(u.getNewString());if(f!=null&&r.append(f),u.isRemaining()?c=""+u.getRemainingValue():c=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let s=r;s<r+3;++s)if(this.information.get(s))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(r,4);return u===0?new Dn(this.information.getSize(),Dn.FNC1,Dn.FNC1):new Dn(this.information.getSize(),u-1,Dn.FNC1)}let s=this.extractNumericValueFromBitArray(r,7),o=(s-8)/11,c=(s-8)%11;return new Dn(r+7,o,c)}extractNumericValueFromBitArray(r,s){return Es.extractNumericValueFromBitArray(this.information,r,s)}static extractNumericValueFromBitArray(r,s,o){let c=0;for(let u=0;u<o;++u)r.get(s+u)&&(c|=1<<o-u-1);return c}decodeGeneralPurposeField(r,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new Wi(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new Wi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,s;do{let o=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),r=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),r=s.isFinished()):(s=this.parseNumericBlock(),r=s.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let s;return r.isSecondDigitFNC1()?s=new Wi(this.current.getPosition(),this.buffer.toString()):s=new Wi(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Hi(!0,s)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let s=new Wi(this.current.getPosition(),this.buffer.toString());return new Hi(!0,s)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Hi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new Wi(this.current.getPosition(),this.buffer.toString());return new Hi(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Hi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new Wi(this.current.getPosition(),this.buffer.toString());return new Hi(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Hi(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,8);return c>=232&&c<253}decodeIsoIec646(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new an(r+5,an.FNC1);if(s>=5&&s<15)return new an(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new an(r+7,""+(o+1));if(o>=90&&o<116)return new an(r+7,""+(o+7));let c=this.extractNumericValueFromBitArray(r,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new U}return new an(r+8,u)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new an(r+5,an.FNC1);if(s>=5&&s<15)return new an(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new an(r+6,""+(o+33));let c;switch(o){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new fr("Decoding invalid alphanumeric value: "+o)}return new an(r+6,c)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<5&&s+r<this.information.getSize();++s)if(s===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+s))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let s=r;s<r+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<4&&s+r<this.information.getSize();++s)if(this.information.get(r+s))return!1;return!0}}class bu{constructor(r){this.information=r,this.generalDecoder=new Es(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class ln extends bu{constructor(r){super(r)}encodeCompressedGtin(r,s){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,s,o)}encodeCompressedGtinWithoutAI(r,s,o){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*c,10);u/100===0&&r.append("0"),u/10===0&&r.append("0"),r.append(u)}ln.appendCheckDigit(r,o)}static appendCheckDigit(r,s){let o=0;for(let c=0;c<13;c++){let u=r.charAt(c+s).charCodeAt(0)-"0".charCodeAt(0);o+=c&1?u:3*u}o=10-o%10,o===10&&(o=0),r.append(o)}}ln.GTIN_SIZE=40;class vs extends ln{constructor(r){super(r)}parseInformation(){let r=new we;r.append("(01)");let s=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(vs.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,vs.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(r,vs.HEADER_SIZE+44)}}vs.HEADER_SIZE=1+1+2;class Qa extends bu{constructor(r){super(r)}parseInformation(){let r=new we;return this.getGeneralDecoder().decodeAllCodes(r,Qa.HEADER_SIZE)}}Qa.HEADER_SIZE=2+1+2;class Ka extends ln{constructor(r){super(r)}encodeCompressedWeight(r,s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,o);this.addWeightCode(r,c);let u=this.checkWeight(c),f=1e5;for(let d=0;d<5;++d)u/f===0&&r.append("0"),f/=10;r.append(u)}}class dr extends Ka{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=dr.HEADER_SIZE+Ka.GTIN_SIZE+dr.WEIGHT_SIZE)throw new Y;let r=new we;return this.encodeCompressedGtin(r,dr.HEADER_SIZE),this.encodeCompressedWeight(r,dr.HEADER_SIZE+Ka.GTIN_SIZE,dr.WEIGHT_SIZE),r.toString()}}dr.HEADER_SIZE=4+1,dr.WEIGHT_SIZE=15;class IC extends dr{constructor(r){super(r)}addWeightCode(r,s){r.append("(3103)")}checkWeight(r){return r}}class bC extends dr{constructor(r){super(r)}addWeightCode(r,s){s<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class pr extends ln{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<pr.HEADER_SIZE+ln.GTIN_SIZE)throw new Y;let r=new we;this.encodeCompressedGtin(r,pr.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(pr.HEADER_SIZE+ln.GTIN_SIZE,pr.LAST_DIGIT_SIZE);r.append("(392"),r.append(s),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(pr.HEADER_SIZE+ln.GTIN_SIZE+pr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}pr.HEADER_SIZE=5+1+2,pr.LAST_DIGIT_SIZE=2;class en extends ln{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+ln.GTIN_SIZE)throw new Y;let r=new we;this.encodeCompressedGtin(r,en.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+ln.GTIN_SIZE,en.LAST_DIGIT_SIZE);r.append("(393"),r.append(s),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+ln.GTIN_SIZE+en.LAST_DIGIT_SIZE,en.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let c=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+ln.GTIN_SIZE+en.LAST_DIGIT_SIZE+en.FIRST_THREE_DIGITS_SIZE,null);return r.append(c.getNewString()),r.toString()}}en.HEADER_SIZE=5+1+2,en.LAST_DIGIT_SIZE=2,en.FIRST_THREE_DIGITS_SIZE=10;class nt extends Ka{constructor(r,s,o){super(r),this.dateCode=o,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=nt.HEADER_SIZE+nt.GTIN_SIZE+nt.WEIGHT_SIZE+nt.DATE_SIZE)throw new Y;let r=new we;return this.encodeCompressedGtin(r,nt.HEADER_SIZE),this.encodeCompressedWeight(r,nt.HEADER_SIZE+nt.GTIN_SIZE,nt.WEIGHT_SIZE),this.encodeCompressedDate(r,nt.HEADER_SIZE+nt.GTIN_SIZE+nt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s,nt.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let c=o%32;o/=32;let u=o%12+1;o/=12;let f=o;f/10==0&&r.append("0"),r.append(f),u/10==0&&r.append("0"),r.append(u),c/10==0&&r.append("0"),r.append(c)}addWeightCode(r,s){r.append("("),r.append(this.firstAIdigits),r.append(s/1e5),r.append(")")}checkWeight(r){return r%1e5}}nt.HEADER_SIZE=7+1,nt.WEIGHT_SIZE=20,nt.DATE_SIZE=16;function $0(v){try{if(v.get(1))return new vs(v);if(!v.get(2))return new Qa(v);switch(Es.extractNumericValueFromBitArray(v,1,4)){case 4:return new IC(v);case 5:return new bC(v)}switch(Es.extractNumericValueFromBitArray(v,1,5)){case 12:return new pr(v);case 13:return new en(v)}switch(Es.extractNumericValueFromBitArray(v,1,7)){case 56:return new nt(v,"310","11");case 57:return new nt(v,"320","11");case 58:return new nt(v,"310","13");case 59:return new nt(v,"320","13");case 60:return new nt(v,"310","15");case 61:return new nt(v,"320","15");case 62:return new nt(v,"310","17");case 63:return new nt(v,"320","17")}}catch(r){throw console.log(r),new fr("unknown decoder: "+v)}}class Jr{constructor(r,s,o,c){this.leftchar=r,this.rightchar=s,this.finderpattern=o,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,s){return r instanceof Jr?Jr.equalsOrNull(r.leftchar,s.leftchar)&&Jr.equalsOrNull(r.rightchar,s.rightchar)&&Jr.equalsOrNull(r.finderpattern,s.finderpattern):!1}static equalsOrNull(r,s){return r===null?s===null:Jr.equals(r,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Nu{constructor(r,s,o){this.pairs=r,this.rowNumber=s,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,s){return r instanceof Nu?this.checkEqualitity(r,s)&&r.wasReversed===s.wasReversed:!1}checkEqualitity(r,s){if(!r||!s)return;let o;return r.forEach((c,u)=>{s.forEach(f=>{c.getLeftChar().getValue()===f.getLeftChar().getValue()&&c.getRightChar().getValue()===f.getRightChar().getValue()&&c.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(o=!0)})}),o}}class q extends Gt{constructor(r){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,s,o){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(r,s))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(r,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,s){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,r))}catch(u){if(u instanceof Y){if(!this.pairs.length)throw new Y;o=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(r,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new Y}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),s}checkRows(r,s){for(let o=s;o<this.rows.length;o++){let c=this.rows[o];this.pairs.length=0;for(let f of r)this.pairs.push(f.getPairs());if(this.pairs.push(c.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(r);u.push(c);try{return this.checkRows(u,o+1)}catch(f){this.verbose&&console.log(f)}}throw new Y}static isValidSequence(r){for(let s of q.FINDER_PATTERN_SEQUENCES){if(r.length>s.length)continue;let o=!0;for(let c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!=s[c]){o=!1;break}if(o)return!0}return!1}storeRow(r,s){let o=0,c=!1,u=!1;for(;o<this.rows.length;){let f=this.rows[o];if(f.getRowNumber()>r){u=f.isEquivalent(this.pairs);break}c=f.isEquivalent(this.pairs),o++}u||c||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Nu(this.pairs,r,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,s){for(let o of s)if(o.getPairs().length!==r.length){for(let c of o.getPairs())for(let u of r)if(Jr.equals(c,u))break}}static isPartialRow(r,s){for(let o of s){let c=!0;for(let u of r){let f=!1;for(let d of o.getPairs())if(u.equals(d)){f=!0;break}if(!f){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(r){let s=TC.buildBitArray(r),c=$0(s).parseInformation(),u=r[0].getFinderPattern().getResultPoints(),f=r[r.length-1].getFinderPattern().getResultPoints(),d=[u[0],u[1],f[0],f[1]];return new Pe(c,null,null,d,le.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),s=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let c=o.getChecksumPortion(),u=2;for(let d=1;d<this.pairs.size();++d){let x=this.pairs.get(d);c+=x.getLeftChar().getChecksumPortion(),u++;let y=x.getRightChar();y!=null&&(c+=y.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==s.getValue()}static getNextSecondBar(r,s){let o;return r.get(s)?(o=r.getNextUnset(s),o=r.getNextSet(o)):(o=r.getNextSet(s),o=r.getNextUnset(o)),o}retrieveNextPair(r,s,o){let c=s.length%2==0;this.startFromEven&&(c=!c);let u,f=!0,d=-1;do this.findNextPair(r,s,d),u=this.parseFoundFinderPattern(r,o,c),u==null?d=q.getNextSecondBar(r,this.startEnd[0]):f=!1;while(f);let x=this.decodeDataCharacter(r,u,c,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new Y;let y;try{y=this.decodeDataCharacter(r,u,c,!1)}catch(E){y=null,this.verbose&&console.log(E)}return new Jr(x,y,u,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),f;o>=0?f=o:this.isEmptyPair(s)?f=0:f=s[s.length-1].getFinderPattern().getStartEnd()[1];let d=s.length%2!=0;this.startFromEven&&(d=!d);let x=!1;for(;f<u&&(x=!r.get(f),!!x);)f++;let y=0,E=f;for(let A=f;A<u;A++)if(r.get(A)!=x)c[y]++;else{if(y==3){if(d&&q.reverseCounters(c),q.isFinderPattern(c)){this.startEnd[0]=E,this.startEnd[1]=A;return}d&&q.reverseCounters(c),E+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,x=!x}throw new Y}static reverseCounters(r){let s=r.length;for(let o=0;o<s/2;++o){let c=r[o];r[o]=r[s-o-1],r[s-o-1]=c}}parseFoundFinderPattern(r,s,o){let c,u,f;if(o){let y=this.startEnd[0]-1;for(;y>=0&&!r.get(y);)y--;y++,c=this.startEnd[0]-y,u=y,f=this.startEnd[1]}else u=this.startEnd[0],f=r.getNextUnset(this.startEnd[1]+1),c=f-this.startEnd[1];let d=this.getDecodeFinderCounters();O.arraycopy(d,0,d,1,d.length-1),d[0]=c;let x;try{x=this.parseFinderValue(d,q.FINDER_PATTERNS)}catch{return null}return new Ya(x,[u,f],u,f,s)}decodeDataCharacter(r,s,o,c){let u=this.getDataCharacterCounters();for(let Ye=0;Ye<u.length;Ye++)u[Ye]=0;if(c)q.recordPatternInReverse(r,s.getStartEnd()[0],u);else{q.recordPattern(r,s.getStartEnd()[1],u);for(let Ye=0,jt=u.length-1;Ye<jt;Ye++,jt--){let Cn=u[Ye];u[Ye]=u[jt],u[jt]=Cn}}let f=17,d=De.sum(new Int32Array(u))/f,x=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(d-x)/x>.3)throw new Y;let y=this.getOddCounts(),E=this.getEvenCounts(),A=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Ye=0;Ye<u.length;Ye++){let jt=1*u[Ye]/d,Cn=jt+.5;if(Cn<1){if(jt<.3)throw new Y;Cn=1}else if(Cn>8){if(jt>8.7)throw new Y;Cn=8}let bs=Ye/2;Ye&1?(E[bs]=Cn,I[bs]=jt-Cn):(y[bs]=Cn,A[bs]=jt-Cn)}this.adjustOddEvenCounts(f);let k=4*s.getValue()+(o?0:2)+(c?0:1)-1,P=0,j=0;for(let Ye=y.length-1;Ye>=0;Ye--){if(q.isNotA1left(s,o,c)){let jt=q.WEIGHTS[k][2*Ye];j+=y[Ye]*jt}P+=y[Ye]}let V=0;for(let Ye=E.length-1;Ye>=0;Ye--)if(q.isNotA1left(s,o,c)){let jt=q.WEIGHTS[k][2*Ye+1];V+=E[Ye]*jt}let G=j+V;if(P&1||P>13||P<4)throw new Y;let ee=(13-P)/2,te=q.SYMBOL_WIDEST[ee],$=9-te,Re=hr.getRSSvalue(y,te,!0),Se=hr.getRSSvalue(E,$,!1),un=q.EVEN_TOTAL_SUBSET[ee],qn=q.GSUM[ee],fn=Re*un+Se+qn;return new Cs(fn,G)}static isNotA1left(r,s,o){return!(r.getValue()==0&&s&&o)}adjustOddEvenCounts(r){let s=De.sum(new Int32Array(this.getOddCounts())),o=De.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;s>13?u=!0:s<4&&(c=!0);let f=!1,d=!1;o>13?d=!0:o<4&&(f=!0);let x=s+o-r,y=(s&1)==1,E=(o&1)==0;if(x==1)if(y){if(E)throw new Y;u=!0}else{if(!E)throw new Y;d=!0}else if(x==-1)if(y){if(E)throw new Y;c=!0}else{if(!E)throw new Y;f=!0}else if(x==0){if(y){if(!E)throw new Y;s<o?(c=!0,d=!0):(u=!0,f=!0)}else if(E)throw new Y}else throw new Y;if(c){if(u)throw new Y;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(d)throw new Y;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class NC extends Cs{constructor(r,s,o){super(r,s),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ft extends Gt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,s,o){const c=this.decodePair(s,!1,r,o);ft.addOrTally(this.possibleLeftPairs,c),s.reverse();let u=this.decodePair(s,!0,r,o);ft.addOrTally(this.possibleRightPairs,u),s.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let d of this.possibleRightPairs)if(d.getCount()>1&&ft.checkChecksum(f,d))return ft.constructResult(f,d)}throw new Y}static addOrTally(r,s){if(s==null)return;let o=!1;for(let c of r)if(c.getValue()===s.getValue()){c.incrementCount(),o=!0;break}o||r.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,s){let o=4537077*r.getValue()+s.getValue(),c=new String(o).toString(),u=new we;for(let y=13-c.length;y>0;y--)u.append("0");u.append(c);let f=0;for(let y=0;y<13;y++){let E=u.charAt(y).charCodeAt(0)-"0".charCodeAt(0);f+=y&1?E:3*E}f=10-f%10,f===10&&(f=0),u.append(f.toString());let d=r.getFinderPattern().getResultPoints(),x=s.getFinderPattern().getResultPoints();return new Pe(u.toString(),null,0,[d[0],d[1],x[0],x[1]],le.RSS_14,new Date().getTime())}static checkChecksum(r,s){let o=(r.getChecksumPortion()+16*s.getChecksumPortion())%79,c=9*r.getFinderPattern().getValue()+s.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,o===c}decodePair(r,s,o,c){try{let u=this.findFinderPattern(r,s),f=this.parseFoundFinderPattern(r,o,s,u),d=c==null?null:c.get(Z.NEED_RESULT_POINT_CALLBACK);if(d!=null){let E=(u[0]+u[1])/2;s&&(E=r.getSize()-1-E),d.foundPossibleResultPoint(new ce(E,o))}let x=this.decodeDataCharacter(r,f,!0),y=this.decodeDataCharacter(r,f,!1);return new NC(1597*x.getValue()+y.getValue(),x.getChecksumPortion()+4*y.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(r,s,o){let c=this.getDataCharacterCounters();for(let V=0;V<c.length;V++)c[V]=0;if(o)Ct.recordPatternInReverse(r,s.getStartEnd()[0],c);else{Ct.recordPattern(r,s.getStartEnd()[1]+1,c);for(let V=0,G=c.length-1;V<G;V++,G--){let ee=c[V];c[V]=c[G],c[G]=ee}}let u=o?16:15,f=De.sum(new Int32Array(c))/u,d=this.getOddCounts(),x=this.getEvenCounts(),y=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let V=0;V<c.length;V++){let G=c[V]/f,ee=Math.floor(G+.5);ee<1?ee=1:ee>8&&(ee=8);let te=Math.floor(V/2);V&1?(x[te]=ee,E[te]=G-ee):(d[te]=ee,y[te]=G-ee)}this.adjustOddEvenCounts(o,u);let A=0,I=0;for(let V=d.length-1;V>=0;V--)I*=9,I+=d[V],A+=d[V];let k=0,P=0;for(let V=x.length-1;V>=0;V--)k*=9,k+=x[V],P+=x[V];let j=I+3*k;if(o){if(A&1||A>12||A<4)throw new Y;let V=(12-A)/2,G=ft.OUTSIDE_ODD_WIDEST[V],ee=9-G,te=hr.getRSSvalue(d,G,!1),$=hr.getRSSvalue(x,ee,!0),Re=ft.OUTSIDE_EVEN_TOTAL_SUBSET[V],Se=ft.OUTSIDE_GSUM[V];return new Cs(te*Re+$+Se,j)}else{if(P&1||P>10||P<4)throw new Y;let V=(10-P)/2,G=ft.INSIDE_ODD_WIDEST[V],ee=9-G,te=hr.getRSSvalue(d,G,!0),$=hr.getRSSvalue(x,ee,!1),Re=ft.INSIDE_ODD_TOTAL_SUBSET[V],Se=ft.INSIDE_GSUM[V];return new Cs($*Re+te+Se,j)}}findFinderPattern(r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=r.getSize(),u=!1,f=0;for(;f<c&&(u=!r.get(f),s!==u);)f++;let d=0,x=f;for(let y=f;y<c;y++)if(r.get(y)!==u)o[d]++;else{if(d===3){if(Gt.isFinderPattern(o))return[x,y];x+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,d--}else d++;o[d]=1,u=!u}throw new Y}parseFoundFinderPattern(r,s,o,c){let u=r.get(c[0]),f=c[0]-1;for(;f>=0&&u!==r.get(f);)f--;f++;const d=c[0]-f,x=this.getDecodeFinderCounters(),y=new Int32Array(x.length);O.arraycopy(x,0,y,1,x.length-1),y[0]=d;const E=this.parseFinderValue(y,ft.FINDER_PATTERNS);let A=f,I=c[1];return o&&(A=r.getSize()-1-A,I=r.getSize()-1-I),new Ya(E,[f,c[1]],A,I,s)}adjustOddEvenCounts(r,s){let o=De.sum(new Int32Array(this.getOddCounts())),c=De.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1,d=!1,x=!1;r?(o>12?f=!0:o<4&&(u=!0),c>12?x=!0:c<4&&(d=!0)):(o>11?f=!0:o<5&&(u=!0),c>10?x=!0:c<4&&(d=!0));let y=o+c-s,E=(o&1)===(r?1:0),A=(c&1)===1;if(y===1)if(E){if(A)throw new Y;f=!0}else{if(!A)throw new Y;x=!0}else if(y===-1)if(E){if(A)throw new Y;u=!0}else{if(!A)throw new Y;d=!0}else if(y===0){if(E){if(!A)throw new Y;o<c?(u=!0,x=!0):(f=!0,d=!0)}else if(A)throw new Y}else throw new Y;if(u){if(f)throw new Y;Gt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Gt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(x)throw new Y;Gt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Gt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ft.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ft.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ft.OUTSIDE_GSUM=[0,161,961,2015,2715],ft.INSIDE_GSUM=[0,336,1036,1516],ft.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ft.INSIDE_ODD_WIDEST=[2,4,6,8],ft.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class As extends Ct{constructor(r,s){super(),this.readers=[],this.verbose=s===!0;const o=r?r.get(Z.POSSIBLE_FORMATS):null,c=r&&r.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(le.EAN_13)||o.includes(le.UPC_A)||o.includes(le.EAN_8)||o.includes(le.UPC_E))&&this.readers.push(new Tu(r)),o.includes(le.CODE_39)&&this.readers.push(new bt(c)),o.includes(le.CODE_128)&&this.readers.push(new re),o.includes(le.ITF)&&this.readers.push(new Ge),o.includes(le.RSS_14)&&this.readers.push(new ft),o.includes(le.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new Tu(r)),this.readers.push(new bt),this.readers.push(new Tu(r)),this.readers.push(new re),this.readers.push(new Ge),this.readers.push(new ft),this.readers.push(new q(this.verbose)))}decodeRow(r,s,o){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(r,s,o)}catch{}throw new Y}reset(){this.readers.forEach(r=>r.reset())}}class _C extends It{constructor(r=500,s){super(new As(s),r,s)}}class Ue{constructor(r,s,o){this.ecCodewords=r,this.ecBlocks=[s],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class je{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(r,s,o,c,u,f){this.versionNumber=r,this.symbolSizeRows=s,this.symbolSizeColumns=o,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=f;let d=0;const x=f.getECCodewords(),y=f.getECBlocks();for(let E of y)d+=E.getCount()*(E.getDataCodewords()+x);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,s){if(r&1||s&1)throw new U;for(let o of Oe.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===s)return o;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new Oe(1,10,10,8,8,new Ue(5,new je(1,3))),new Oe(2,12,12,10,10,new Ue(7,new je(1,5))),new Oe(3,14,14,12,12,new Ue(10,new je(1,8))),new Oe(4,16,16,14,14,new Ue(12,new je(1,12))),new Oe(5,18,18,16,16,new Ue(14,new je(1,18))),new Oe(6,20,20,18,18,new Ue(18,new je(1,22))),new Oe(7,22,22,20,20,new Ue(20,new je(1,30))),new Oe(8,24,24,22,22,new Ue(24,new je(1,36))),new Oe(9,26,26,24,24,new Ue(28,new je(1,44))),new Oe(10,32,32,14,14,new Ue(36,new je(1,62))),new Oe(11,36,36,16,16,new Ue(42,new je(1,86))),new Oe(12,40,40,18,18,new Ue(48,new je(1,114))),new Oe(13,44,44,20,20,new Ue(56,new je(1,144))),new Oe(14,48,48,22,22,new Ue(68,new je(1,174))),new Oe(15,52,52,24,24,new Ue(42,new je(2,102))),new Oe(16,64,64,14,14,new Ue(56,new je(2,140))),new Oe(17,72,72,16,16,new Ue(36,new je(4,92))),new Oe(18,80,80,18,18,new Ue(48,new je(4,114))),new Oe(19,88,88,20,20,new Ue(56,new je(4,144))),new Oe(20,96,96,22,22,new Ue(68,new je(4,174))),new Oe(21,104,104,24,24,new Ue(56,new je(6,136))),new Oe(22,120,120,18,18,new Ue(68,new je(6,175))),new Oe(23,132,132,20,20,new Ue(62,new je(8,163))),new Oe(24,144,144,22,22,new Ue(62,new je(8,156),new je(2,155))),new Oe(25,8,18,6,16,new Ue(7,new je(1,5))),new Oe(26,8,32,6,14,new Ue(11,new je(1,10))),new Oe(27,12,26,10,24,new Ue(14,new je(1,16))),new Oe(28,12,36,10,16,new Ue(18,new je(1,22))),new Oe(29,16,36,14,16,new Ue(24,new je(1,32))),new Oe(30,16,48,14,22,new Ue(28,new je(1,49)))]}}Oe.VERSIONS=Oe.buildVersions();class _u{constructor(r){const s=r.getHeight();if(s<8||s>144||s&1)throw new U;this.version=_u.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new Ae(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const s=r.getHeight(),o=r.getWidth();return Oe.getVersionForDimensions(s,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let s=0,o=4,c=0;const u=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let d=!1,x=!1,y=!1,E=!1;do if(o===u&&c===0&&!d)r[s++]=this.readCorner1(u,f)&255,o-=2,c+=2,d=!0;else if(o===u-2&&c===0&&f&3&&!x)r[s++]=this.readCorner2(u,f)&255,o-=2,c+=2,x=!0;else if(o===u+4&&c===2&&!(f&7)&&!y)r[s++]=this.readCorner3(u,f)&255,o-=2,c+=2,y=!0;else if(o===u-2&&c===0&&(f&7)===4&&!E)r[s++]=this.readCorner4(u,f)&255,o-=2,c+=2,E=!0;else{do o<u&&c>=0&&!this.readMappingMatrix.get(c,o)&&(r[s++]=this.readUtah(o,c,u,f)&255),o-=2,c+=2;while(o>=0&&c<f);o+=1,c+=3;do o>=0&&c<f&&!this.readMappingMatrix.get(c,o)&&(r[s++]=this.readUtah(o,c,u,f)&255),o+=2,c-=2;while(o<u&&c>=0);o+=3,c+=1}while(o<u||c<f);if(s!==this.version.getTotalCodewords())throw new U;return r}readModule(r,s,o,c){return r<0&&(r+=o,s+=4-(o+4&7)),s<0&&(s+=c,r+=4-(c+4&7)),this.readMappingMatrix.set(s,r),this.mappingBitMatrix.get(s,r)}readUtah(r,s,o,c){let u=0;return this.readModule(r-2,s-2,o,c)&&(u|=1),u<<=1,this.readModule(r-2,s-1,o,c)&&(u|=1),u<<=1,this.readModule(r-1,s-2,o,c)&&(u|=1),u<<=1,this.readModule(r-1,s-1,o,c)&&(u|=1),u<<=1,this.readModule(r-1,s,o,c)&&(u|=1),u<<=1,this.readModule(r,s-2,o,c)&&(u|=1),u<<=1,this.readModule(r,s-1,o,c)&&(u|=1),u<<=1,this.readModule(r,s,o,c)&&(u|=1),u}readCorner1(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,1,r,s)&&(o|=1),o<<=1,this.readModule(r-1,2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}readCorner2(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-4,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner3(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-3,r,s)&&(o|=1),o<<=1,this.readModule(1,s-2,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner4(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}extractDataRegion(r){const s=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==s)throw new C("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),f=s/c|0,d=o/u|0,x=f*c,y=d*u,E=new Ae(y,x);for(let A=0;A<f;++A){const I=A*c;for(let k=0;k<d;++k){const P=k*u;for(let j=0;j<c;++j){const V=A*(c+2)+1+j,G=I+j;for(let ee=0;ee<u;++ee){const te=k*(u+2)+1+ee;if(r.get(te,V)){const $=P+ee;E.set($,G)}}}}}return E}}class Ru{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s){const o=s.getECBlocks();let c=0;const u=o.getECBlocks();for(let j of u)c+=j.getCount();const f=new Array(c);let d=0;for(let j of u)for(let V=0;V<j.getCount();V++){const G=j.getDataCodewords(),ee=o.getECCodewords()+G;f[d++]=new Ru(G,new Uint8Array(ee))}const y=f[0].codewords.length-o.getECCodewords(),E=y-1;let A=0;for(let j=0;j<E;j++)for(let V=0;V<d;V++)f[V].codewords[j]=r[A++];const I=s.getVersionNumber()===24,k=I?8:d;for(let j=0;j<k;j++)f[j].codewords[y-1]=r[A++];const P=f[0].codewords.length;for(let j=y;j<P;j++)for(let V=0;V<d;V++){const G=I?(V+8)%d:V,ee=I&&G>7?j-1:j;f[G].codewords[ee]=r[A++]}if(A!==r.length)throw new C;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ou{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new C(""+r);let s=0,o=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(o>0){const f=8-o,d=r<f?r:f,x=f-d,y=255>>8-d<<x;s=(u[c]&y)>>x,r-=d,o+=d,o===8&&(o=0,c++)}if(r>0){for(;r>=8;)s=s<<8|u[c]&255,c++,r-=8;if(r>0){const f=8-r,d=255>>f<<f;s=s<<r|(u[c]&d)>>f,o+=r}}return this.bitOffset=o,this.byteOffset=c,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Nt;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(Nt||(Nt={}));class ei{static decode(r){const s=new Ou(r),o=new we,c=new we,u=new Array;let f=Nt.ASCII_ENCODE;do if(f===Nt.ASCII_ENCODE)f=this.decodeAsciiSegment(s,o,c);else{switch(f){case Nt.C40_ENCODE:this.decodeC40Segment(s,o);break;case Nt.TEXT_ENCODE:this.decodeTextSegment(s,o);break;case Nt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,o);break;case Nt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,o);break;case Nt.BASE256_ENCODE:this.decodeBase256Segment(s,o,u);break;default:throw new U}f=Nt.ASCII_ENCODE}while(f!==Nt.PAD_ENCODE&&s.available()>0);return c.length()>0&&o.append(c.toString()),new Mr(r,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(r,s,o){let c=!1;do{let u=r.readBits(8);if(u===0)throw new U;if(u<=128)return c&&(u+=128),s.append(String.fromCharCode(u-1)),Nt.ASCII_ENCODE;if(u===129)return Nt.PAD_ENCODE;if(u<=229){const f=u-130;f<10&&s.append("0"),s.append(""+f)}else switch(u){case 230:return Nt.C40_ENCODE;case 231:return Nt.BASE256_ENCODE;case 232:s.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:c=!0;break;case 236:s.append("[)>05"),o.insert(0,"");break;case 237:s.append("[)>06"),o.insert(0,"");break;case 238:return Nt.ANSIX12_ENCODE;case 239:return Nt.TEXT_ENCODE;case 240:return Nt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||r.available()!==0)throw new U;break}}while(r.available()>0);return Nt.ASCII_ENCODE}static decodeC40Segment(r,s){let o=!1;const c=[];let u=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),c);for(let d=0;d<3;d++){const x=c[d];switch(u){case 0:if(x<3)u=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[x];o?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):s.append(y)}else throw new U;break;case 1:o?(s.append(String.fromCharCode(x+128)),o=!1):s.append(String.fromCharCode(x)),u=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[x];o?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):s.append(y)}else switch(x){case 27:s.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new U}u=0;break;case 3:o?(s.append(String.fromCharCode(x+224)),o=!1):s.append(String.fromCharCode(x+96)),u=0;break;default:throw new U}}}while(r.available()>0)}static decodeTextSegment(r,s){let o=!1,c=[],u=0;do{if(r.available()===8)return;const f=r.readBits(8);if(f===254)return;this.parseTwoBytes(f,r.readBits(8),c);for(let d=0;d<3;d++){const x=c[d];switch(u){case 0:if(x<3)u=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[x];o?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):s.append(y)}else throw new U;break;case 1:o?(s.append(String.fromCharCode(x+128)),o=!1):s.append(String.fromCharCode(x)),u=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[x];o?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):s.append(y)}else switch(x){case 27:s.append(String.fromCharCode(29));break;case 30:o=!0;break;default:throw new U}u=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[x];o?(s.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):s.append(y),u=0}else throw new U;break;default:throw new U}}}while(r.available()>0)}static decodeAnsiX12Segment(r,s){const o=[];do{if(r.available()===8)return;const c=r.readBits(8);if(c===254)return;this.parseTwoBytes(c,r.readBits(8),o);for(let u=0;u<3;u++){const f=o[u];switch(f){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(f<14)s.append(String.fromCharCode(f+44));else if(f<40)s.append(String.fromCharCode(f+51));else throw new U;break}}}while(r.available()>0)}static parseTwoBytes(r,s,o){let c=(r<<8)+s-1,u=Math.floor(c/1600);o[0]=u,c-=u*1600,u=Math.floor(c/40),o[1]=u,o[2]=c-u*40}static decodeEdifactSegment(r,s){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let c=r.readBits(6);if(c===31){const u=8-r.getBitOffset();u!==8&&r.readBits(u);return}c&32||(c|=64),s.append(String.fromCharCode(c))}}while(r.available()>0)}static decodeBase256Segment(r,s,o){let c=1+r.getByteOffset();const u=this.unrandomize255State(r.readBits(8),c++);let f;if(u===0?f=r.available()/8|0:u<250?f=u:f=250*(u-249)+this.unrandomize255State(r.readBits(8),c++),f<0)throw new U;const d=new Uint8Array(f);for(let x=0;x<f;x++){if(r.available()<8)throw new U;d[x]=this.unrandomize255State(r.readBits(8),c++)}o.push(d);try{s.append(_e.decode(d,ie.ISO88591))}catch(x){throw new fr("Platform does not support required encoding: "+x.message)}}static unrandomize255State(r,s){const o=149*s%255+1,c=r-o;return c>=0?c:c+256}}ei.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ei.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ei.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ei.TEXT_SHIFT2_SET_CHARS=ei.C40_SHIFT2_SET_CHARS,ei.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class RC{constructor(){this.rsDecoder=new Co(Be.DATA_MATRIX_FIELD_256)}decode(r){const s=new _u(r),o=s.getVersion(),c=s.readCodewords(),u=Ru.getDataBlocks(c,o);let f=0;for(let y of u)f+=y.getNumDataCodewords();const d=new Uint8Array(f),x=u.length;for(let y=0;y<x;y++){const E=u[y],A=E.getCodewords(),I=E.getNumDataCodewords();this.correctErrors(A,I);for(let k=0;k<I;k++)d[k*x+y]=A[k]}return ei.decode(d)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new _}for(let c=0;c<s;c++)r[c]=o[c]}}class mt{constructor(r){this.image=r,this.rectangleDetector=new Dr(this.image)}detect(){const r=this.rectangleDetector.detect();let s=this.detectSolid1(r);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new Y;s=this.shiftToModuleCenter(s);const o=s[0],c=s[1],u=s[2],f=s[3];let d=this.transitionsBetween(o,f)+1,x=this.transitionsBetween(u,f)+1;(d&1)===1&&(d+=1),(x&1)===1&&(x+=1),4*d<7*x&&4*x<7*d&&(d=x=Math.max(d,x));let y=mt.sampleGrid(this.image,o,c,u,f,d,x);return new Ga(y,[o,c,u,f])}static shiftPoint(r,s,o){let c=(s.getX()-r.getX())/(o+1),u=(s.getY()-r.getY())/(o+1);return new ce(r.getX()+c,r.getY()+u)}static moveAway(r,s,o){let c=r.getX(),u=r.getY();return c<s?c-=1:c+=1,u<o?u-=1:u+=1,new ce(c,u)}detectSolid1(r){let s=r[0],o=r[1],c=r[3],u=r[2],f=this.transitionsBetween(s,o),d=this.transitionsBetween(o,c),x=this.transitionsBetween(c,u),y=this.transitionsBetween(u,s),E=f,A=[u,s,o,c];return E>d&&(E=d,A[0]=s,A[1]=o,A[2]=c,A[3]=u),E>x&&(E=x,A[0]=o,A[1]=c,A[2]=u,A[3]=s),E>y&&(A[0]=c,A[1]=u,A[2]=s,A[3]=o),A}detectSolid2(r){let s=r[0],o=r[1],c=r[2],u=r[3],f=this.transitionsBetween(s,u),d=mt.shiftPoint(o,c,(f+1)*4),x=mt.shiftPoint(c,o,(f+1)*4),y=this.transitionsBetween(d,s),E=this.transitionsBetween(x,u);return y<E?(r[0]=s,r[1]=o,r[2]=c,r[3]=u):(r[0]=o,r[1]=c,r[2]=u,r[3]=s),r}correctTopRight(r){let s=r[0],o=r[1],c=r[2],u=r[3],f=this.transitionsBetween(s,u),d=this.transitionsBetween(o,u),x=mt.shiftPoint(s,o,(d+1)*4),y=mt.shiftPoint(c,o,(f+1)*4);f=this.transitionsBetween(x,u),d=this.transitionsBetween(y,u);let E=new ce(u.getX()+(c.getX()-o.getX())/(f+1),u.getY()+(c.getY()-o.getY())/(f+1)),A=new ce(u.getX()+(s.getX()-o.getX())/(d+1),u.getY()+(s.getY()-o.getY())/(d+1));if(!this.isValid(E))return this.isValid(A)?A:null;if(!this.isValid(A))return E;let I=this.transitionsBetween(x,E)+this.transitionsBetween(y,E),k=this.transitionsBetween(x,A)+this.transitionsBetween(y,A);return I>k?E:A}shiftToModuleCenter(r){let s=r[0],o=r[1],c=r[2],u=r[3],f=this.transitionsBetween(s,u)+1,d=this.transitionsBetween(c,u)+1,x=mt.shiftPoint(s,o,d*4),y=mt.shiftPoint(c,o,f*4);f=this.transitionsBetween(x,u)+1,d=this.transitionsBetween(y,u)+1,(f&1)===1&&(f+=1),(d&1)===1&&(d+=1);let E=(s.getX()+o.getX()+c.getX()+u.getX())/4,A=(s.getY()+o.getY()+c.getY()+u.getY())/4;s=mt.moveAway(s,E,A),o=mt.moveAway(o,E,A),c=mt.moveAway(c,E,A),u=mt.moveAway(u,E,A);let I,k;return x=mt.shiftPoint(s,o,d*4),x=mt.shiftPoint(x,u,f*4),I=mt.shiftPoint(o,s,d*4),I=mt.shiftPoint(I,c,f*4),y=mt.shiftPoint(c,u,d*4),y=mt.shiftPoint(y,o,f*4),k=mt.shiftPoint(u,c,d*4),k=mt.shiftPoint(k,s,f*4),[x,I,y,k]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,s,o,c,u,f,d){return $r.getInstance().sampleGrid(r,f,d,.5,.5,f-.5,.5,f-.5,d-.5,.5,d-.5,s.getX(),s.getY(),u.getX(),u.getY(),c.getX(),c.getY(),o.getX(),o.getY())}transitionsBetween(r,s){let o=Math.trunc(r.getX()),c=Math.trunc(r.getY()),u=Math.trunc(s.getX()),f=Math.trunc(s.getY()),d=Math.abs(f-c)>Math.abs(u-o);if(d){let j=o;o=c,c=j,j=u,u=f,f=j}let x=Math.abs(u-o),y=Math.abs(f-c),E=-x/2,A=c<f?1:-1,I=o<u?1:-1,k=0,P=this.image.get(d?c:o,d?o:c);for(let j=o,V=c;j!==u;j+=I){let G=this.image.get(d?V:j,d?j:V);if(G!==P&&(k++,P=G),E+=y,E>0){if(V===f)break;V+=A,E-=x}}return k}}class ti{constructor(){this.decoder=new RC}decode(r,s=null){let o,c;if(s!=null&&s.has(Z.PURE_BARCODE)){const y=ti.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(y),c=ti.NO_POINTS}else{const y=new mt(r.getBlackMatrix()).detect();o=this.decoder.decode(y.getBits()),c=y.getPoints()}const u=o.getRawBytes(),f=new Pe(o.getText(),u,8*u.length,c,le.DATA_MATRIX,O.currentTimeMillis()),d=o.getByteSegments();d!=null&&f.putMetadata(wt.BYTE_SEGMENTS,d);const x=o.getECLevel();return x!=null&&f.putMetadata(wt.ERROR_CORRECTION_LEVEL,x),f}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s==null||o==null)throw new Y;const c=this.moduleSize(s,r);let u=s[1];const f=o[1];let d=s[0];const y=(o[0]-d+1)/c,E=(f-u+1)/c;if(y<=0||E<=0)throw new Y;const A=c/2;u+=A,d+=A;const I=new Ae(y,E);for(let k=0;k<E;k++){const P=u+k*c;for(let j=0;j<y;j++)r.get(d+j*c,P)&&I.set(j,k)}return I}static moduleSize(r,s){const o=s.getWidth();let c=r[0];const u=r[1];for(;c<o&&s.get(c,u);)c++;if(c===o)throw new Y;const f=c-r[0];if(f===0)throw new Y;return f}}ti.NO_POINTS=[];class OC extends It{constructor(r=500){super(new ti,r)}}var Ss;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(Ss||(Ss={}));class Ke{constructor(r,s,o){this.value=r,this.stringValue=s,this.bits=o,Ke.FOR_BITS.set(o,this),Ke.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return Ke.L;case"M":return Ke.M;case"Q":return Ke.Q;case"H":return Ke.H;default:throw new w(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof Ke))return!1;const s=r;return this.value===s.value}static forBits(r){if(r<0||r>=Ke.FOR_BITS.size)throw new C;return Ke.FOR_BITS.get(r)}}Ke.FOR_BITS=new Map,Ke.FOR_VALUE=new Map,Ke.L=new Ke(Ss.L,"L",1),Ke.M=new Ke(Ss.M,"M",0),Ke.Q=new Ke(Ss.Q,"Q",3),Ke.H=new Ke(Ss.H,"H",2);class Xt{constructor(r){this.errorCorrectionLevel=Ke.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,s){return b.bitCount(r^s)}static decodeFormatInformation(r,s){const o=Xt.doDecodeFormatInformation(r,s);return o!==null?o:Xt.doDecodeFormatInformation(r^Xt.FORMAT_INFO_MASK_QR,s^Xt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,s){let o=Number.MAX_SAFE_INTEGER,c=0;for(const u of Xt.FORMAT_INFO_DECODE_LOOKUP){const f=u[0];if(f===r||f===s)return new Xt(u[1]);let d=Xt.numBitsDiffering(r,f);d<o&&(c=u[1],o=d),r!==s&&(d=Xt.numBitsDiffering(s,f),d<o&&(c=u[1],o=d))}return o<=3?new Xt(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Xt))return!1;const s=r;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}Xt.FORMAT_INFO_MASK_QR=21522,Xt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class z{constructor(r,...s){this.ecCodewordsPerBlock=r,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const s=this.ecBlocks;for(const o of s)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pe{constructor(r,s,...o){this.versionNumber=r,this.alignmentPatternCenters=s,this.ecBlocks=o;let c=0;const u=o[0].getECCodewordsPerBlock(),f=o[0].getECBlocks();for(const d of f)c+=d.getCount()*(d.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new U;try{return this.getVersionForNumber((r-17)/4)}catch{throw new U}}static getVersionForNumber(r){if(r<1||r>40)throw new C;return pe.VERSIONS[r-1]}static decodeVersionInformation(r){let s=Number.MAX_SAFE_INTEGER,o=0;for(let c=0;c<pe.VERSION_DECODE_INFO.length;c++){const u=pe.VERSION_DECODE_INFO[c];if(u===r)return pe.getVersionForNumber(c+7);const f=Xt.numBitsDiffering(r,u);f<s&&(o=c+7,s=f)}return s<=3?pe.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),s=new Ae(r);s.setRegion(0,0,9,9),s.setRegion(r-8,0,8,9),s.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let c=0;c<o;c++){const u=this.alignmentPatternCenters[c]-2;for(let f=0;f<o;f++)c===0&&(f===0||f===o-1)||c===o-1&&f===0||s.setRegion(this.alignmentPatternCenters[f]-2,u,5,5)}return s.setRegion(6,9,1,r-17),s.setRegion(9,6,r-17,1),this.versionNumber>6&&(s.setRegion(r-11,0,3,6),s.setRegion(0,r-11,6,3)),s}toString(){return""+this.versionNumber}}pe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),pe.VERSIONS=[new pe(1,new Int32Array(0),new z(7,new D(1,19)),new z(10,new D(1,16)),new z(13,new D(1,13)),new z(17,new D(1,9))),new pe(2,Int32Array.from([6,18]),new z(10,new D(1,34)),new z(16,new D(1,28)),new z(22,new D(1,22)),new z(28,new D(1,16))),new pe(3,Int32Array.from([6,22]),new z(15,new D(1,55)),new z(26,new D(1,44)),new z(18,new D(2,17)),new z(22,new D(2,13))),new pe(4,Int32Array.from([6,26]),new z(20,new D(1,80)),new z(18,new D(2,32)),new z(26,new D(2,24)),new z(16,new D(4,9))),new pe(5,Int32Array.from([6,30]),new z(26,new D(1,108)),new z(24,new D(2,43)),new z(18,new D(2,15),new D(2,16)),new z(22,new D(2,11),new D(2,12))),new pe(6,Int32Array.from([6,34]),new z(18,new D(2,68)),new z(16,new D(4,27)),new z(24,new D(4,19)),new z(28,new D(4,15))),new pe(7,Int32Array.from([6,22,38]),new z(20,new D(2,78)),new z(18,new D(4,31)),new z(18,new D(2,14),new D(4,15)),new z(26,new D(4,13),new D(1,14))),new pe(8,Int32Array.from([6,24,42]),new z(24,new D(2,97)),new z(22,new D(2,38),new D(2,39)),new z(22,new D(4,18),new D(2,19)),new z(26,new D(4,14),new D(2,15))),new pe(9,Int32Array.from([6,26,46]),new z(30,new D(2,116)),new z(22,new D(3,36),new D(2,37)),new z(20,new D(4,16),new D(4,17)),new z(24,new D(4,12),new D(4,13))),new pe(10,Int32Array.from([6,28,50]),new z(18,new D(2,68),new D(2,69)),new z(26,new D(4,43),new D(1,44)),new z(24,new D(6,19),new D(2,20)),new z(28,new D(6,15),new D(2,16))),new pe(11,Int32Array.from([6,30,54]),new z(20,new D(4,81)),new z(30,new D(1,50),new D(4,51)),new z(28,new D(4,22),new D(4,23)),new z(24,new D(3,12),new D(8,13))),new pe(12,Int32Array.from([6,32,58]),new z(24,new D(2,92),new D(2,93)),new z(22,new D(6,36),new D(2,37)),new z(26,new D(4,20),new D(6,21)),new z(28,new D(7,14),new D(4,15))),new pe(13,Int32Array.from([6,34,62]),new z(26,new D(4,107)),new z(22,new D(8,37),new D(1,38)),new z(24,new D(8,20),new D(4,21)),new z(22,new D(12,11),new D(4,12))),new pe(14,Int32Array.from([6,26,46,66]),new z(30,new D(3,115),new D(1,116)),new z(24,new D(4,40),new D(5,41)),new z(20,new D(11,16),new D(5,17)),new z(24,new D(11,12),new D(5,13))),new pe(15,Int32Array.from([6,26,48,70]),new z(22,new D(5,87),new D(1,88)),new z(24,new D(5,41),new D(5,42)),new z(30,new D(5,24),new D(7,25)),new z(24,new D(11,12),new D(7,13))),new pe(16,Int32Array.from([6,26,50,74]),new z(24,new D(5,98),new D(1,99)),new z(28,new D(7,45),new D(3,46)),new z(24,new D(15,19),new D(2,20)),new z(30,new D(3,15),new D(13,16))),new pe(17,Int32Array.from([6,30,54,78]),new z(28,new D(1,107),new D(5,108)),new z(28,new D(10,46),new D(1,47)),new z(28,new D(1,22),new D(15,23)),new z(28,new D(2,14),new D(17,15))),new pe(18,Int32Array.from([6,30,56,82]),new z(30,new D(5,120),new D(1,121)),new z(26,new D(9,43),new D(4,44)),new z(28,new D(17,22),new D(1,23)),new z(28,new D(2,14),new D(19,15))),new pe(19,Int32Array.from([6,30,58,86]),new z(28,new D(3,113),new D(4,114)),new z(26,new D(3,44),new D(11,45)),new z(26,new D(17,21),new D(4,22)),new z(26,new D(9,13),new D(16,14))),new pe(20,Int32Array.from([6,34,62,90]),new z(28,new D(3,107),new D(5,108)),new z(26,new D(3,41),new D(13,42)),new z(30,new D(15,24),new D(5,25)),new z(28,new D(15,15),new D(10,16))),new pe(21,Int32Array.from([6,28,50,72,94]),new z(28,new D(4,116),new D(4,117)),new z(26,new D(17,42)),new z(28,new D(17,22),new D(6,23)),new z(30,new D(19,16),new D(6,17))),new pe(22,Int32Array.from([6,26,50,74,98]),new z(28,new D(2,111),new D(7,112)),new z(28,new D(17,46)),new z(30,new D(7,24),new D(16,25)),new z(24,new D(34,13))),new pe(23,Int32Array.from([6,30,54,78,102]),new z(30,new D(4,121),new D(5,122)),new z(28,new D(4,47),new D(14,48)),new z(30,new D(11,24),new D(14,25)),new z(30,new D(16,15),new D(14,16))),new pe(24,Int32Array.from([6,28,54,80,106]),new z(30,new D(6,117),new D(4,118)),new z(28,new D(6,45),new D(14,46)),new z(30,new D(11,24),new D(16,25)),new z(30,new D(30,16),new D(2,17))),new pe(25,Int32Array.from([6,32,58,84,110]),new z(26,new D(8,106),new D(4,107)),new z(28,new D(8,47),new D(13,48)),new z(30,new D(7,24),new D(22,25)),new z(30,new D(22,15),new D(13,16))),new pe(26,Int32Array.from([6,30,58,86,114]),new z(28,new D(10,114),new D(2,115)),new z(28,new D(19,46),new D(4,47)),new z(28,new D(28,22),new D(6,23)),new z(30,new D(33,16),new D(4,17))),new pe(27,Int32Array.from([6,34,62,90,118]),new z(30,new D(8,122),new D(4,123)),new z(28,new D(22,45),new D(3,46)),new z(30,new D(8,23),new D(26,24)),new z(30,new D(12,15),new D(28,16))),new pe(28,Int32Array.from([6,26,50,74,98,122]),new z(30,new D(3,117),new D(10,118)),new z(28,new D(3,45),new D(23,46)),new z(30,new D(4,24),new D(31,25)),new z(30,new D(11,15),new D(31,16))),new pe(29,Int32Array.from([6,30,54,78,102,126]),new z(30,new D(7,116),new D(7,117)),new z(28,new D(21,45),new D(7,46)),new z(30,new D(1,23),new D(37,24)),new z(30,new D(19,15),new D(26,16))),new pe(30,Int32Array.from([6,26,52,78,104,130]),new z(30,new D(5,115),new D(10,116)),new z(28,new D(19,47),new D(10,48)),new z(30,new D(15,24),new D(25,25)),new z(30,new D(23,15),new D(25,16))),new pe(31,Int32Array.from([6,30,56,82,108,134]),new z(30,new D(13,115),new D(3,116)),new z(28,new D(2,46),new D(29,47)),new z(30,new D(42,24),new D(1,25)),new z(30,new D(23,15),new D(28,16))),new pe(32,Int32Array.from([6,34,60,86,112,138]),new z(30,new D(17,115)),new z(28,new D(10,46),new D(23,47)),new z(30,new D(10,24),new D(35,25)),new z(30,new D(19,15),new D(35,16))),new pe(33,Int32Array.from([6,30,58,86,114,142]),new z(30,new D(17,115),new D(1,116)),new z(28,new D(14,46),new D(21,47)),new z(30,new D(29,24),new D(19,25)),new z(30,new D(11,15),new D(46,16))),new pe(34,Int32Array.from([6,34,62,90,118,146]),new z(30,new D(13,115),new D(6,116)),new z(28,new D(14,46),new D(23,47)),new z(30,new D(44,24),new D(7,25)),new z(30,new D(59,16),new D(1,17))),new pe(35,Int32Array.from([6,30,54,78,102,126,150]),new z(30,new D(12,121),new D(7,122)),new z(28,new D(12,47),new D(26,48)),new z(30,new D(39,24),new D(14,25)),new z(30,new D(22,15),new D(41,16))),new pe(36,Int32Array.from([6,24,50,76,102,128,154]),new z(30,new D(6,121),new D(14,122)),new z(28,new D(6,47),new D(34,48)),new z(30,new D(46,24),new D(10,25)),new z(30,new D(2,15),new D(64,16))),new pe(37,Int32Array.from([6,28,54,80,106,132,158]),new z(30,new D(17,122),new D(4,123)),new z(28,new D(29,46),new D(14,47)),new z(30,new D(49,24),new D(10,25)),new z(30,new D(24,15),new D(46,16))),new pe(38,Int32Array.from([6,32,58,84,110,136,162]),new z(30,new D(4,122),new D(18,123)),new z(28,new D(13,46),new D(32,47)),new z(30,new D(48,24),new D(14,25)),new z(30,new D(42,15),new D(32,16))),new pe(39,Int32Array.from([6,26,54,82,110,138,166]),new z(30,new D(20,117),new D(4,118)),new z(28,new D(40,47),new D(7,48)),new z(30,new D(43,24),new D(22,25)),new z(30,new D(10,15),new D(67,16))),new pe(40,Int32Array.from([6,30,58,86,114,142,170]),new z(30,new D(19,118),new D(6,119)),new z(28,new D(18,47),new D(31,48)),new z(30,new D(34,24),new D(34,25)),new z(30,new D(20,15),new D(61,16)))];var Mt;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})(Mt||(Mt={}));class kn{constructor(r,s){this.value=r,this.isMasked=s}unmaskBitMatrix(r,s){for(let o=0;o<s;o++)for(let c=0;c<s;c++)this.isMasked(o,c)&&r.flip(c,o)}}kn.values=new Map([[Mt.DATA_MASK_000,new kn(Mt.DATA_MASK_000,(v,r)=>(v+r&1)===0)],[Mt.DATA_MASK_001,new kn(Mt.DATA_MASK_001,(v,r)=>(v&1)===0)],[Mt.DATA_MASK_010,new kn(Mt.DATA_MASK_010,(v,r)=>r%3===0)],[Mt.DATA_MASK_011,new kn(Mt.DATA_MASK_011,(v,r)=>(v+r)%3===0)],[Mt.DATA_MASK_100,new kn(Mt.DATA_MASK_100,(v,r)=>(Math.floor(v/2)+Math.floor(r/3)&1)===0)],[Mt.DATA_MASK_101,new kn(Mt.DATA_MASK_101,(v,r)=>v*r%6===0)],[Mt.DATA_MASK_110,new kn(Mt.DATA_MASK_110,(v,r)=>v*r%6<3)],[Mt.DATA_MASK_111,new kn(Mt.DATA_MASK_111,(v,r)=>(v+r+v*r%3&1)===0)]]);class MC{constructor(r){const s=r.getHeight();if(s<21||(s&3)!==1)throw new U;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let u=0;u<6;u++)r=this.copyBit(u,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let u=5;u>=0;u--)r=this.copyBit(8,u,r);const s=this.bitMatrix.getHeight();let o=0;const c=s-7;for(let u=s-1;u>=c;u--)o=this.copyBit(8,u,o);for(let u=s-8;u<s;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=Xt.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),s=Math.floor((r-17)/4);if(s<=6)return pe.getVersionForNumber(s);let o=0;const c=r-11;for(let f=5;f>=0;f--)for(let d=r-9;d>=c;d--)o=this.copyBit(d,f,o);let u=pe.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;o=0;for(let f=5;f>=0;f--)for(let d=r-9;d>=c;d--)o=this.copyBit(f,d,o);if(u=pe.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new U}copyBit(r,s,o){return(this.isMirror?this.bitMatrix.get(s,r):this.bitMatrix.get(r,s))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),s=this.readVersion(),o=kn.values.get(r.getDataMask()),c=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,c);const u=s.buildFunctionPattern();let f=!0;const d=new Uint8Array(s.getTotalCodewords());let x=0,y=0,E=0;for(let A=c-1;A>0;A-=2){A===6&&A--;for(let I=0;I<c;I++){const k=f?c-1-I:I;for(let P=0;P<2;P++)u.get(A-P,k)||(E++,y<<=1,this.bitMatrix.get(A-P,k)&&(y|=1),E===8&&(d[x++]=y,E=0,y=0))}f=!f}if(x!==s.getTotalCodewords())throw new U;return d}remask(){if(this.parsedFormatInfo===null)return;const r=kn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let s=0,o=r.getWidth();s<o;s++)for(let c=s+1,u=r.getHeight();c<u;c++)r.get(s,c)!==r.get(c,s)&&(r.flip(c,s),r.flip(s,c))}}class Mu{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s,o){if(r.length!==s.getTotalCodewords())throw new C;const c=s.getECBlocksForLevel(o);let u=0;const f=c.getECBlocks();for(const P of f)u+=P.getCount();const d=new Array(u);let x=0;for(const P of f)for(let j=0;j<P.getCount();j++){const V=P.getDataCodewords(),G=c.getECCodewordsPerBlock()+V;d[x++]=new Mu(V,new Uint8Array(G))}const y=d[0].codewords.length;let E=d.length-1;for(;E>=0&&d[E].codewords.length!==y;)E--;E++;const A=y-c.getECCodewordsPerBlock();let I=0;for(let P=0;P<A;P++)for(let j=0;j<x;j++)d[j].codewords[P]=r[I++];for(let P=E;P<x;P++)d[P].codewords[A]=r[I++];const k=d[0].codewords.length;for(let P=A;P<k;P++)for(let j=0;j<x;j++){const V=j<E?P:P+1;d[j].codewords[V]=r[I++]}return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ln;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(Ln||(Ln={}));class ge{constructor(r,s,o,c){this.value=r,this.stringValue=s,this.characterCountBitsForVersions=o,this.bits=c,ge.FOR_BITS.set(c,this),ge.FOR_VALUE.set(r,this)}static forBits(r){const s=ge.FOR_BITS.get(r);if(s===void 0)throw new C;return s}getCharacterCountBits(r){const s=r.getVersionNumber();let o;return s<=9?o=0:s<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof ge))return!1;const s=r;return this.value===s.value}toString(){return this.stringValue}}ge.FOR_BITS=new Map,ge.FOR_VALUE=new Map,ge.TERMINATOR=new ge(Ln.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),ge.NUMERIC=new ge(Ln.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),ge.ALPHANUMERIC=new ge(Ln.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),ge.STRUCTURED_APPEND=new ge(Ln.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),ge.BYTE=new ge(Ln.BYTE,"BYTE",Int32Array.from([8,16,16]),4),ge.ECI=new ge(Ln.ECI,"ECI",Int32Array.from([0,0,0]),7),ge.KANJI=new ge(Ln.KANJI,"KANJI",Int32Array.from([8,10,12]),8),ge.FNC1_FIRST_POSITION=new ge(Ln.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),ge.FNC1_SECOND_POSITION=new ge(Ln.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),ge.HANZI=new ge(Ln.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class it{static decode(r,s,o,c){const u=new Ou(r);let f=new we;const d=new Array;let x=-1,y=-1;try{let E=null,A=!1,I;do{if(u.available()<4)I=ge.TERMINATOR;else{const k=u.readBits(4);I=ge.forBits(k)}switch(I){case ge.TERMINATOR:break;case ge.FNC1_FIRST_POSITION:case ge.FNC1_SECOND_POSITION:A=!0;break;case ge.STRUCTURED_APPEND:if(u.available()<16)throw new U;x=u.readBits(8),y=u.readBits(8);break;case ge.ECI:const k=it.parseECIValue(u);if(E=X.getCharacterSetECIByValue(k),E===null)throw new U;break;case ge.HANZI:const P=u.readBits(4),j=u.readBits(I.getCharacterCountBits(s));P===it.GB2312_SUBSET&&it.decodeHanziSegment(u,f,j);break;default:const V=u.readBits(I.getCharacterCountBits(s));switch(I){case ge.NUMERIC:it.decodeNumericSegment(u,f,V);break;case ge.ALPHANUMERIC:it.decodeAlphanumericSegment(u,f,V,A);break;case ge.BYTE:it.decodeByteSegment(u,f,V,E,d,c);break;case ge.KANJI:it.decodeKanjiSegment(u,f,V);break;default:throw new U}break}}while(I!==ge.TERMINATOR)}catch{throw new U}return new Mr(r,f.toString(),d.length===0?null:d,o===null?null:o.toString(),x,y)}static decodeHanziSegment(r,s,o){if(o*13>r.available())throw new U;const c=new Uint8Array(2*o);let u=0;for(;o>0;){const f=r.readBits(13);let d=f/96<<8&4294967295|f%96;d<959?d+=41377:d+=42657,c[u]=d>>8&255,c[u+1]=d&255,u+=2,o--}try{s.append(_e.decode(c,ie.GB2312))}catch(f){throw new U(f)}}static decodeKanjiSegment(r,s,o){if(o*13>r.available())throw new U;const c=new Uint8Array(2*o);let u=0;for(;o>0;){const f=r.readBits(13);let d=f/192<<8&4294967295|f%192;d<7936?d+=33088:d+=49472,c[u]=d>>8,c[u+1]=d,u+=2,o--}try{s.append(_e.decode(c,ie.SHIFT_JIS))}catch(f){throw new U(f)}}static decodeByteSegment(r,s,o,c,u,f){if(8*o>r.available())throw new U;const d=new Uint8Array(o);for(let y=0;y<o;y++)d[y]=r.readBits(8);let x;c===null?x=ie.guessEncoding(d,f):x=c.getName();try{s.append(_e.decode(d,x))}catch(y){throw new U(y)}u.push(d)}static toAlphaNumericChar(r){if(r>=it.ALPHANUMERIC_CHARS.length)throw new U;return it.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,s,o,c){const u=s.length();for(;o>1;){if(r.available()<11)throw new U;const f=r.readBits(11);s.append(it.toAlphaNumericChar(Math.floor(f/45))),s.append(it.toAlphaNumericChar(f%45)),o-=2}if(o===1){if(r.available()<6)throw new U;s.append(it.toAlphaNumericChar(r.readBits(6)))}if(c)for(let f=u;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,String.fromCharCode(29)))}static decodeNumericSegment(r,s,o){for(;o>=3;){if(r.available()<10)throw new U;const c=r.readBits(10);if(c>=1e3)throw new U;s.append(it.toAlphaNumericChar(Math.floor(c/100))),s.append(it.toAlphaNumericChar(Math.floor(c/10)%10)),s.append(it.toAlphaNumericChar(c%10)),o-=3}if(o===2){if(r.available()<7)throw new U;const c=r.readBits(7);if(c>=100)throw new U;s.append(it.toAlphaNumericChar(Math.floor(c/10))),s.append(it.toAlphaNumericChar(c%10))}else if(o===1){if(r.available()<4)throw new U;const c=r.readBits(4);if(c>=10)throw new U;s.append(it.toAlphaNumericChar(c))}}static parseECIValue(r){const s=r.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const o=r.readBits(8);return(s&63)<<8&4294967295|o}if((s&224)===192){const o=r.readBits(16);return(s&31)<<16&4294967295|o}throw new U}}it.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",it.GB2312_SUBSET=1;class J0{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const s=r[0];r[0]=r[2],r[2]=s}}class DC{constructor(){this.rsDecoder=new Co(Be.QR_CODE_FIELD_256)}decodeBooleanArray(r,s){return this.decodeBitMatrix(Ae.parseFromBooleanArray(r),s)}decodeBitMatrix(r,s){const o=new MC(r);let c=null;try{return this.decodeBitMatrixParser(o,s)}catch(u){c=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,s);return u.setOther(new J0(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(r,s){const o=r.readVersion(),c=r.readFormatInformation().getErrorCorrectionLevel(),u=r.readCodewords(),f=Mu.getDataBlocks(u,o,c);let d=0;for(const E of f)d+=E.getNumDataCodewords();const x=new Uint8Array(d);let y=0;for(const E of f){const A=E.getCodewords(),I=E.getNumDataCodewords();this.correctErrors(A,I);for(let k=0;k<I;k++)x[y++]=A[k]}return it.decode(x,o,c,s)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new _}for(let c=0;c<s;c++)r[c]=o[c]}}class Du extends ce{constructor(r,s,o){super(r,s),this.estimatedModuleSize=o}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const c=(this.getX()+s)/2,u=(this.getY()+r)/2,f=(this.estimatedModuleSize+o)/2;return new Du(c,u,f)}}class Za{constructor(r,s,o,c,u,f,d){this.image=r,this.startX=s,this.startY=o,this.width=c,this.height=u,this.moduleSize=f,this.resultPointCallback=d,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,s=this.height,o=this.width,c=r+o,u=this.startY+s/2,f=new Int32Array(3),d=this.image;for(let x=0;x<s;x++){const y=u+(x&1?-Math.floor((x+1)/2):Math.floor((x+1)/2));f[0]=0,f[1]=0,f[2]=0;let E=r;for(;E<c&&!d.get(E,y);)E++;let A=0;for(;E<c;){if(d.get(E,y))if(A===1)f[1]++;else if(A===2){if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,y,E);if(I!==null)return I}f[0]=f[2],f[1]=1,f[2]=0,A=1}else f[++A]++;else A===1&&A++,f[A]++;E++}if(this.foundPatternCross(f)){const I=this.handlePossibleCenter(f,y,c);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(r,s){return s-r[2]-r[1]/2}foundPatternCross(r){const s=this.moduleSize,o=s/2;for(let c=0;c<3;c++)if(Math.abs(s-r[c])>=o)return!1;return!0}crossCheckVertical(r,s,o,c){const u=this.image,f=u.getHeight(),d=this.crossCheckStateCount;d[0]=0,d[1]=0,d[2]=0;let x=r;for(;x>=0&&u.get(s,x)&&d[1]<=o;)d[1]++,x--;if(x<0||d[1]>o)return NaN;for(;x>=0&&!u.get(s,x)&&d[0]<=o;)d[0]++,x--;if(d[0]>o)return NaN;for(x=r+1;x<f&&u.get(s,x)&&d[1]<=o;)d[1]++,x++;if(x===f||d[1]>o)return NaN;for(;x<f&&!u.get(s,x)&&d[2]<=o;)d[2]++,x++;if(d[2]>o)return NaN;const y=d[0]+d[1]+d[2];return 5*Math.abs(y-c)>=2*c?NaN:this.foundPatternCross(d)?Za.centerFromEnd(d,x):NaN}handlePossibleCenter(r,s,o){const c=r[0]+r[1]+r[2],u=Za.centerFromEnd(r,o),f=this.crossCheckVertical(s,u,2*r[1],c);if(!isNaN(f)){const d=(r[0]+r[1]+r[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(d,f,u))return y.combineEstimate(f,u,d);const x=new Du(u,f,d);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class ku extends ce{constructor(r,s,o,c){super(r,s),this.estimatedModuleSize=o,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const c=this.count+1,u=(this.count*this.getX()+s)/c,f=(this.count*this.getY()+r)/c,d=(this.count*this.estimatedModuleSize+o)/c;return new ku(u,f,d,c)}}class kC{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Dt{constructor(r,s){this.image=r,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const s=r!=null&&r.get(Z.TRY_HARDER)!==void 0,o=r!=null&&r.get(Z.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),f=c.getWidth();let d=Math.floor(3*u/(4*Dt.MAX_MODULES));(d<Dt.MIN_SKIP||s)&&(d=Dt.MIN_SKIP);let x=!1;const y=new Int32Array(5);for(let A=d-1;A<u&&!x;A+=d){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let I=0;for(let k=0;k<f;k++)if(c.get(k,A))(I&1)===1&&I++,y[I]++;else if(I&1)y[I]++;else if(I===4)if(Dt.foundPatternCross(y)){if(this.handlePossibleCenter(y,A,k,o)===!0)if(d=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const j=this.findRowSkip();j>y[2]&&(A+=j-y[2]-d,k=f-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,I=3;continue}I=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,I=3;else y[++I]++;Dt.foundPatternCross(y)&&this.handlePossibleCenter(y,A,f,o)===!0&&(d=y[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return ce.orderBestPatterns(E),new kC(E)}static centerFromEnd(r,s){return s-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let s=0;for(let u=0;u<5;u++){const f=r[u];if(f===0)return!1;s+=f}if(s<7)return!1;const o=s/7,c=o/2;return Math.abs(o-r[0])<c&&Math.abs(o-r[1])<c&&Math.abs(3*o-r[2])<3*c&&Math.abs(o-r[3])<c&&Math.abs(o-r[4])<c}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,s,o,c){const u=this.getCrossCheckStateCount();let f=0;const d=this.image;for(;r>=f&&s>=f&&d.get(s-f,r-f);)u[2]++,f++;if(r<f||s<f)return!1;for(;r>=f&&s>=f&&!d.get(s-f,r-f)&&u[1]<=o;)u[1]++,f++;if(r<f||s<f||u[1]>o)return!1;for(;r>=f&&s>=f&&d.get(s-f,r-f)&&u[0]<=o;)u[0]++,f++;if(u[0]>o)return!1;const x=d.getHeight(),y=d.getWidth();for(f=1;r+f<x&&s+f<y&&d.get(s+f,r+f);)u[2]++,f++;if(r+f>=x||s+f>=y)return!1;for(;r+f<x&&s+f<y&&!d.get(s+f,r+f)&&u[3]<o;)u[3]++,f++;if(r+f>=x||s+f>=y||u[3]>=o)return!1;for(;r+f<x&&s+f<y&&d.get(s+f,r+f)&&u[4]<o;)u[4]++,f++;if(u[4]>=o)return!1;const E=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(E-c)<2*c&&Dt.foundPatternCross(u)}crossCheckVertical(r,s,o,c){const u=this.image,f=u.getHeight(),d=this.getCrossCheckStateCount();let x=r;for(;x>=0&&u.get(s,x);)d[2]++,x--;if(x<0)return NaN;for(;x>=0&&!u.get(s,x)&&d[1]<=o;)d[1]++,x--;if(x<0||d[1]>o)return NaN;for(;x>=0&&u.get(s,x)&&d[0]<=o;)d[0]++,x--;if(d[0]>o)return NaN;for(x=r+1;x<f&&u.get(s,x);)d[2]++,x++;if(x===f)return NaN;for(;x<f&&!u.get(s,x)&&d[3]<o;)d[3]++,x++;if(x===f||d[3]>=o)return NaN;for(;x<f&&u.get(s,x)&&d[4]<o;)d[4]++,x++;if(d[4]>=o)return NaN;const y=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(y-c)>=2*c?NaN:Dt.foundPatternCross(d)?Dt.centerFromEnd(d,x):NaN}crossCheckHorizontal(r,s,o,c){const u=this.image,f=u.getWidth(),d=this.getCrossCheckStateCount();let x=r;for(;x>=0&&u.get(x,s);)d[2]++,x--;if(x<0)return NaN;for(;x>=0&&!u.get(x,s)&&d[1]<=o;)d[1]++,x--;if(x<0||d[1]>o)return NaN;for(;x>=0&&u.get(x,s)&&d[0]<=o;)d[0]++,x--;if(d[0]>o)return NaN;for(x=r+1;x<f&&u.get(x,s);)d[2]++,x++;if(x===f)return NaN;for(;x<f&&!u.get(x,s)&&d[3]<o;)d[3]++,x++;if(x===f||d[3]>=o)return NaN;for(;x<f&&u.get(x,s)&&d[4]<o;)d[4]++,x++;if(d[4]>=o)return NaN;const y=d[0]+d[1]+d[2]+d[3]+d[4];return 5*Math.abs(y-c)>=c?NaN:Dt.foundPatternCross(d)?Dt.centerFromEnd(d,x):NaN}handlePossibleCenter(r,s,o,c){const u=r[0]+r[1]+r[2]+r[3]+r[4];let f=Dt.centerFromEnd(r,o),d=this.crossCheckVertical(s,Math.floor(f),r[2],u);if(!isNaN(d)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(d),r[2],u),!isNaN(f)&&(!c||this.crossCheckDiagonal(Math.floor(d),Math.floor(f),r[2],u)))){const x=u/7;let y=!1;const E=this.possibleCenters;for(let A=0,I=E.length;A<I;A++){const k=E[A];if(k.aboutEquals(x,d,f)){E[A]=k.combineEstimate(d,f,x),y=!0;break}}if(!y){const A=new ku(f,d,x);E.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const o of this.possibleCenters)if(o.getCount()>=Dt.CENTER_QUORUM)if(s==null)s=o;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-o.getX())-Math.abs(s.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,s=0;const o=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Dt.CENTER_QUORUM&&(r++,s+=f.getEstimatedModuleSize());if(r<3)return!1;const c=s/o;let u=0;for(const f of this.possibleCenters)u+=Math.abs(f.getEstimatedModuleSize()-c);return u<=.05*s}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new Y;const s=this.possibleCenters;let o;if(r>3){let c=0,u=0;for(const x of this.possibleCenters){const y=x.getEstimatedModuleSize();c+=y,u+=y*y}o=c/r;let f=Math.sqrt(u/r-o*o);s.sort((x,y)=>{const E=Math.abs(y.getEstimatedModuleSize()-o),A=Math.abs(x.getEstimatedModuleSize()-o);return E<A?-1:E>A?1:0});const d=Math.max(.2*o,f);for(let x=0;x<s.length&&s.length>3;x++){const y=s[x];Math.abs(y.getEstimatedModuleSize()-o)>d&&(s.splice(x,1),x--)}}if(s.length>3){let c=0;for(const u of s)c+=u.getEstimatedModuleSize();o=c/s.length,s.sort((u,f)=>{if(f.getCount()===u.getCount()){const d=Math.abs(f.getEstimatedModuleSize()-o),x=Math.abs(u.getEstimatedModuleSize()-o);return d<x?1:d>x?-1:0}else return f.getCount()-u.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}Dt.CENTER_QUORUM=2,Dt.MIN_SKIP=3,Dt.MAX_MODULES=57;class vo{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(Z.NEED_RESULT_POINT_CALLBACK);const o=new Dt(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const s=r.getTopLeft(),o=r.getTopRight(),c=r.getBottomLeft(),u=this.calculateModuleSize(s,o,c);if(u<1)throw new Y("No pattern found in proccess finder.");const f=vo.computeDimension(s,o,c,u),d=pe.getProvisionalVersionForDimension(f),x=d.getDimensionForVersion()-7;let y=null;if(d.getAlignmentPatternCenters().length>0){const k=o.getX()-s.getX()+c.getX(),P=o.getY()-s.getY()+c.getY(),j=1-3/x,V=Math.floor(s.getX()+j*(k-s.getX())),G=Math.floor(s.getY()+j*(P-s.getY()));for(let ee=4;ee<=16;ee<<=1)try{y=this.findAlignmentInRegion(u,V,G,ee);break}catch(te){if(!(te instanceof Y))throw te}}const E=vo.createTransform(s,o,c,y,f),A=vo.sampleGrid(this.image,E,f);let I;return y===null?I=[c,s,o]:I=[c,s,o,y],new Ga(A,I)}static createTransform(r,s,o,c,u){const f=u-3.5;let d,x,y,E;return c!==null?(d=c.getX(),x=c.getY(),y=f-3,E=y):(d=s.getX()-r.getX()+o.getX(),x=s.getY()-r.getY()+o.getY(),y=f,E=f),Kn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,y,E,3.5,f,r.getX(),r.getY(),s.getX(),s.getY(),d,x,o.getX(),o.getY())}static sampleGrid(r,s,o){return $r.getInstance().sampleGridWithTransform(r,o,o,s)}static computeDimension(r,s,o,c){const u=De.round(ce.distance(r,s)/c),f=De.round(ce.distance(r,o)/c);let d=Math.floor((u+f)/2)+7;switch(d&3){case 0:d++;break;case 2:d--;break;case 3:throw new Y("Dimensions could be not found.")}return d}calculateModuleSize(r,s,o){return(this.calculateModuleSizeOneWay(r,s)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,s){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(s.getX()),Math.floor(s.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?c/7:isNaN(c)?o/7:(o+c)/14}sizeOfBlackWhiteBlackRunBothWays(r,s,o,c){let u=this.sizeOfBlackWhiteBlackRun(r,s,o,c),f=1,d=r-(o-r);d<0?(f=r/(r-d),d=0):d>=this.image.getWidth()&&(f=(this.image.getWidth()-1-r)/(d-r),d=this.image.getWidth()-1);let x=Math.floor(s-(c-s)*f);return f=1,x<0?(f=s/(s-x),x=0):x>=this.image.getHeight()&&(f=(this.image.getHeight()-1-s)/(x-s),x=this.image.getHeight()-1),d=Math.floor(r+(d-r)*f),u+=this.sizeOfBlackWhiteBlackRun(r,s,d,x),u-1}sizeOfBlackWhiteBlackRun(r,s,o,c){const u=Math.abs(c-s)>Math.abs(o-r);if(u){let k=r;r=s,s=k,k=o,o=c,c=k}const f=Math.abs(o-r),d=Math.abs(c-s);let x=-f/2;const y=r<o?1:-1,E=s<c?1:-1;let A=0;const I=o+y;for(let k=r,P=s;k!==I;k+=y){const j=u?P:k,V=u?k:P;if(A===1===this.image.get(j,V)){if(A===2)return De.distance(k,P,r,s);A++}if(x+=d,x>0){if(P===c)break;P+=E,x-=f}}return A===2?De.distance(o+y,c,r,s):NaN}findAlignmentInRegion(r,s,o,c){const u=Math.floor(c*r),f=Math.max(0,s-u),d=Math.min(this.image.getWidth()-1,s+u);if(d-f<r*3)throw new Y("Alignment top exceeds estimated module size.");const x=Math.max(0,o-u),y=Math.min(this.image.getHeight()-1,o+u);if(y-x<r*3)throw new Y("Alignment bottom exceeds estimated module size.");return new Za(this.image,f,x,d-f,y-x,r,this.resultPointCallback).find()}}class ni{constructor(){this.decoder=new DC}getDecoder(){return this.decoder}decode(r,s){let o,c;if(s!=null&&s.get(Z.PURE_BARCODE)!==void 0){const x=ni.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(x,s),c=ni.NO_POINTS}else{const x=new vo(r.getBlackMatrix()).detect(s);o=this.decoder.decodeBitMatrix(x.getBits(),s),c=x.getPoints()}o.getOther()instanceof J0&&o.getOther().applyMirroredCorrection(c);const u=new Pe(o.getText(),o.getRawBytes(),void 0,c,le.QR_CODE,void 0),f=o.getByteSegments();f!==null&&u.putMetadata(wt.BYTE_SEGMENTS,f);const d=o.getECLevel();return d!==null&&u.putMetadata(wt.ERROR_CORRECTION_LEVEL,d),o.hasStructuredAppend()&&(u.putMetadata(wt.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(wt.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s===null||o===null)throw new Y;const c=this.moduleSize(s,r);let u=s[1],f=o[1],d=s[0],x=o[0];if(d>=x||u>=f)throw new Y;if(f-u!==x-d&&(x=d+(f-u),x>=r.getWidth()))throw new Y;const y=Math.round((x-d+1)/c),E=Math.round((f-u+1)/c);if(y<=0||E<=0)throw new Y;if(E!==y)throw new Y;const A=Math.floor(c/2);u+=A,d+=A;const I=d+Math.floor((y-1)*c)-x;if(I>0){if(I>A)throw new Y;d-=I}const k=u+Math.floor((E-1)*c)-f;if(k>0){if(k>A)throw new Y;u-=k}const P=new Ae(y,E);for(let j=0;j<E;j++){const V=u+Math.floor(j*c);for(let G=0;G<y;G++)r.get(d+Math.floor(G*c),V)&&P.set(G,j)}return P}static moduleSize(r,s){const o=s.getHeight(),c=s.getWidth();let u=r[0],f=r[1],d=!0,x=0;for(;u<c&&f<o;){if(d!==s.get(u,f)){if(++x===5)break;d=!d}u++,f++}if(u===c||f===o)throw new Y;return(u-r[0])/7}}ni.NO_POINTS=new Array;class Ce{PDF417Common(){}static getBitCountSum(r){return De.sum(r)}static toIntArray(r){if(r==null||!r.length)return Ce.EMPTY_INT_ARRAY;const s=new Int32Array(r.length);let o=0;for(const c of r)s[o++]=c;return s}static getCodeword(r){const s=N.binarySearch(Ce.SYMBOL_TABLE,r&262143);return s<0?-1:(Ce.CODEWORD_TABLE[s]-1)%Ce.NUMBER_OF_CODEWORDS}}Ce.NUMBER_OF_CODEWORDS=929,Ce.MAX_CODEWORDS_IN_BARCODE=Ce.NUMBER_OF_CODEWORDS-1,Ce.MIN_ROWS_IN_BARCODE=3,Ce.MAX_ROWS_IN_BARCODE=90,Ce.MODULES_IN_CODEWORD=17,Ce.MODULES_IN_STOP_PATTERN=18,Ce.BARS_IN_MODULE=8,Ce.EMPTY_INT_ARRAY=new Int32Array([]),Ce.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ce.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class LC{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ie{static detectMultiple(r,s,o){let c=r.getBlackMatrix(),u=Ie.detect(o,c);return u.length||(c=c.clone(),c.rotate180(),u=Ie.detect(o,c)),new LC(c,u)}static detect(r,s){const o=new Array;let c=0,u=0,f=!1;for(;c<s.getHeight();){const d=Ie.findVertices(s,c,u);if(d[0]==null&&d[3]==null){if(!f)break;f=!1,u=0;for(const x of o)x[1]!=null&&(c=Math.trunc(Math.max(c,x[1].getY()))),x[3]!=null&&(c=Math.max(c,Math.trunc(x[3].getY())));c+=Ie.ROW_STEP;continue}if(f=!0,o.push(d),!r)break;d[2]!=null?(u=Math.trunc(d[2].getX()),c=Math.trunc(d[2].getY())):(u=Math.trunc(d[4].getX()),c=Math.trunc(d[4].getY()))}return o}static findVertices(r,s,o){const c=r.getHeight(),u=r.getWidth(),f=new Array(8);return Ie.copyToResult(f,Ie.findRowsWithPattern(r,c,u,s,o,Ie.START_PATTERN),Ie.INDEXES_START_PATTERN),f[4]!=null&&(o=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY())),Ie.copyToResult(f,Ie.findRowsWithPattern(r,c,u,s,o,Ie.STOP_PATTERN),Ie.INDEXES_STOP_PATTERN),f}static copyToResult(r,s,o){for(let c=0;c<o.length;c++)r[o[c]]=s[c]}static findRowsWithPattern(r,s,o,c,u,f){const d=new Array(4);let x=!1;const y=new Int32Array(f.length);for(;c<s;c+=Ie.ROW_STEP){let A=Ie.findGuardPattern(r,u,c,o,!1,f,y);if(A!=null){for(;c>0;){const I=Ie.findGuardPattern(r,u,--c,o,!1,f,y);if(I!=null)A=I;else{c++;break}}d[0]=new ce(A[0],c),d[1]=new ce(A[1],c),x=!0;break}}let E=c+1;if(x){let A=0,I=Int32Array.from([Math.trunc(d[0].getX()),Math.trunc(d[1].getX())]);for(;E<s;E++){const k=Ie.findGuardPattern(r,I[0],E,o,!1,f,y);if(k!=null&&Math.abs(I[0]-k[0])<Ie.MAX_PATTERN_DRIFT&&Math.abs(I[1]-k[1])<Ie.MAX_PATTERN_DRIFT)I=k,A=0;else{if(A>Ie.SKIPPED_ROW_COUNT_MAX)break;A++}}E-=A+1,d[2]=new ce(I[0],E),d[3]=new ce(I[1],E)}return E-c<Ie.BARCODE_MIN_HEIGHT&&N.fill(d,null),d}static findGuardPattern(r,s,o,c,u,f,d){N.fillWithin(d,0,d.length,0);let x=s,y=0;for(;r.get(x,o)&&x>0&&y++<Ie.MAX_PIXEL_DRIFT;)x--;let E=x,A=0,I=f.length;for(let k=u;E<c;E++)if(r.get(E,o)!==k)d[A]++;else{if(A===I-1){if(Ie.patternMatchVariance(d,f,Ie.MAX_INDIVIDUAL_VARIANCE)<Ie.MAX_AVG_VARIANCE)return new Int32Array([x,E]);x+=d[0]+d[1],O.arraycopy(d,2,d,0,A-1),d[A-1]=0,d[A]=0,A--}else A++;d[A]=1,k=!k}return A===I-1&&Ie.patternMatchVariance(d,f,Ie.MAX_INDIVIDUAL_VARIANCE)<Ie.MAX_AVG_VARIANCE?new Int32Array([x,E-1]):null}static patternMatchVariance(r,s,o){let c=r.length,u=0,f=0;for(let y=0;y<c;y++)u+=r[y],f+=s[y];if(u<f)return 1/0;let d=u/f;o*=d;let x=0;for(let y=0;y<c;y++){let E=r[y],A=s[y]*d,I=E>A?E-A:A-E;if(I>o)return 1/0;x+=I}return x/u}}Ie.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ie.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ie.MAX_AVG_VARIANCE=.42,Ie.MAX_INDIVIDUAL_VARIANCE=.8,Ie.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ie.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ie.MAX_PIXEL_DRIFT=3,Ie.MAX_PATTERN_DRIFT=5,Ie.SKIPPED_ROW_COUNT_MAX=25,Ie.ROW_STEP=5,Ie.BARCODE_MIN_HEIGHT=10;class Bt{constructor(r,s){if(s.length===0)throw new C;this.field=r;let o=s.length;if(o>1&&s[0]===0){let c=1;for(;c<o&&s[c]===0;)c++;c===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-c),O.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let s=this.coefficients[0],o=this.coefficients.length;for(let c=1;c<o;c++)s=this.field.add(this.field.multiply(r,s),this.coefficients[c]);return s}add(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){let f=s;s=o,o=f}let c=new Int32Array(o.length),u=o.length-s.length;O.arraycopy(o,0,c,0,u);for(let f=u;f<o.length;f++)c[f]=this.field.add(s[f-u],o[f]);return new Bt(this.field,c)}subtract(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof Bt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new Bt(this.field,new Int32Array([0]));let s=this.coefficients,o=s.length,c=r.coefficients,u=c.length,f=new Int32Array(o+u-1);for(let d=0;d<o;d++){let x=s[d];for(let y=0;y<u;y++)f[d+y]=this.field.add(f[d+y],this.field.multiply(x,c[y]))}return new Bt(this.field,f)}negative(){let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.subtract(0,this.coefficients[o]);return new Bt(this.field,s)}multiplyScalar(r){if(r===0)return new Bt(this.field,new Int32Array([0]));if(r===1)return this;let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.multiply(this.coefficients[c],r);return new Bt(this.field,o)}multiplyByMonomial(r,s){if(r<0)throw new C;if(s===0)return new Bt(this.field,new Int32Array([0]));let o=this.coefficients.length,c=new Int32Array(o+r);for(let u=0;u<o;u++)c[u]=this.field.multiply(this.coefficients[u],s);return new Bt(this.field,c)}toString(){let r=new we;for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(s===0||o!==1)&&r.append(o),s!==0&&(s===1?r.append("x"):(r.append("x^"),r.append(s))))}return r.toString()}}class PC{add(r,s){return(r+s)%this.modulus}subtract(r,s){return(this.modulus+r-s)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}inverse(r){if(r===0)throw new wo;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Lu extends PC{constructor(r,s){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let c=0;c<r;c++)this.expTable[c]=o,o=o*s%r;for(let c=0;c<r-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Bt(this,new Int32Array([0])),this.one=new Bt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new C;if(s===0)return this.zero;let o=new Int32Array(r+1);return o[0]=s,new Bt(this,o)}}Lu.PDF417_GF=new Lu(Ce.NUMBER_OF_CODEWORDS,3);class e1{constructor(){this.field=Lu.PDF417_GF}decode(r,s,o){let c=new Bt(this.field,r),u=new Int32Array(s),f=!1;for(let P=s;P>0;P--){let j=c.evaluateAt(this.field.exp(P));u[s-P]=j,j!==0&&(f=!0)}if(!f)return 0;let d=this.field.getOne();if(o!=null)for(const P of o){let j=this.field.exp(r.length-1-P),V=new Bt(this.field,new Int32Array([this.field.subtract(0,j),1]));d=d.multiply(V)}let x=new Bt(this.field,u),y=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),x,s),E=y[0],A=y[1],I=this.findErrorLocations(E),k=this.findErrorMagnitudes(A,E,I);for(let P=0;P<I.length;P++){let j=r.length-1-this.field.log(I[P]);if(j<0)throw _.getChecksumInstance();r[j]=this.field.subtract(r[j],k[P])}return I.length}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){let I=r;r=s,s=I}let c=r,u=s,f=this.field.getZero(),d=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let I=c,k=f;if(c=u,f=d,c.isZero())throw _.getChecksumInstance();u=I;let P=this.field.getZero(),j=c.getCoefficient(c.getDegree()),V=this.field.inverse(j);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let G=u.getDegree()-c.getDegree(),ee=this.field.multiply(u.getCoefficient(u.getDegree()),V);P=P.add(this.field.buildMonomial(G,ee)),u=u.subtract(c.multiplyByMonomial(G,ee))}d=P.multiply(f).subtract(k).negative()}let x=d.getCoefficient(0);if(x===0)throw _.getChecksumInstance();let y=this.field.inverse(x),E=d.multiply(y),A=u.multiply(y);return[E,A]}findErrorLocations(r){let s=r.getDegree(),o=new Int32Array(s),c=0;for(let u=1;u<this.field.getSize()&&c<s;u++)r.evaluateAt(u)===0&&(o[c]=this.field.inverse(u),c++);if(c!==s)throw _.getChecksumInstance();return o}findErrorMagnitudes(r,s,o){let c=s.getDegree(),u=new Int32Array(c);for(let y=1;y<=c;y++)u[c-y]=this.field.multiply(y,s.getCoefficient(y));let f=new Bt(this.field,u),d=o.length,x=new Int32Array(d);for(let y=0;y<d;y++){let E=this.field.inverse(o[y]),A=this.field.subtract(0,r.evaluateAt(E)),I=this.field.inverse(f.evaluateAt(E));x[y]=this.field.multiply(A,I)}return x}}class Gi{constructor(r,s,o,c,u){r instanceof Gi?this.constructor_2(r):this.constructor_1(r,s,o,c,u)}constructor_1(r,s,o,c,u){const f=s==null||o==null,d=c==null||u==null;if(f&&d)throw new Y;f?(s=new ce(0,c.getY()),o=new ce(0,u.getY())):d&&(c=new ce(r.getWidth()-1,s.getY()),u=new ce(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=s,this.bottomLeft=o,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(s.getX(),o.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(s.getY(),c.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,s){return r==null?s:s==null?r:new Gi(r.image,r.topLeft,r.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(r,s,o){let c=this.topLeft,u=this.bottomLeft,f=this.topRight,d=this.bottomRight;if(r>0){let x=o?this.topLeft:this.topRight,y=Math.trunc(x.getY()-r);y<0&&(y=0);let E=new ce(x.getX(),y);o?c=E:f=E}if(s>0){let x=o?this.bottomLeft:this.bottomRight,y=Math.trunc(x.getY()+s);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let E=new ce(x.getX(),y);o?u=E:d=E}return new Gi(this.image,c,u,f,d)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class BC{constructor(r,s,o,c){this.columnCount=r,this.errorCorrectionLevel=c,this.rowCountUpperPart=s,this.rowCountLowerPart=o,this.rowCount=s+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ao{constructor(){this.buffer=""}static form(r,s){let o=-1;function c(f,d,x,y,E,A){if(f==="%%")return"%";if(s[++o]===void 0)return;f=y?parseInt(y.substr(1)):void 0;let I=E?parseInt(E.substr(1)):void 0,k;switch(A){case"s":k=s[o];break;case"c":k=s[o][0];break;case"f":k=parseFloat(s[o]).toFixed(f);break;case"p":k=parseFloat(s[o]).toPrecision(f);break;case"e":k=parseFloat(s[o]).toExponential(f);break;case"x":k=parseInt(s[o]).toString(I||16);break;case"d":k=parseFloat(parseInt(s[o],I||10).toPrecision(f)).toFixed(0);break}k=typeof k=="object"?JSON.stringify(k):(+k).toString(I);let P=parseInt(x),j=x&&x[0]+""=="0"?"0":" ";for(;k.length<P;)k=d!==void 0?k+j:j+k;return k}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}format(r,...s){this.buffer+=Ao.form(r,s)}toString(){return this.buffer}}class So{constructor(r){this.boundingBox=new Gi(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let s=this.getCodeword(r);if(s!=null)return s;for(let o=1;o<So.MAX_NEARBY_DISTANCE;o++){let c=this.imageRowToCodewordIndex(r)-o;if(c>=0&&(s=this.codewords[c],s!=null)||(c=this.imageRowToCodewordIndex(r)+o,c<this.codewords.length&&(s=this.codewords[c],s!=null)))return s}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,s){this.codewords[this.imageRowToCodewordIndex(r)]=s}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Ao;let s=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",s++);continue}r.format("%3d: %3d|%3d%n",s++,o.getRowNumber(),o.getValue())}return r.toString()}}So.MAX_NEARBY_DISTANCE=5;class To{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let s=this.values.get(r);s==null&&(s=0),s++,this.values.set(r,s)}getValue(){let r=-1,s=new Array;for(const[o,c]of this.values.entries()){const u={getKey:()=>o,getValue:()=>c};u.getValue()>r?(r=u.getValue(),s=[],s.push(u.getKey())):u.getValue()===r&&s.push(u.getKey())}return Ce.toIntArray(s)}getConfidence(r){return this.values.get(r)}}class t1 extends So{constructor(r,s){super(r),this._isLeft=s}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,r);let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=-1,y=1,E=0;for(let A=f;A<d;A++){if(s[A]==null)continue;let I=s[A],k=I.getRowNumber()-x;if(k===0)E++;else if(k===1)y=Math.max(y,E),E=1,x=I.getRowNumber();else if(k<0||I.getRowNumber()>=r.getRowCount()||k>A)s[A]=null;else{let P;y>2?P=(y-2)*k:P=k;let j=P>=A;for(let V=1;V<=P&&!j;V++)j=s[A-V]!=null;j?s[A]=null:(x=I.getRowNumber(),E=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let s=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let c=o.getRowNumber();if(c>=s.length)continue;s[c]++}return s}adjustIncompleteIndicatorColumnRowNumbers(r){let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),d=this.getCodewords(),x=-1;for(let y=u;y<f;y++){if(d[y]==null)continue;let E=d[y];E.setRowNumberAsRowIndicatorColumn();let A=E.getRowNumber()-x;A===0||(A===1?x=E.getRowNumber():E.getRowNumber()>=r.getRowCount()?d[y]=null:x=E.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),s=new To,o=new To,c=new To,u=new To;for(let d of r){if(d==null)continue;d.setRowNumberAsRowIndicatorColumn();let x=d.getValue()%30,y=d.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:o.setValue(x*3+1);break;case 1:u.setValue(x/3),c.setValue(x%3);break;case 2:s.setValue(x+1);break}}if(s.getValue().length===0||o.getValue().length===0||c.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+c.getValue()[0]<Ce.MIN_ROWS_IN_BARCODE||o.getValue()[0]+c.getValue()[0]>Ce.MAX_ROWS_IN_BARCODE)return null;let f=new BC(s.getValue()[0],o.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(r,f),f}removeIncorrectCodewords(r,s){for(let o=0;o<r.length;o++){let c=r[o];if(r[o]==null)continue;let u=c.getValue()%30,f=c.getRowNumber();if(f>s.getRowCount()){r[o]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:u*3+1!==s.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(u/3)!==s.getErrorCorrectionLevel()||u%3!==s.getRowCountLowerPart())&&(r[o]=null);break;case 2:u+1!==s.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Io{constructor(r,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Ce.MAX_CODEWORDS_IN_BARCODE,s;do s=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let o=this.detectionResultColumns[s].getCodewords();for(let c=0;c<o.length;c++)o[c]!=null&&(o[c].hasValidRowNumber()||this.adjustRowNumbers(s,c,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&s[o]!=null&&r[o].getRowNumber()===s[o].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[o];u!=null&&(u.setRowNumber(r[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let c=s[o].getRowNumber(),u=0;for(let f=this.barcodeColumnCount+1;f>0&&u<this.ADJUST_ROW_NUMBER_SKIP;f--){let d=this.detectionResultColumns[f].getCodewords()[o];d!=null&&(u=Io.adjustRowNumberIfValid(c,u,d),d.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,s=this.detectionResultColumns[0].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let c=s[o].getRowNumber(),u=0;for(let f=1;f<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;f++){let d=this.detectionResultColumns[f].getCodewords()[o];d!=null&&(u=Io.adjustRowNumberIfValid(c,u,d),d.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,s,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),s=0):++s),s}adjustRowNumbers(r,s,o){if(!this.detectionResultColumns[r-1])return;let c=o[s],u=this.detectionResultColumns[r-1].getCodewords(),f=u;this.detectionResultColumns[r+1]!=null&&(f=this.detectionResultColumns[r+1].getCodewords());let d=new Array(14);d[2]=u[s],d[3]=f[s],s>0&&(d[0]=o[s-1],d[4]=u[s-1],d[5]=f[s-1]),s>1&&(d[8]=o[s-2],d[10]=u[s-2],d[11]=f[s-2]),s<o.length-1&&(d[1]=o[s+1],d[6]=u[s+1],d[7]=f[s+1]),s<o.length-2&&(d[9]=o[s+2],d[12]=u[s+2],d[13]=f[s+2]);for(let x of d)if(Io.adjustRowNumber(c,x))return}static adjustRowNumber(r,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===r.getBucket()?(r.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,s){this.detectionResultColumns[r]=s}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Ao;for(let o=0;o<r.getCodewords().length;o++){s.format("CW %3d:",o);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){s.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[o];if(u==null){s.format("    |   ");continue}s.format(" %3d|%3d",u.getRowNumber(),u.getValue())}s.format("%n")}return s.toString()}}class bo{constructor(r,s,o,c){this.rowNumber=bo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(s),this.bucket=Math.trunc(o),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==bo.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}bo.BARCODE_ROW_UNKNOWN=-1;class cn{static initialize(){for(let r=0;r<Ce.SYMBOL_TABLE.length;r++){let s=Ce.SYMBOL_TABLE[r],o=s&1;for(let c=0;c<Ce.BARS_IN_MODULE;c++){let u=0;for(;(s&1)===o;)u+=1,s>>=1;o=s&1,cn.RATIOS_TABLE[r]||(cn.RATIOS_TABLE[r]=new Array(Ce.BARS_IN_MODULE)),cn.RATIOS_TABLE[r][Ce.BARS_IN_MODULE-c-1]=Math.fround(u/Ce.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let s=cn.getDecodedCodewordValue(cn.sampleBitCounts(r));return s!==-1?s:cn.getClosestDecodedValue(r)}static sampleBitCounts(r){let s=De.sum(r),o=new Int32Array(Ce.BARS_IN_MODULE),c=0,u=0;for(let f=0;f<Ce.MODULES_IN_CODEWORD;f++){let d=s/(2*Ce.MODULES_IN_CODEWORD)+f*s/Ce.MODULES_IN_CODEWORD;u+r[c]<=d&&(u+=r[c],c++),o[c]++}return o}static getDecodedCodewordValue(r){let s=cn.getBitValue(r);return Ce.getCodeword(s)===-1?-1:s}static getBitValue(r){let s=0;for(let o=0;o<r.length;o++)for(let c=0;c<r[o];c++)s=s<<1|(o%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(r){let s=De.sum(r),o=new Array(Ce.BARS_IN_MODULE);if(s>1)for(let f=0;f<o.length;f++)o[f]=Math.fround(r[f]/s);let c=Wa.MAX_VALUE,u=-1;this.bSymbolTableReady||cn.initialize();for(let f=0;f<cn.RATIOS_TABLE.length;f++){let d=0,x=cn.RATIOS_TABLE[f];for(let y=0;y<Ce.BARS_IN_MODULE;y++){let E=Math.fround(x[y]-o[y]);if(d+=Math.fround(E*E),d>=c)break}d<c&&(c=d,u=Ce.SYMBOL_TABLE[f])}return u}}cn.bSymbolTableReady=!1,cn.RATIOS_TABLE=new Array(Ce.SYMBOL_TABLE.length).map(v=>new Array(Ce.BARS_IN_MODULE));class n1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class r1{static parseLong(r,s=void 0){return parseInt(r,s)}}class i1 extends g{}i1.kind="NullPointerException";class FC{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,s,o){if(r==null)throw new i1;if(s<0||s>r.length||o<0||s+o>r.length||s+o<0)throw new L;if(o===0)return;for(let c=0;c<o;c++)this.write(r[s+c])}flush(){}close(){}}class jC extends g{}class UC extends FC{constructor(r=32){if(super(),this.count=0,r<0)throw new C("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new jC;o=b.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,s,o){if(s<0||s>r.length||o<0||s+o-r.length>0)throw new L;this.ensureCapacity(this.count+o),O.arraycopy(r,s,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var We;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(We||(We={}));function s1(){if(typeof window<"u")return window.BigInt||null;if(typeof Ro<"u")return Ro.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let qa;function ri(v){if(typeof qa>"u"&&(qa=s1()),qa===null)throw new Error("BigInt is not supported!");return qa(v)}function VC(){let v=[];v[0]=ri(1);let r=ri(900);v[1]=r;for(let s=2;s<16;s++)v[s]=v[s-1]*r;return v}class H{static decode(r,s){let o=new we(""),c=X.ISO8859_1;o.enableDecoding(c);let u=1,f=r[u++],d=new n1;for(;u<r[0];){switch(f){case H.TEXT_COMPACTION_MODE_LATCH:u=H.textCompaction(r,u,o);break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:u=H.byteCompaction(f,r,c,u,o);break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[u++]);break;case H.NUMERIC_COMPACTION_MODE_LATCH:u=H.numericCompaction(r,u,o);break;case H.ECI_CHARSET:X.getCharacterSetECIByValue(r[u++]);break;case H.ECI_GENERAL_PURPOSE:u+=2;break;case H.ECI_USER_DEFINED:u++;break;case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=H.decodeMacroBlock(r,u,d);break;case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:throw new U;default:u--,u=H.textCompaction(r,u,o);break}if(u<r.length)f=r[u++];else throw U.getFormatInstance()}if(o.length()===0)throw U.getFormatInstance();let x=new Mr(null,o.toString(),null,s);return x.setOther(d),x}static decodeMacroBlock(r,s,o){if(s+H.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw U.getFormatInstance();let c=new Int32Array(H.NUMBER_OF_SEQUENCE_CODEWORDS);for(let d=0;d<H.NUMBER_OF_SEQUENCE_CODEWORDS;d++,s++)c[d]=r[s];o.setSegmentIndex(b.parseInt(H.decodeBase900toBase10(c,H.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new we;s=H.textCompaction(r,s,u),o.setFileId(u.toString());let f=-1;for(r[s]===H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=s+1);s<r[0];)switch(r[s]){case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,r[s]){case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let d=new we;s=H.textCompaction(r,s+1,d),o.setFileName(d.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new we;s=H.textCompaction(r,s+1,x),o.setSender(x.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new we;s=H.textCompaction(r,s+1,y),o.setAddressee(y.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new we;s=H.numericCompaction(r,s+1,E),o.setSegmentCount(b.parseInt(E.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new we;s=H.numericCompaction(r,s+1,A),o.setTimestamp(r1.parseLong(A.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new we;s=H.numericCompaction(r,s+1,I),o.setChecksum(b.parseInt(I.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let k=new we;s=H.numericCompaction(r,s+1,k),o.setFileSize(r1.parseLong(k.toString()));break;default:throw U.getFormatInstance()}break;case H.MACRO_PDF417_TERMINATOR:s++,o.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(f!==-1){let d=s-f;o.isLastSegment()&&d--,o.setOptionalData(N.copyOfRange(r,f,f+d))}return s}static textCompaction(r,s,o){let c=new Int32Array((r[0]-s)*2),u=new Int32Array((r[0]-s)*2),f=0,d=!1;for(;s<r[0]&&!d;){let x=r[s++];if(x<H.TEXT_COMPACTION_MODE_LATCH)c[f]=x/30,c[f+1]=x%30,f+=2;else switch(x){case H.TEXT_COMPACTION_MODE_LATCH:c[f++]=H.TEXT_COMPACTION_MODE_LATCH;break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:s--,d=!0;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[f]=H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=r[s++],u[f]=x,f++;break}}return H.decodeTextCompaction(c,u,f,o),s}static decodeTextCompaction(r,s,o,c){let u=We.ALPHA,f=We.ALPHA,d=0;for(;d<o;){let x=r[d],y="";switch(u){case We.ALPHA:if(x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case H.LL:u=We.LOWER;break;case H.ML:u=We.MIXED;break;case H.PS:f=u,u=We.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:u=We.ALPHA;break}break;case We.LOWER:if(x<26)y=String.fromCharCode(97+x);else switch(x){case 26:y=" ";break;case H.AS:f=u,u=We.ALPHA_SHIFT;break;case H.ML:u=We.MIXED;break;case H.PS:f=u,u=We.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:u=We.ALPHA;break}break;case We.MIXED:if(x<H.PL)y=H.MIXED_CHARS[x];else switch(x){case H.PL:u=We.PUNCT;break;case 26:y=" ";break;case H.LL:u=We.LOWER;break;case H.AL:u=We.ALPHA;break;case H.PS:f=u,u=We.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:u=We.ALPHA;break}break;case We.PUNCT:if(x<H.PAL)y=H.PUNCT_CHARS[x];else switch(x){case H.PAL:u=We.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:u=We.ALPHA;break}break;case We.ALPHA_SHIFT:if(u=f,x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case H.TEXT_COMPACTION_MODE_LATCH:u=We.ALPHA;break}break;case We.PUNCT_SHIFT:if(u=f,x<H.PAL)y=H.PUNCT_CHARS[x];else switch(x){case H.PAL:u=We.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[d]);break;case H.TEXT_COMPACTION_MODE_LATCH:u=We.ALPHA;break}break}y!==""&&c.append(y),d++}}static byteCompaction(r,s,o,c,u){let f=new UC,d=0,x=0,y=!1;switch(r){case H.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),A=s[c++];for(;c<s[0]&&!y;)switch(E[d++]=A,x=900*x+A,A=s[c++],A){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:c--,y=!0;break;default:if(d%5===0&&d>0){for(let I=0;I<6;++I)f.write(Number(ri(x)>>ri(8*(5-I))));x=0,d=0}break}c===s[0]&&A<H.TEXT_COMPACTION_MODE_LATCH&&(E[d++]=A);for(let I=0;I<d;I++)f.write(E[I]);break;case H.BYTE_COMPACTION_MODE_LATCH_6:for(;c<s[0]&&!y;){let I=s[c++];if(I<H.TEXT_COMPACTION_MODE_LATCH)d++,x=900*x+I;else switch(I){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:c--,y=!0;break}if(d%5===0&&d>0){for(let k=0;k<6;++k)f.write(Number(ri(x)>>ri(8*(5-k))));x=0,d=0}}break}return u.append(_e.decode(f.toByteArray(),o)),c}static numericCompaction(r,s,o){let c=0,u=!1,f=new Int32Array(H.MAX_NUMERIC_CODEWORDS);for(;s<r[0]&&!u;){let d=r[s++];if(s===r[0]&&(u=!0),d<H.TEXT_COMPACTION_MODE_LATCH)f[c]=d,c++;else switch(d){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:s--,u=!0;break}(c%H.MAX_NUMERIC_CODEWORDS===0||d===H.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(o.append(H.decodeBase900toBase10(f,c)),c=0)}return s}static decodeBase900toBase10(r,s){let o=ri(0);for(let u=0;u<s;u++)o+=H.EXP900[s-u-1]*ri(r[u]);let c=o.toString();if(c.charAt(0)!=="1")throw new U;return c.substring(1)}}H.TEXT_COMPACTION_MODE_LATCH=900,H.BYTE_COMPACTION_MODE_LATCH=901,H.NUMERIC_COMPACTION_MODE_LATCH=902,H.BYTE_COMPACTION_MODE_LATCH_6=924,H.ECI_USER_DEFINED=925,H.ECI_GENERAL_PURPOSE=926,H.ECI_CHARSET=927,H.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,H.MACRO_PDF417_TERMINATOR=922,H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,H.MAX_NUMERIC_CODEWORDS=15,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,H.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,H.PL=25,H.LL=27,H.AS=27,H.ML=28,H.AL=28,H.PS=29,H.PAL=29,H.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,H.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",H.EXP900=s1()?VC():[],H.NUMBER_OF_SEQUENCE_CODEWORDS=2;class be{constructor(){}static decode(r,s,o,c,u,f,d){let x=new Gi(r,s,o,c,u),y=null,E=null,A;for(let P=!0;;P=!1){if(s!=null&&(y=be.getRowIndicatorColumn(r,x,s,!0,f,d)),c!=null&&(E=be.getRowIndicatorColumn(r,x,c,!1,f,d)),A=be.merge(y,E),A==null)throw Y.getNotFoundInstance();let j=A.getBoundingBox();if(P&&j!=null&&(j.getMinY()<x.getMinY()||j.getMaxY()>x.getMaxY()))x=j;else break}A.setBoundingBox(x);let I=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,y),A.setDetectionResultColumn(I,E);let k=y!=null;for(let P=1;P<=I;P++){let j=k?P:I-P;if(A.getDetectionResultColumn(j)!==void 0)continue;let V;j===0||j===I?V=new t1(x,j===0):V=new So(x),A.setDetectionResultColumn(j,V);let G=-1,ee=G;for(let te=x.getMinY();te<=x.getMaxY();te++){if(G=be.getStartColumn(A,j,te,k),G<0||G>x.getMaxX()){if(ee===-1)continue;G=ee}let $=be.detectCodeword(r,x.getMinX(),x.getMaxX(),k,G,te,f,d);$!=null&&(V.setCodeword(te,$),ee=G,f=Math.min(f,$.getWidth()),d=Math.max(d,$.getWidth()))}}return be.createDecoderResult(A)}static merge(r,s){if(r==null&&s==null)return null;let o=be.getBarcodeMetadata(r,s);if(o==null)return null;let c=Gi.merge(be.adjustBoundingBox(r),be.adjustBoundingBox(s));return new Io(o,c)}static adjustBoundingBox(r){if(r==null)return null;let s=r.getRowHeights();if(s==null)return null;let o=be.getMax(s),c=0;for(let d of s)if(c+=o-d,d>0)break;let u=r.getCodewords();for(let d=0;c>0&&u[d]==null;d++)c--;let f=0;for(let d=s.length-1;d>=0&&(f+=o-s[d],!(s[d]>0));d--);for(let d=u.length-1;f>0&&u[d]==null;d--)f--;return r.getBoundingBox().addMissingRows(c,f,r.isLeft())}static getMax(r){let s=-1;for(let o of r)s=Math.max(s,o);return s}static getBarcodeMetadata(r,s){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let c;return s==null||(c=s.getBarcodeMetadata())==null?o:o.getColumnCount()!==c.getColumnCount()&&o.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&o.getRowCount()!==c.getRowCount()?null:o}static getRowIndicatorColumn(r,s,o,c,u,f){let d=new t1(s,c);for(let x=0;x<2;x++){let y=x===0?1:-1,E=Math.trunc(Math.trunc(o.getX()));for(let A=Math.trunc(Math.trunc(o.getY()));A<=s.getMaxY()&&A>=s.getMinY();A+=y){let I=be.detectCodeword(r,0,r.getWidth(),c,E,A,u,f);I!=null&&(d.setCodeword(A,I),c?E=I.getStartX():E=I.getEndX())}}return d}static adjustCodewordCount(r,s){let o=s[0][1],c=o.getValue(),u=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-be.getNumberOfECCodeWords(r.getBarcodeECLevel());if(c.length===0){if(u<1||u>Ce.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();o.setValue(u)}else c[0]!==u&&o.setValue(u)}static createDecoderResult(r){let s=be.createBarcodeMatrix(r);be.adjustCodewordCount(r,s);let o=new Array,c=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),u=[],f=new Array;for(let x=0;x<r.getBarcodeRowCount();x++)for(let y=0;y<r.getBarcodeColumnCount();y++){let E=s[x][y+1].getValue(),A=x*r.getBarcodeColumnCount()+y;E.length===0?o.push(A):E.length===1?c[A]=E[0]:(f.push(A),u.push(E))}let d=new Array(u.length);for(let x=0;x<d.length;x++)d[x]=u[x];return be.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),c,Ce.toIntArray(o),Ce.toIntArray(f),d)}static createDecoderResultFromAmbiguousValues(r,s,o,c,u){let f=new Int32Array(c.length),d=100;for(;d-- >0;){for(let x=0;x<f.length;x++)s[c[x]]=u[x][f[x]];try{return be.decodeCodewords(s,r,o)}catch(x){if(!(x instanceof _))throw x}if(f.length===0)throw _.getChecksumInstance();for(let x=0;x<f.length;x++)if(f[x]<u[x].length-1){f[x]++;break}else if(f[x]=0,x===f.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(r){let s=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let c=0;c<s.length;c++)for(let u=0;u<s[c].length;u++)s[c][u]=new To;let o=0;for(let c of r.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let f=u.getRowNumber();if(f>=0){if(f>=s.length)continue;s[f][o].setValue(u.getValue())}}}o++}return s}static isValidBarcodeColumn(r,s){return s>=0&&s<=r.getBarcodeColumnCount()+1}static getStartColumn(r,s,o,c){let u=c?1:-1,f=null;if(be.isValidBarcodeColumn(r,s-u)&&(f=r.getDetectionResultColumn(s-u).getCodeword(o)),f!=null)return c?f.getEndX():f.getStartX();if(f=r.getDetectionResultColumn(s).getCodewordNearby(o),f!=null)return c?f.getStartX():f.getEndX();if(be.isValidBarcodeColumn(r,s-u)&&(f=r.getDetectionResultColumn(s-u).getCodewordNearby(o)),f!=null)return c?f.getEndX():f.getStartX();let d=0;for(;be.isValidBarcodeColumn(r,s-u);){s-=u;for(let x of r.getDetectionResultColumn(s).getCodewords())if(x!=null)return(c?x.getEndX():x.getStartX())+u*d*(x.getEndX()-x.getStartX());d++}return c?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,s,o,c,u,f,d,x){u=be.adjustCodewordStartColumn(r,s,o,c,u,f);let y=be.getModuleBitCount(r,s,o,c,u,f);if(y==null)return null;let E,A=De.sum(y);if(c)E=u+A;else{for(let P=0;P<y.length/2;P++){let j=y[P];y[P]=y[y.length-1-P],y[y.length-1-P]=j}E=u,u=E-A}if(!be.checkCodewordSkew(A,d,x))return null;let I=cn.getDecodedValue(y),k=Ce.getCodeword(I);return k===-1?null:new bo(u,E,be.getCodewordBucketNumber(I),k)}static getModuleBitCount(r,s,o,c,u,f){let d=u,x=new Int32Array(8),y=0,E=c?1:-1,A=c;for(;(c?d<o:d>=s)&&y<x.length;)r.get(d,f)===A?(x[y]++,d+=E):(y++,A=!A);return y===x.length||d===(c?o:s)&&y===x.length-1?x:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,s,o,c,u,f){let d=u,x=c?-1:1;for(let y=0;y<2;y++){for(;(c?d>=s:d<o)&&c===r.get(d,f);){if(Math.abs(u-d)>be.CODEWORD_SKEW_SIZE)return u;d+=x}x=-x,c=!c}return d}static checkCodewordSkew(r,s,o){return s-be.CODEWORD_SKEW_SIZE<=r&&r<=o+be.CODEWORD_SKEW_SIZE}static decodeCodewords(r,s,o){if(r.length===0)throw U.getFormatInstance();let c=1<<s+1,u=be.correctErrors(r,o,c);be.verifyCodewordCount(r,c);let f=H.decode(r,""+s);return f.setErrorsCorrected(u),f.setErasures(o.length),f}static correctErrors(r,s,o){if(s!=null&&s.length>o/2+be.MAX_ERRORS||o<0||o>be.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return be.errorCorrection.decode(r,o,s)}static verifyCodewordCount(r,s){if(r.length<4)throw U.getFormatInstance();let o=r[0];if(o>r.length)throw U.getFormatInstance();if(o===0)if(s<r.length)r[0]=r.length-s;else throw U.getFormatInstance()}static getBitCountForCodeword(r){let s=new Int32Array(8),o=0,c=s.length-1;for(;!((r&1)!==o&&(o=r&1,c--,c<0));)s[c]++,r>>=1;return s}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return be.getCodewordBucketNumber(be.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let s=new Ao;for(let o=0;o<r.length;o++){s.format("Row %2d: ",o);for(let c=0;c<r[o].length;c++){let u=r[o][c];u.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}s.format("%n")}return s.toString()}}be.CODEWORD_SKEW_SIZE=2,be.MAX_ERRORS=3,be.MAX_EC_CODEWORDS=512,be.errorCorrection=new e1;class Ft{decode(r,s=null){let o=Ft.decode(r,s,!1);if(o==null||o.length===0||o[0]==null)throw Y.getNotFoundInstance();return o[0]}decodeMultiple(r,s=null){try{return Ft.decode(r,s,!0)}catch(o){throw o instanceof U||o instanceof _?Y.getNotFoundInstance():o}}static decode(r,s,o){const c=new Array,u=Ie.detectMultiple(r,s,o);for(const f of u.getPoints()){const d=be.decode(u.getBits(),f[4],f[5],f[6],f[7],Ft.getMinCodewordWidth(f),Ft.getMaxCodewordWidth(f)),x=new Pe(d.getText(),d.getRawBytes(),void 0,f,le.PDF_417);x.putMetadata(wt.ERROR_CORRECTION_LEVEL,d.getECLevel());const y=d.getOther();y!=null&&x.putMetadata(wt.PDF417_EXTRA_METADATA,y),c.push(x)}return c.map(f=>f)}static getMaxWidth(r,s){return r==null||s==null?0:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMinWidth(r,s){return r==null||s==null?b.MAX_VALUE:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Ft.getMaxWidth(r[0],r[4]),Ft.getMaxWidth(r[6],r[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.max(Ft.getMaxWidth(r[1],r[5]),Ft.getMaxWidth(r[7],r[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Ft.getMinWidth(r[0],r[4]),Ft.getMinWidth(r[6],r[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.min(Ft.getMinWidth(r[1],r[5]),Ft.getMinWidth(r[7],r[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}reset(){}}class $a extends g{}$a.kind="ReaderException";class o1{constructor(r,s){this.verbose=r===!0,s&&this.setHints(s)}decode(r,s){return s&&this.setHints(s),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const s=!i(r)&&r.get(Z.TRY_HARDER)===!0,o=i(r)?null:r.get(Z.POSSIBLE_FORMATS),c=new Array;if(!i(o)){const u=o.some(f=>f===le.UPC_A||f===le.UPC_E||f===le.EAN_13||f===le.EAN_8||f===le.CODABAR||f===le.CODE_39||f===le.CODE_93||f===le.CODE_128||f===le.ITF||f===le.RSS_14||f===le.RSS_EXPANDED);u&&!s&&c.push(new As(r,this.verbose)),o.includes(le.QR_CODE)&&c.push(new ni),o.includes(le.DATA_MATRIX)&&c.push(new ti),o.includes(le.AZTEC)&&c.push(new Xa),o.includes(le.PDF_417)&&c.push(new Ft),u&&s&&c.push(new As(r,this.verbose))}c.length===0&&(s||c.push(new As(r,this.verbose)),c.push(new ni),c.push(new ti),c.push(new Xa),c.push(new Ft),s&&c.push(new As(r,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new $a("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(r,this.hints)}catch(o){if(o instanceof $a)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class zC extends It{constructor(r=null,s=500){const o=new o1;o.setHints(r),super(o,s)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class HC extends It{constructor(r=500){super(new Ft,r)}}class WC extends It{constructor(r=500){super(new ni,r)}}var Pu;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(Pu||(Pu={}));var _t=Pu;class Bu{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new ct(r,Int32Array.from([1])))}buildGenerator(r){const s=this.cachedGenerators;if(r>=s.length){let o=s[s.length-1];const c=this.field;for(let u=s.length;u<=r;u++){const f=o.multiply(new ct(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));s.push(f),o=f}}return s[r]}encode(r,s){if(s===0)throw new C("No error correction bytes");const o=r.length-s;if(o<=0)throw new C("No data bytes provided");const c=this.buildGenerator(s),u=new Int32Array(o);O.arraycopy(r,0,u,0,o);let f=new ct(this.field,u);f=f.multiplyByMonomial(s,1);const x=f.divide(c)[1].getCoefficients(),y=s-x.length;for(let E=0;E<y;E++)r[o+E]=0;O.arraycopy(x,0,r,o+y,x.length)}}class ht{constructor(){}static applyMaskPenaltyRule1(r){return ht.applyMaskPenaltyRule1Internal(r,!0)+ht.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let s=0;const o=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let f=0;f<u-1;f++){const d=o[f];for(let x=0;x<c-1;x++){const y=d[x];y===d[x+1]&&y===o[f+1][x]&&y===o[f+1][x+1]&&s++}}return ht.N2*s}static applyMaskPenaltyRule3(r){let s=0;const o=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let f=0;f<u;f++)for(let d=0;d<c;d++){const x=o[f];d+6<c&&x[d]===1&&x[d+1]===0&&x[d+2]===1&&x[d+3]===1&&x[d+4]===1&&x[d+5]===0&&x[d+6]===1&&(ht.isWhiteHorizontal(x,d-4,d)||ht.isWhiteHorizontal(x,d+7,d+11))&&s++,f+6<u&&o[f][d]===1&&o[f+1][d]===0&&o[f+2][d]===1&&o[f+3][d]===1&&o[f+4][d]===1&&o[f+5][d]===0&&o[f+6][d]===1&&(ht.isWhiteVertical(o,d,f-4,f)||ht.isWhiteVertical(o,d,f+7,f+11))&&s++}return s*ht.N3}static isWhiteHorizontal(r,s,o){s=Math.max(s,0),o=Math.min(o,r.length);for(let c=s;c<o;c++)if(r[c]===1)return!1;return!0}static isWhiteVertical(r,s,o,c){o=Math.max(o,0),c=Math.min(c,r.length);for(let u=o;u<c;u++)if(r[u][s]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let s=0;const o=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let x=0;x<u;x++){const y=o[x];for(let E=0;E<c;E++)y[E]===1&&s++}const f=r.getHeight()*r.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*ht.N4}static getDataMaskBit(r,s,o){let c,u;switch(r){case 0:c=o+s&1;break;case 1:c=o&1;break;case 2:c=s%3;break;case 3:c=(o+s)%3;break;case 4:c=Math.floor(o/2)+Math.floor(s/3)&1;break;case 5:u=o*s,c=(u&1)+u%3;break;case 6:u=o*s,c=(u&1)+u%3&1;break;case 7:u=o*s,c=u%3+(o+s&1)&1;break;default:throw new C("Invalid mask pattern: "+r)}return c===0}static applyMaskPenaltyRule1Internal(r,s){let o=0;const c=s?r.getHeight():r.getWidth(),u=s?r.getWidth():r.getHeight(),f=r.getArray();for(let d=0;d<c;d++){let x=0,y=-1;for(let E=0;E<u;E++){const A=s?f[d][E]:f[E][d];A===y?x++:(x>=5&&(o+=ht.N1+(x-5)),x=1,y=A)}x>=5&&(o+=ht.N1+(x-5))}return o}}ht.N1=3,ht.N2=3,ht.N3=40,ht.N4=10;class Ja{constructor(r,s){this.width=r,this.height=s;const o=new Array(s);for(let c=0;c!==s;c++)o[c]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,s){return this.bytes[s][r]}getArray(){return this.bytes}setNumber(r,s,o){this.bytes[s][r]=o}setBoolean(r,s,o){this.bytes[s][r]=o?1:0}clear(r){for(const s of this.bytes)N.fill(s,r)}equals(r){if(!(r instanceof Ja))return!1;const s=r;if(this.width!==s.width||this.height!==s.height)return!1;for(let o=0,c=this.height;o<c;++o){const u=this.bytes[o],f=s.bytes[o];for(let d=0,x=this.width;d<x;++d)if(u[d]!==f[d])return!1}return!0}toString(){const r=new we;for(let s=0,o=this.height;s<o;++s){const c=this.bytes[s];for(let u=0,f=this.width;u<f;++u)switch(c[u]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Xi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new we;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Xi.NUM_MASK_PATTERNS}}Xi.NUM_MASK_PATTERNS=8;class Xe extends g{}Xe.kind="WriterException";class ye{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,s,o,c,u){ye.clearMatrix(u),ye.embedBasicPatterns(o,u),ye.embedTypeInfo(s,c,u),ye.maybeEmbedVersionInfo(o,u),ye.embedDataBits(r,c,u)}static embedBasicPatterns(r,s){ye.embedPositionDetectionPatternsAndSeparators(s),ye.embedDarkDotAtLeftBottomCorner(s),ye.maybeEmbedPositionAdjustmentPatterns(r,s),ye.embedTimingPatterns(s)}static embedTypeInfo(r,s,o){const c=new F;ye.makeTypeInfoBits(r,s,c);for(let u=0,f=c.getSize();u<f;++u){const d=c.get(c.getSize()-1-u),x=ye.TYPE_INFO_COORDINATES[u],y=x[0],E=x[1];if(o.setBoolean(y,E,d),u<8){const A=o.getWidth()-u-1,I=8;o.setBoolean(A,I,d)}else{const I=o.getHeight()-7+(u-8);o.setBoolean(8,I,d)}}}static maybeEmbedVersionInfo(r,s){if(r.getVersionNumber()<7)return;const o=new F;ye.makeVersionInfoBits(r,o);let c=6*3-1;for(let u=0;u<6;++u)for(let f=0;f<3;++f){const d=o.get(c);c--,s.setBoolean(u,s.getHeight()-11+f,d),s.setBoolean(s.getHeight()-11+f,u,d)}}static embedDataBits(r,s,o){let c=0,u=-1,f=o.getWidth()-1,d=o.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);d>=0&&d<o.getHeight();){for(let x=0;x<2;++x){const y=f-x;if(!ye.isEmpty(o.get(y,d)))continue;let E;c<r.getSize()?(E=r.get(c),++c):E=!1,s!==255&&ht.getDataMaskBit(s,y,d)&&(E=!E),o.setBoolean(y,d,E)}d+=u}u=-u,d+=u,f-=2}if(c!==r.getSize())throw new Xe("Not all bits consumed: "+c+"/"+r.getSize())}static findMSBSet(r){return 32-b.numberOfLeadingZeros(r)}static calculateBCHCode(r,s){if(s===0)throw new C("0 polynomial");const o=ye.findMSBSet(s);for(r<<=o-1;ye.findMSBSet(r)>=o;)r^=s<<ye.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,s,o){if(!Xi.isValidMaskPattern(s))throw new Xe("Invalid mask pattern");const c=r.getBits()<<3|s;o.appendBits(c,5);const u=ye.calculateBCHCode(c,ye.TYPE_INFO_POLY);o.appendBits(u,10);const f=new F;if(f.appendBits(ye.TYPE_INFO_MASK_PATTERN,15),o.xor(f),o.getSize()!==15)throw new Xe("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,s){s.appendBits(r.getVersionNumber(),6);const o=ye.calculateBCHCode(r.getVersionNumber(),ye.VERSION_INFO_POLY);if(s.appendBits(o,12),s.getSize()!==18)throw new Xe("should not happen but we got: "+s.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let s=8;s<r.getWidth()-8;++s){const o=(s+1)%2;ye.isEmpty(r.get(s,6))&&r.setNumber(s,6,o),ye.isEmpty(r.get(6,s))&&r.setNumber(6,s,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Xe;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,s,o){for(let c=0;c<8;++c){if(!ye.isEmpty(o.get(r+c,s)))throw new Xe;o.setNumber(r+c,s,0)}}static embedVerticalSeparationPattern(r,s,o){for(let c=0;c<7;++c){if(!ye.isEmpty(o.get(r,s+c)))throw new Xe;o.setNumber(r,s+c,0)}}static embedPositionAdjustmentPattern(r,s,o){for(let c=0;c<5;++c){const u=ye.POSITION_ADJUSTMENT_PATTERN[c];for(let f=0;f<5;++f)o.setNumber(r+f,s+c,u[f])}}static embedPositionDetectionPattern(r,s,o){for(let c=0;c<7;++c){const u=ye.POSITION_DETECTION_PATTERN[c];for(let f=0;f<7;++f)o.setNumber(r+f,s+c,u[f])}}static embedPositionDetectionPatternsAndSeparators(r){const s=ye.POSITION_DETECTION_PATTERN[0].length;ye.embedPositionDetectionPattern(0,0,r),ye.embedPositionDetectionPattern(r.getWidth()-s,0,r),ye.embedPositionDetectionPattern(0,r.getWidth()-s,r);const o=8;ye.embedHorizontalSeparationPattern(0,o-1,r),ye.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),ye.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const c=7;ye.embedVerticalSeparationPattern(c,0,r),ye.embedVerticalSeparationPattern(r.getHeight()-c-1,0,r),ye.embedVerticalSeparationPattern(c,r.getHeight()-c,r)}static maybeEmbedPositionAdjustmentPatterns(r,s){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,c=ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,f=c.length;u!==f;u++){const d=c[u];if(d>=0)for(let x=0;x!==f;x++){const y=c[x];y>=0&&ye.isEmpty(s.get(y,d))&&ye.embedPositionAdjustmentPattern(y-2,d-2,s)}}}}ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ye.VERSION_INFO_POLY=7973,ye.TYPE_INFO_POLY=1335,ye.TYPE_INFO_MASK_PATTERN=21522;class GC{constructor(r,s){this.dataBytes=r,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class $e{constructor(){}static calculateMaskPenalty(r){return ht.applyMaskPenaltyRule1(r)+ht.applyMaskPenaltyRule2(r)+ht.applyMaskPenaltyRule3(r)+ht.applyMaskPenaltyRule4(r)}static encode(r,s,o=null){let c=$e.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(_t.CHARACTER_SET)!==void 0;u&&(c=o.get(_t.CHARACTER_SET).toString());const f=this.chooseMode(r,c),d=new F;if(f===ge.BYTE&&(u||$e.DEFAULT_BYTE_MODE_ENCODING!==c)){const te=X.getCharacterSetECIByName(c);te!==void 0&&this.appendECI(te,d)}this.appendModeInfo(f,d);const x=new F;this.appendBytes(r,f,x,c);let y;if(o!==null&&o.get(_t.QR_VERSION)!==void 0){const te=Number.parseInt(o.get(_t.QR_VERSION).toString(),10);y=pe.getVersionForNumber(te);const $=this.calculateBitsNeeded(f,d,x,y);if(!this.willFit($,y,s))throw new Xe("Data too big for requested version")}else y=this.recommendVersion(s,f,d,x);const E=new F;E.appendBitArray(d);const A=f===ge.BYTE?x.getSizeInBytes():r.length;this.appendLengthInfo(A,y,f,E),E.appendBitArray(x);const I=y.getECBlocksForLevel(s),k=y.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(k,E);const P=this.interleaveWithECBytes(E,y.getTotalCodewords(),k,I.getNumBlocks()),j=new Xi;j.setECLevel(s),j.setMode(f),j.setVersion(y);const V=y.getDimensionForVersion(),G=new Ja(V,V),ee=this.chooseMaskPattern(P,s,y,G);return j.setMaskPattern(ee),ye.buildMatrix(P,s,y,ee,G),j.setMatrix(G),j}static recommendVersion(r,s,o,c){const u=this.calculateBitsNeeded(s,o,c,pe.getVersionForNumber(1)),f=this.chooseVersion(u,r),d=this.calculateBitsNeeded(s,o,c,f);return this.chooseVersion(d,r)}static calculateBitsNeeded(r,s,o,c){return s.getSize()+r.getCharacterCountBits(c)+o.getSize()}static getAlphanumericCode(r){return r<$e.ALPHANUMERIC_TABLE.length?$e.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,s=null){if(X.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(r))return ge.KANJI;let o=!1,c=!1;for(let u=0,f=r.length;u<f;++u){const d=r.charAt(u);if($e.isDigit(d))o=!0;else if(this.getAlphanumericCode(d.charCodeAt(0))!==-1)c=!0;else return ge.BYTE}return c?ge.ALPHANUMERIC:o?ge.NUMERIC:ge.BYTE}static isOnlyDoubleByteKanji(r){let s;try{s=_e.encode(r,X.SJIS)}catch{return!1}const o=s.length;if(o%2!==0)return!1;for(let c=0;c<o;c+=2){const u=s[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(r,s,o,c){let u=Number.MAX_SAFE_INTEGER,f=-1;for(let d=0;d<Xi.NUM_MASK_PATTERNS;d++){ye.buildMatrix(r,s,o,d,c);let x=this.calculateMaskPenalty(c);x<u&&(u=x,f=d)}return f}static chooseVersion(r,s){for(let o=1;o<=40;o++){const c=pe.getVersionForNumber(o);if($e.willFit(r,c,s))return c}throw new Xe("Data too big")}static willFit(r,s,o){const c=s.getTotalCodewords(),f=s.getECBlocksForLevel(o).getTotalECCodewords(),d=c-f,x=(r+7)/8;return d>=x}static terminateBits(r,s){const o=r*8;if(s.getSize()>o)throw new Xe("data bits cannot fit in the QR Code"+s.getSize()+" > "+o);for(let f=0;f<4&&s.getSize()<o;++f)s.appendBit(!1);const c=s.getSize()&7;if(c>0)for(let f=c;f<8;f++)s.appendBit(!1);const u=r-s.getSizeInBytes();for(let f=0;f<u;++f)s.appendBits(f&1?17:236,8);if(s.getSize()!==o)throw new Xe("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,s,o,c,u,f){if(c>=o)throw new Xe("Block ID too large");const d=r%o,x=o-d,y=Math.floor(r/o),E=y+1,A=Math.floor(s/o),I=A+1,k=y-A,P=E-I;if(k!==P)throw new Xe("EC bytes mismatch");if(o!==x+d)throw new Xe("RS blocks mismatch");if(r!==(A+k)*x+(I+P)*d)throw new Xe("Total bytes mismatch");c<x?(u[0]=A,f[0]=k):(u[0]=I,f[0]=P)}static interleaveWithECBytes(r,s,o,c){if(r.getSizeInBytes()!==o)throw new Xe("Number of bits and data bytes does not match");let u=0,f=0,d=0;const x=new Array;for(let E=0;E<c;++E){const A=new Int32Array(1),I=new Int32Array(1);$e.getNumDataBytesAndNumECBytesForBlockID(s,o,c,E,A,I);const k=A[0],P=new Uint8Array(k);r.toBytes(8*u,P,0,k);const j=$e.generateECBytes(P,I[0]);x.push(new GC(P,j)),f=Math.max(f,k),d=Math.max(d,j.length),u+=A[0]}if(o!==u)throw new Xe("Data bytes does not match offset");const y=new F;for(let E=0;E<f;++E)for(const A of x){const I=A.getDataBytes();E<I.length&&y.appendBits(I[E],8)}for(let E=0;E<d;++E)for(const A of x){const I=A.getErrorCorrectionBytes();E<I.length&&y.appendBits(I[E],8)}if(s!==y.getSizeInBytes())throw new Xe("Interleaving error: "+s+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(r,s){const o=r.length,c=new Int32Array(o+s);for(let f=0;f<o;f++)c[f]=r[f]&255;new Bu(Be.QR_CODE_FIELD_256).encode(c,s);const u=new Uint8Array(s);for(let f=0;f<s;f++)u[f]=c[o+f];return u}static appendModeInfo(r,s){s.appendBits(r.getBits(),4)}static appendLengthInfo(r,s,o,c){const u=o.getCharacterCountBits(s);if(r>=1<<u)throw new Xe(r+" is bigger than "+((1<<u)-1));c.appendBits(r,u)}static appendBytes(r,s,o,c){switch(s){case ge.NUMERIC:$e.appendNumericBytes(r,o);break;case ge.ALPHANUMERIC:$e.appendAlphanumericBytes(r,o);break;case ge.BYTE:$e.append8BitBytes(r,o,c);break;case ge.KANJI:$e.appendKanjiBytes(r,o);break;default:throw new Xe("Invalid mode: "+s)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const s=$e.getDigit(r);return s>=0&&s<=9}static appendNumericBytes(r,s){const o=r.length;let c=0;for(;c<o;){const u=$e.getDigit(r.charAt(c));if(c+2<o){const f=$e.getDigit(r.charAt(c+1)),d=$e.getDigit(r.charAt(c+2));s.appendBits(u*100+f*10+d,10),c+=3}else if(c+1<o){const f=$e.getDigit(r.charAt(c+1));s.appendBits(u*10+f,7),c+=2}else s.appendBits(u,4),c++}}static appendAlphanumericBytes(r,s){const o=r.length;let c=0;for(;c<o;){const u=$e.getAlphanumericCode(r.charCodeAt(c));if(u===-1)throw new Xe;if(c+1<o){const f=$e.getAlphanumericCode(r.charCodeAt(c+1));if(f===-1)throw new Xe;s.appendBits(u*45+f,11),c+=2}else s.appendBits(u,6),c++}}static append8BitBytes(r,s,o){let c;try{c=_e.encode(r,o)}catch(u){throw new Xe(u)}for(let u=0,f=c.length;u!==f;u++){const d=c[u];s.appendBits(d,8)}}static appendKanjiBytes(r,s){let o;try{o=_e.encode(r,X.SJIS)}catch(u){throw new Xe(u)}const c=o.length;for(let u=0;u<c;u+=2){const f=o[u]&255,d=o[u+1]&255,x=f<<8&4294967295|d;let y=-1;if(x>=33088&&x<=40956?y=x-33088:x>=57408&&x<=60351&&(y=x-49472),y===-1)throw new Xe("Invalid byte sequence");const E=(y>>8)*192+(y&255);s.appendBits(E,13)}}static appendECI(r,s){s.appendBits(ge.ECI.getBits(),4),s.appendBits(r.getValue(),8)}}$e.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),$e.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class Yi{write(r,s,o,c=null){if(r.length===0)throw new C("Found empty contents");if(s<0||o<0)throw new C("Requested dimensions are too small: "+s+"x"+o);let u=Ke.L,f=Yi.QUIET_ZONE_SIZE;c!==null&&(c.get(_t.ERROR_CORRECTION)!==void 0&&(u=Ke.fromString(c.get(_t.ERROR_CORRECTION).toString())),c.get(_t.MARGIN)!==void 0&&(f=Number.parseInt(c.get(_t.MARGIN).toString(),10)));const d=$e.encode(r,u,c);return this.renderResult(d,s,o,f)}writeToDom(r,s,o,c,u=null){typeof r=="string"&&(r=document.querySelector(r));const f=this.write(s,o,c,u);r&&r.appendChild(f)}renderResult(r,s,o,c){const u=r.getMatrix();if(u===null)throw new fr;const f=u.getWidth(),d=u.getHeight(),x=f+c*2,y=d+c*2,E=Math.max(s,x),A=Math.max(o,y),I=Math.min(Math.floor(E/x),Math.floor(A/y)),k=Math.floor((E-f*I)/2),P=Math.floor((A-d*I)/2),j=this.createSVGElement(E,A);for(let V=0,G=P;V<d;V++,G+=I)for(let ee=0,te=k;ee<f;ee++,te+=I)if(u.get(ee,V)===1){const $=this.createSvgRectElement(te,G,I,I);j.appendChild($)}return j}createSVGElement(r,s){const o=document.createElementNS(Yi.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o}createSvgRectElement(r,s,o,c){const u=document.createElementNS(Yi.SVG_NS,"rect");return u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",s.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Yi.QUIET_ZONE_SIZE=4,Yi.SVG_NS="http://www.w3.org/2000/svg";class Ts{encode(r,s,o,c,u){if(r.length===0)throw new C("Found empty contents");if(s!==le.QR_CODE)throw new C("Can only encode QR_CODE, but got "+s);if(o<0||c<0)throw new C(`Requested dimensions are too small: ${o}x${c}`);let f=Ke.L,d=Ts.QUIET_ZONE_SIZE;u!==null&&(u.get(_t.ERROR_CORRECTION)!==void 0&&(f=Ke.fromString(u.get(_t.ERROR_CORRECTION).toString())),u.get(_t.MARGIN)!==void 0&&(d=Number.parseInt(u.get(_t.MARGIN).toString(),10)));const x=$e.encode(r,f,u);return Ts.renderResult(x,o,c,d)}static renderResult(r,s,o,c){const u=r.getMatrix();if(u===null)throw new fr;const f=u.getWidth(),d=u.getHeight(),x=f+c*2,y=d+c*2,E=Math.max(s,x),A=Math.max(o,y),I=Math.min(Math.floor(E/x),Math.floor(A/y)),k=Math.floor((E-f*I)/2),P=Math.floor((A-d*I)/2),j=new Ae(E,A);for(let V=0,G=P;V<d;V++,G+=I)for(let ee=0,te=k;ee<f;ee++,te+=I)u.get(ee,V)===1&&j.setRegion(te,G,I,I);return j}}Ts.QUIET_ZONE_SIZE=4;class XC{encode(r,s,o,c,u){let f;switch(s){case le.QR_CODE:f=new Ts;break;default:throw new C("No encoder available for format "+s)}return f.encode(r,s,o,c,u)}}class gr extends ne{constructor(r,s,o,c,u,f,d,x){if(super(f,d),this.yuvData=r,this.dataWidth=s,this.dataHeight=o,this.left=c,this.top=u,c+f>s||u+d>o)throw new C("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(f,d)}getRow(r,s){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const c=(r+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,c,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.yuvData;const o=r*s,c=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return O.arraycopy(this.yuvData,u,c,0,o),c;for(let f=0;f<s;f++){const d=f*r;O.arraycopy(this.yuvData,u,c,d,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,s,o,c){return new gr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+s,o,c,!1)}renderThumbnail(){const r=this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*s),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){const d=f*r;for(let x=0;x<r;x++){const y=c[u+x*gr.THUMBNAIL_SCALE_FACTOR]&255;o[d+x]=4278190080|y*65793}u+=this.dataWidth*gr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/gr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/gr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,s){const o=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<s;c++,u+=this.dataWidth){const f=u+r/2;for(let d=u,x=u+r-1;d<f;d++,x--){const y=o[d];o[d]=o[x],o[x]=y}}}invert(){return new ue(this)}}gr.THUMBNAIL_SCALE_FACTOR=2;class Fu extends ne{constructor(r,s,o,c,u,f,d){if(super(s,o),this.dataWidth=c,this.dataHeight=u,this.left=f,this.top=d,r.BYTES_PER_ELEMENT===4){const x=s*o,y=new Uint8ClampedArray(x);for(let E=0;E<x;E++){const A=r[E],I=A>>16&255,k=A>>7&510,P=A&255;y[E]=(I+k+P)/4&255}this.luminances=y}else this.luminances=r;if(c===void 0&&(this.dataWidth=s),u===void 0&&(this.dataHeight=o),f===void 0&&(this.left=0),d===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+o>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(r,s){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const c=(r+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,c,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.luminances;const o=r*s,c=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return O.arraycopy(this.luminances,u,c,0,o),c;for(let f=0;f<s;f++){const d=f*r;O.arraycopy(this.luminances,u,c,d,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,s,o,c){return new Fu(this.luminances,o,c,this.dataWidth,this.dataHeight,this.left+r,this.top+s)}invert(){return new ue(this)}}class a1 extends X{static forName(r){return this.getCharacterSetECIByName(r)}}class ju{}ju.ISO_8859_1=X.ISO8859_1;class l1{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class c1{static singletonList(r){return[r]}static min(r,s){return r.sort(s)[0]}}class YC{constructor(r){this.previous=r}getPrevious(){return this.previous}}class Is extends YC{constructor(r,s,o){super(r),this.value=s,this.bitCount=o}appendTo(r,s){r.appendBits(this.value,this.bitCount)}add(r,s){return new Is(this,r,s)}addBinaryShift(r,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Is(this,r,s)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+b.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Uu extends Is{constructor(r,s,o){super(r,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=o}appendTo(r,s){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(s[this.binaryShiftStart+o],8)}addBinaryShift(r,s){return new Uu(this,r,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function QC(v,r,s){return new Uu(v,r,s)}function No(v,r,s){return new Is(v,r,s)}const KC=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ii=0,el=1,Pn=2,u1=3,mr=4,ZC=new Is(null,0,0),Vu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function qC(v){for(let r of v)N.fill(r,-1);return v[ii][mr]=0,v[el][mr]=0,v[el][ii]=28,v[u1][mr]=0,v[Pn][mr]=0,v[Pn][ii]=15,v}const f1=qC(N.createInt32Array(6,6));class xr{constructor(r,s,o,c){this.token=r,this.mode=s,this.binaryShiftByteCount=o,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,s){let o=this.bitCount,c=this.token;if(r!==this.mode){let f=Vu[this.mode][r];c=No(c,f&65535,f>>16),o+=f>>16}let u=r===Pn?4:5;return c=No(c,s,u),new xr(c,r,0,o+u)}shiftAndAppend(r,s){let o=this.token,c=this.mode===Pn?4:5;return o=No(o,f1[this.mode][r],c),o=No(o,s,5),new xr(o,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(r){let s=this.token,o=this.mode,c=this.bitCount;if(this.mode===mr||this.mode===Pn){let d=Vu[o][ii];s=No(s,d&65535,d>>16),c+=d>>16,o=ii}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new xr(s,o,this.binaryShiftByteCount+1,c+u);return f.binaryShiftByteCount===2047+31&&(f=f.endBinaryShift(r+1)),f}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=QC(s,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new xr(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let s=this.bitCount+(Vu[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?s+=xr.calculateBinaryShiftCost(r)-xr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(s+=10),s<=r.bitCount}toBitArray(r){let s=[];for(let c=this.endBinaryShift(r.length).token;c!==null;c=c.getPrevious())s.unshift(c);let o=new F;for(const c of s)c.appendTo(o,r);return o}toString(){return ie.format("%s bits=%d bytes=%d",KC[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}xr.INITIAL_STATE=new xr(ZC,ii,0,0);function $C(v){const r=ie.getCharCode(" "),s=ie.getCharCode("."),o=ie.getCharCode(",");v[ii][r]=1;const c=ie.getCharCode("Z"),u=ie.getCharCode("A");for(let I=u;I<=c;I++)v[ii][I]=I-u+2;v[el][r]=1;const f=ie.getCharCode("z"),d=ie.getCharCode("a");for(let I=d;I<=f;I++)v[el][I]=I-d+2;v[Pn][r]=1;const x=ie.getCharCode("9"),y=ie.getCharCode("0");for(let I=y;I<=x;I++)v[Pn][I]=I-y+2;v[Pn][o]=12,v[Pn][s]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<E.length;I++)v[u1][ie.getCharCode(E[I])]=I;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<A.length;I++)ie.getCharCode(A[I])>0&&(v[mr][ie.getCharCode(A[I])]=I);return v}const zu=$C(N.createInt32Array(5,256));class _o{constructor(r){this.text=r}encode(){const r=ie.getCharCode(" "),s=ie.getCharCode(`
`);let o=c1.singletonList(xr.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let f,d=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case ie.getCharCode("\r"):f=d===s?2:0;break;case ie.getCharCode("."):f=d===r?3:0;break;case ie.getCharCode(","):f=d===r?4:0;break;case ie.getCharCode(":"):f=d===r?5:0;break;default:f=0}f>0?(o=_o.updateStateListForPair(o,u,f),u++):o=this.updateStateListForChar(o,u)}return c1.min(o,(u,f)=>u.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,s){const o=[];for(let c of r)this.updateStateForChar(c,s,o);return _o.simplifyStates(o)}updateStateForChar(r,s,o){let c=this.text[s]&255,u=zu[r.getMode()][c]>0,f=null;for(let d=0;d<=mr;d++){let x=zu[d][c];if(x>0){if(f==null&&(f=r.endBinaryShift(s)),!u||d===r.getMode()||d===Pn){const y=f.latchAndAppend(d,x);o.push(y)}if(!u&&f1[r.getMode()][d]>=0){const y=f.shiftAndAppend(d,x);o.push(y)}}}if(r.getBinaryShiftByteCount()>0||zu[r.getMode()][c]===0){let d=r.addBinaryShiftChar(s);o.push(d)}}static updateStateListForPair(r,s,o){const c=[];for(let u of r)this.updateStateForPair(u,s,o,c);return this.simplifyStates(c)}static updateStateForPair(r,s,o,c){let u=r.endBinaryShift(s);if(c.push(u.latchAndAppend(mr,o)),r.getMode()!==mr&&c.push(u.shiftAndAppend(mr,o)),o===3||o===4){let f=u.latchAndAppend(Pn,16-o).latchAndAppend(Pn,1);c.push(f)}if(r.getBinaryShiftByteCount()>0){let f=r.addBinaryShiftChar(s).addBinaryShiftChar(s+1);c.push(f)}}static simplifyStates(r){let s=[];for(const o of r){let c=!0;for(const u of s){if(u.isBetterThanOrEqualTo(o)){c=!1;break}o.isBetterThanOrEqualTo(u)&&(s=s.filter(f=>f!==u))}c&&s.push(o)}return s}}class ke{constructor(){}static encodeBytes(r){return ke.encode(r,ke.DEFAULT_EC_PERCENT,ke.DEFAULT_AZTEC_LAYERS)}static encode(r,s,o){let c=new _o(r).encode(),u=b.truncDivision(c.getSize()*s,100)+11,f=c.getSize()+u,d,x,y,E,A;if(o!==ke.DEFAULT_AZTEC_LAYERS){if(d=o<0,x=Math.abs(o),x>(d?ke.MAX_NB_BITS_COMPACT:ke.MAX_NB_BITS))throw new C(ie.format("Illegal value %s for layers",o));y=ke.totalBitsInLayer(x,d),E=ke.WORD_SIZE[x];let $=y-y%E;if(A=ke.stuffBits(c,E),A.getSize()+u>$)throw new C("Data to large for user specified layer");if(d&&A.getSize()>E*64)throw new C("Data to large for user specified layer")}else{E=0,A=null;for(let $=0;;$++){if($>ke.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(d=$<=3,x=d?$+1:$,y=ke.totalBitsInLayer(x,d),f>y)continue;(A==null||E!==ke.WORD_SIZE[x])&&(E=ke.WORD_SIZE[x],A=ke.stuffBits(c,E));let Re=y-y%E;if(!(d&&A.getSize()>E*64)&&A.getSize()+u<=Re)break}}let I=ke.generateCheckWords(A,y,E),k=A.getSize()/E,P=ke.generateModeMessage(d,x,k),j=(d?11:14)+x*4,V=new Int32Array(j),G;if(d){G=j;for(let $=0;$<V.length;$++)V[$]=$}else{G=j+1+2*b.truncDivision(b.truncDivision(j,2)-1,15);let $=b.truncDivision(j,2),Re=b.truncDivision(G,2);for(let Se=0;Se<$;Se++){let un=Se+b.truncDivision(Se,15);V[$-Se-1]=Re-un-1,V[$+Se]=Re+un+1}}let ee=new Ae(G);for(let $=0,Re=0;$<x;$++){let Se=(x-$)*4+(d?9:12);for(let un=0;un<Se;un++){let qn=un*2;for(let fn=0;fn<2;fn++)I.get(Re+qn+fn)&&ee.set(V[$*2+fn],V[$*2+un]),I.get(Re+Se*2+qn+fn)&&ee.set(V[$*2+un],V[j-1-$*2-fn]),I.get(Re+Se*4+qn+fn)&&ee.set(V[j-1-$*2-fn],V[j-1-$*2-un]),I.get(Re+Se*6+qn+fn)&&ee.set(V[j-1-$*2-un],V[$*2+fn])}Re+=Se*8}if(ke.drawModeMessage(ee,d,G,P),d)ke.drawBullsEye(ee,b.truncDivision(G,2),5);else{ke.drawBullsEye(ee,b.truncDivision(G,2),7);for(let $=0,Re=0;$<b.truncDivision(j,2)-1;$+=15,Re+=16)for(let Se=b.truncDivision(G,2)&1;Se<G;Se+=2)ee.set(b.truncDivision(G,2)-Re,Se),ee.set(b.truncDivision(G,2)+Re,Se),ee.set(Se,b.truncDivision(G,2)-Re),ee.set(Se,b.truncDivision(G,2)+Re)}let te=new l1;return te.setCompact(d),te.setSize(G),te.setLayers(x),te.setCodeWords(k),te.setMatrix(ee),te}static drawBullsEye(r,s,o){for(let c=0;c<o;c+=2)for(let u=s-c;u<=s+c;u++)r.set(u,s-c),r.set(u,s+c),r.set(s-c,u),r.set(s+c,u);r.set(s-o,s-o),r.set(s-o+1,s-o),r.set(s-o,s-o+1),r.set(s+o,s-o),r.set(s+o,s-o+1),r.set(s+o,s+o-1)}static generateModeMessage(r,s,o){let c=new F;return r?(c.appendBits(s-1,2),c.appendBits(o-1,6),c=ke.generateCheckWords(c,28,4)):(c.appendBits(s-1,5),c.appendBits(o-1,11),c=ke.generateCheckWords(c,40,4)),c}static drawModeMessage(r,s,o,c){let u=b.truncDivision(o,2);if(s)for(let f=0;f<7;f++){let d=u-3+f;c.get(f)&&r.set(d,u-5),c.get(f+7)&&r.set(u+5,d),c.get(20-f)&&r.set(d,u+5),c.get(27-f)&&r.set(u-5,d)}else for(let f=0;f<10;f++){let d=u-5+f+b.truncDivision(f,5);c.get(f)&&r.set(d,u-7),c.get(f+10)&&r.set(u+7,d),c.get(29-f)&&r.set(d,u+7),c.get(39-f)&&r.set(u-7,d)}}static generateCheckWords(r,s,o){let c=r.getSize()/o,u=new Bu(ke.getGF(o)),f=b.truncDivision(s,o),d=ke.bitsToWords(r,o,f);u.encode(d,f-c);let x=s%o,y=new F;y.appendBits(0,x);for(const E of Array.from(d))y.appendBits(E,o);return y}static bitsToWords(r,s,o){let c=new Int32Array(o),u,f;for(u=0,f=r.getSize()/s;u<f;u++){let d=0;for(let x=0;x<s;x++)d|=r.get(u*s+x)?1<<s-x-1:0;c[u]=d}return c}static getGF(r){switch(r){case 4:return Be.AZTEC_PARAM;case 6:return Be.AZTEC_DATA_6;case 8:return Be.AZTEC_DATA_8;case 10:return Be.AZTEC_DATA_10;case 12:return Be.AZTEC_DATA_12;default:throw new C("Unsupported word size "+r)}}static stuffBits(r,s){let o=new F,c=r.getSize(),u=(1<<s)-2;for(let f=0;f<c;f+=s){let d=0;for(let x=0;x<s;x++)(f+x>=c||r.get(f+x))&&(d|=1<<s-1-x);(d&u)===u?(o.appendBits(d&u,s),f--):d&u?o.appendBits(d,s):(o.appendBits(d|1,s),f--)}return o}static totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}ke.DEFAULT_EC_PERCENT=33,ke.DEFAULT_AZTEC_LAYERS=0,ke.MAX_NB_BITS=32,ke.MAX_NB_BITS_COMPACT=4,ke.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class tl{encode(r,s,o,c){return this.encodeWithHints(r,s,o,c,null)}encodeWithHints(r,s,o,c,u){let f=ju.ISO_8859_1,d=ke.DEFAULT_EC_PERCENT,x=ke.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(_t.CHARACTER_SET)&&(f=a1.forName(u.get(_t.CHARACTER_SET).toString())),u.has(_t.ERROR_CORRECTION)&&(d=b.parseInt(u.get(_t.ERROR_CORRECTION).toString())),u.has(_t.AZTEC_LAYERS)&&(x=b.parseInt(u.get(_t.AZTEC_LAYERS).toString()))),tl.encodeLayers(r,s,o,c,f,d,x)}static encodeLayers(r,s,o,c,u,f,d){if(s!==le.AZTEC)throw new C("Can only encode AZTEC, but got "+s);let x=ke.encode(ie.getBytes(r,u),f,d);return tl.renderResult(x,o,c)}static renderResult(r,s,o){let c=r.getMatrix();if(c==null)throw new fr;let u=c.getWidth(),f=c.getHeight(),d=Math.max(s,u),x=Math.max(o,f),y=Math.min(d/u,x/f),E=(d-u*y)/2,A=(x-f*y)/2,I=new Ae(d,x);for(let k=0,P=A;k<f;k++,P+=y)for(let j=0,V=E;j<u;j++,V+=y)c.get(j,k)&&I.setRegion(V,P,y,y);return I}}n.AbstractExpandedDecoder=bu,n.ArgumentException=w,n.ArithmeticException=wo,n.AztecCode=l1,n.AztecCodeReader=Xa,n.AztecCodeWriter=tl,n.AztecDecoder=Qe,n.AztecDetector=Q0,n.AztecDetectorResult=X0,n.AztecEncoder=ke,n.AztecHighLevelEncoder=_o,n.AztecPoint=Jt,n.BarcodeFormat=le,n.Binarizer=R,n.BinaryBitmap=S,n.BitArray=F,n.BitMatrix=Ae,n.BitSource=Ou,n.BrowserAztecCodeReader=SC,n.BrowserBarcodeReader=_C,n.BrowserCodeReader=It,n.BrowserDatamatrixCodeReader=OC,n.BrowserMultiFormatReader=zC,n.BrowserPDF417Reader=HC,n.BrowserQRCodeReader=WC,n.BrowserQRCodeSvgWriter=Yi,n.CharacterSetECI=X,n.ChecksumException=_,n.Code128Reader=re,n.Code39Reader=bt,n.DataMatrixDecodedBitStreamParser=ei,n.DataMatrixReader=ti,n.DecodeHintType=Z,n.DecoderResult=Mr,n.DefaultGridSampler=Y0,n.DetectorResult=Ga,n.EAN13Reader=zi,n.EncodeHintType=_t,n.Exception=g,n.FormatException=U,n.GenericGF=Be,n.GenericGFPoly=ct,n.GlobalHistogramBinarizer=xe,n.GridSampler=Au,n.GridSamplerInstance=$r,n.HTMLCanvasElementLuminanceSource=me,n.HybridBinarizer=de,n.ITFReader=Ge,n.IllegalArgumentException=C,n.IllegalStateException=fr,n.InvertedLuminanceSource=ue,n.LuminanceSource=ne,n.MathUtils=De,n.MultiFormatOneDReader=As,n.MultiFormatReader=o1,n.MultiFormatWriter=XC,n.NotFoundException=Y,n.OneDReader=Ct,n.PDF417DecodedBitStreamParser=H,n.PDF417DecoderErrorCorrection=e1,n.PDF417Reader=Ft,n.PDF417ResultMetadata=n1,n.PerspectiveTransform=Kn,n.PlanarYUVLuminanceSource=gr,n.QRCodeByteMatrix=Ja,n.QRCodeDataMask=kn,n.QRCodeDecodedBitStreamParser=it,n.QRCodeDecoderErrorCorrectionLevel=Ke,n.QRCodeDecoderFormatInformation=Xt,n.QRCodeEncoder=$e,n.QRCodeEncoderQRCode=Xi,n.QRCodeMaskUtil=ht,n.QRCodeMatrixUtil=ye,n.QRCodeMode=ge,n.QRCodeReader=ni,n.QRCodeVersion=pe,n.QRCodeWriter=Ts,n.RGBLuminanceSource=Fu,n.RSS14Reader=ft,n.RSSExpandedReader=q,n.ReaderException=$a,n.ReedSolomonDecoder=Co,n.ReedSolomonEncoder=Bu,n.ReedSolomonException=ws,n.Result=Pe,n.ResultMetadataType=wt,n.ResultPoint=ce,n.StringUtils=ie,n.UnsupportedOperationException=fe,n.VideoInputDevice=he,n.WhiteRectangleDetector=Dr,n.WriterException=Xe,n.ZXingArrays=N,n.ZXingCharset=a1,n.ZXingInteger=b,n.ZXingStandardCharsets=ju,n.ZXingStringBuilder=we,n.ZXingStringEncoding=_e,n.ZXingSystem=O,n.createAbstractExpandedDecoder=$0,Object.defineProperty(n,"__esModule",{value:!0})})})(Jh,Jh.exports);var et=Jh.exports;const e6=Tm(et),t6=Sm({__proto__:null,default:e6},[et]);var om=function(){function e(t,n,i){if(this.formatMap=new Map([[oe.QR_CODE,et.BarcodeFormat.QR_CODE],[oe.AZTEC,et.BarcodeFormat.AZTEC],[oe.CODABAR,et.BarcodeFormat.CODABAR],[oe.CODE_39,et.BarcodeFormat.CODE_39],[oe.CODE_93,et.BarcodeFormat.CODE_93],[oe.CODE_128,et.BarcodeFormat.CODE_128],[oe.DATA_MATRIX,et.BarcodeFormat.DATA_MATRIX],[oe.MAXICODE,et.BarcodeFormat.MAXICODE],[oe.ITF,et.BarcodeFormat.ITF],[oe.EAN_13,et.BarcodeFormat.EAN_13],[oe.EAN_8,et.BarcodeFormat.EAN_8],[oe.PDF_417,et.BarcodeFormat.PDF_417],[oe.RSS_14,et.BarcodeFormat.RSS_14],[oe.RSS_EXPANDED,et.BarcodeFormat.RSS_EXPANDED],[oe.UPC_A,et.BarcodeFormat.UPC_A],[oe.UPC_E,et.BarcodeFormat.UPC_E],[oe.UPC_EAN_EXTENSION,et.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!t6)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var a=this.createZXingFormats(t),l=new Map;l.set(et.DecodeHintType.POSSIBLE_FORMATS,a),l.set(et.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,a){try{i(n.decode(t))}catch(l){a(l)}})},e.prototype.decode=function(t){var n=new et.MultiFormatReader(this.verbose,this.hints),i=new et.HTMLCanvasElementLuminanceSource(t),a=new et.BinaryBitmap(new et.HybridBinarizer(i)),l=n.decode(a);return{text:l.text,format:Vw.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),n6=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function p(w){try{g(i.next(w))}catch(C){h(C)}}function m(w){try{g(i.throw(w))}catch(C){h(C)}}function g(w){w.done?l(w.value):a(w.value).then(p,m)}g((i=i.apply(e,t||[])).next())})},r6=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(g){return function(w){return m([g,w])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},am=function(){function e(t,n,i){if(this.formatMap=new Map([[oe.QR_CODE,"qr_code"],[oe.AZTEC,"aztec"],[oe.CODABAR,"codabar"],[oe.CODE_39,"code_39"],[oe.CODE_93,"code_93"],[oe.CODE_128,"code_128"],[oe.DATA_MATRIX,"data_matrix"],[oe.ITF,"itf"],[oe.EAN_13,"ean_13"],[oe.EAN_8,"ean_8"],[oe.PDF_417,"pdf417"],[oe.UPC_A,"upc_a"],[oe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return n6(this,void 0,void 0,function(){var n,i;return r6(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:Vw.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,a=0,l=t;a<l.length;a++){var h=l[a],p=h.boundingBox.width*h.boundingBox.height;p>i&&(i=p,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),lm=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function p(w){try{g(i.next(w))}catch(C){h(C)}}function m(w){try{g(i.throw(w))}catch(C){h(C)}}function g(w){w.done?l(w.value):a(w.value).then(p,m)}g((i=i.apply(e,t||[])).next())})},cm=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(g){return function(w){return m([g,w])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},i6=function(){function e(t,n,i,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&am.isSupported()?(this.primaryDecoder=new am(t,i,a),this.secondaryDecoder=new om(t,i,a)):this.primaryDecoder=new om(t,i,a)}return e.prototype.decodeAsync=function(t){return lm(this,void 0,void 0,function(){var n;return cm(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return lm(this,void 0,void 0,function(){var n,i;return cm(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(i=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var a=i[n];t+=a}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),B0=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bc=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function p(w){try{g(i.next(w))}catch(C){h(C)}}function m(w){try{g(i.throw(w))}catch(C){h(C)}}function g(w){w.done?l(w.value):a(w.value).then(p,m)}g((i=i.apply(e,t||[])).next())})},Fc=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(g){return function(w){return m([g,w])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Gw=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),s6=function(e){B0(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Gw),o6=function(e){B0(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(s6),a6=function(e){B0(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Gw),l6=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new o6(this.track)},e.prototype.torchFeature=function(){return new a6(this.track)},e}(),c6=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,a){return Bc(this,void 0,void 0,function(){var l,h;return Fc(this,function(p){switch(p.label){case 0:return l=new e(t,n,a),i.aspectRatio?(h={aspectRatio:i.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:p.sent(),p.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Bc(this,void 0,void 0,function(){return Fc(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var a=t.mediaStream.getVideoTracks(),l=a.length,h=0;t.mediaStream.getVideoTracks().forEach(function(p){t.mediaStream.removeTrack(p),p.stop(),++h,h>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new l6(this.getFirstTrackOrFail())},e}(),u6=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return Bc(this,void 0,void 0,function(){return Fc(this,function(a){return[2,c6.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return Bc(this,void 0,void 0,function(){var n,i;return Fc(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=a.sent(),[2,new e(i)]}})})},e}(),um=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function p(w){try{g(i.next(w))}catch(C){h(C)}}function m(w){try{g(i.throw(w))}catch(C){h(C)}}function g(w){w.done?l(w.value):a(w.value).then(p,m)}g((i=i.apply(e,t||[])).next())})},fm=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(g){return function(w){return m([g,w])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},f6=function(){function e(){}return e.failIfNotSupported=function(){return um(this,void 0,void 0,function(){return fm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return um(this,void 0,void 0,function(){return fm(this,function(n){return[2,u6.create(t)]})})},e}(),h6=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function p(w){try{g(i.next(w))}catch(C){h(C)}}function m(w){try{g(i.throw(w))}catch(C){h(C)}}function g(w){w.done?l(w.value):a(w.value).then(p,m)}g((i=i.apply(e,t||[])).next())})},d6=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(g){return function(w){return m([g,w])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},p6=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Xs.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Xs.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return h6(this,void 0,void 0,function(){var t,n,i,a,l,h,p;return d6(this,function(m){switch(m.label){case 0:return t=function(g){for(var w=g.getVideoTracks(),C=0,S=w;C<S.length;C++){var _=S[C];_.enabled=!1,_.stop(),g.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=m.sent(),a=[],l=0,h=i;l<h.length;l++)p=h[l],p.kind==="videoinput"&&a.push({id:p.deviceId,label:p.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(l){for(var h=[],p=0,m=l;p<m.length;p++){var g=m[p];g.kind==="video"&&h.push({id:g.id,label:g.label})}t(h)},a=MediaStreamTrack;a.getSources(i)})},e}(),dt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(dt||(dt={}));var g6=function(){function e(){this.state=dt.NOT_STARTED,this.onGoingTransactionNewState=dt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===dt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=dt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===dt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=dt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==dt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case dt.UNKNOWN:throw"Transition from unknown is not allowed";case dt.NOT_STARTED:this.failIfNewStateIs(t,[dt.PAUSED]);break;case dt.SCANNING:break;case dt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,a=n;i<a.length;i++){var l=a[i];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),m6=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===dt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==dt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===dt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===dt.PAUSED},e}(),x6=function(){function e(){}return e.create=function(){return new m6(new g6)},e}(),y6=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),vn=function(e){y6(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(tr),w6=function(){function e(t,n){this.logger=n,this.fps=vn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=vn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ww.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Er(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),hm=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new Hw(this.verbose),this.qrcode=new i6(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=x6.create()}return e.prototype.start=function(t,n,i,a){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;a?h=a:h=this.verbose?this.logger.log:function(){};var p=w6.create(n,this.logger);this.clearElement();var m=!1;p.videoConstraints&&(p.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=m,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:vn.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var C=this,S=this.stateManagerProxy.startTransition(dt.SCANNING);return new Promise(function(_,R){var O=g?p.videoConstraints:C.createVideoConstraints(t);if(!O){S.cancel(),R("videoConstraints should be defined");return}var L={};(!g||p.aspectRatio)&&(L.aspectRatio=p.aspectRatio);var M={onRenderSurfaceReady:function(N,b){C.setupUi(N,b,p),C.isScanning=!0,C.foreverScan(p,i,h)}};f6.failIfNotSupported().then(function(N){N.create(O).then(function(b){return b.render(l.element,L,M).then(function(F){C.renderedCamera=F,S.execute(),_(null)}).catch(function(F){S.cancel(),R(F)})}).catch(function(b){S.cancel(),R(Xs.errorGettingUserMedia(b))})}).catch(function(N){S.cancel(),R(Xs.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(dt.PAUSED),this.showPausedState(),(Er(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(dt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(dt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var l=document.getElementById(vn.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),i(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Er(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var p=h.width,m=h.height,g=document.getElementById(i.elementId),w=g.clientWidth?g.clientWidth:vn.DEFAULT_WIDTH,C=Math.max(g.clientHeight?g.clientHeight:m,vn.FILE_SCAN_MIN_HEIGHT),S=i.computeCanvasDrawConfig(p,m,w,C);if(n){var _=i.createCanvasElement(w,C,"qr-canvas-visible");_.style.display="inline-block",g.appendChild(_);var R=_.getContext("2d");if(!R)throw"Unable to get 2d context from canvas";R.canvas.width=w,R.canvas.height=C,R.drawImage(h,0,0,p,m,S.x,S.y,S.width,S.height)}var O=vn.FILE_SCAN_HIDDEN_CANVAS_PADDING,L=Math.max(h.width,S.width),M=Math.max(h.height,S.height),N=L+2*O,b=M+2*O,F=i.createCanvasElement(N,b);g.appendChild(F);var Q=F.getContext("2d");if(!Q)throw"Unable to get 2d context from canvas";Q.canvas.width=N,Q.canvas.height=b,Q.drawImage(h,0,0,p,m,O,O,L,M);try{i.qrcode.decodeRobustlyAsync(F).then(function(Z){a(im.createFromQrcodeResult(Z))}).catch(l)}catch(Z){l("QR code parse error, error = ".concat(Z))}},h.onerror=l,h.onabort=l,h.onstalled=l,h.onsuspend=l,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return p6.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Ww.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[oe.QR_CODE,oe.AZTEC,oe.CODABAR,oe.CODE_39,oe.CODE_93,oe.CODE_128,oe.DATA_MATRIX,oe.MAXICODE,oe.ITF,oe.EAN_13,oe.EAN_8,oe.PDF_417,oe.RSS_14,oe.RSS_EXPANDED,oe.UPC_A,oe.UPC_E,oe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],a=0,l=t.formatsToSupport;a<l.length;a++){var h=l[a];$b(h)?i.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Er(t))return!0;if(!Er(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Er(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Er(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var a=this,l=i.qrbox;this.validateQrboxConfig(l);var h=this.toQrdimensions(t,n,l),p=function(g){if(g<vn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(vn.MIN_QR_BOX_SIZE,"px.")},m=function(g){return g>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};p(h.width),p(h.height),h.width=m(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var a=Er(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,n,a);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=i.isShadedBoxEnabled()&&l.height<=n,p={x:0,y:0,width:t,height:n},m=h?this.getShadedRegionBounds(t,n,l):p,g=this.createCanvasElement(m.width,m.height),w={willReadFrequently:!0},C=g.getContext("2d",w);C.canvas.width=m.width,C.canvas.height=m.height,this.element.append(g),h&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=C,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Xs.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,im.createFromQrcodeResult(a)),i.possiblyUpdateShaders(!0),!0}).catch(function(a){i.possiblyUpdateShaders(!1);var l=Xs.codeParseError(a);return n(l,zw.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,i){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),h=l.videoWidth/l.clientWidth,p=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*h,g=this.qrRegion.height*p,w=this.qrRegion.x*h,C=this.qrRegion.y*p;this.context.drawImage(l,w,C,m,g,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,i)},a.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(_){!_&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,i).finally(function(){S()})):S()}).catch(function(_){a.logger.logError("Error happend while scanning context",_),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",a={user:!0,environment:!0},l="exact",h=function(R){if(R in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(R,"'")},p=Object.keys(t);if(p.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(p.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var g=t.facingMode;if(typeof g=="string"){if(h(g))return{facingMode:g}}else if(typeof g=="object")if(l in g){if(h(g["".concat(l)]))return{facingMode:{exact:g["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var w=typeof g;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(l in C)return{deviceId:{exact:C["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var S=typeof C;throw"Invalid type of 'deviceId' = ".concat(S)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,n,i,a){if(t<=i&&n<=a){var l=(i-t)/2,h=(a-n)/2;return{x:l,y:h,width:t,height:n}}else{var p=t,m=n;return t>i&&(n=i/t*n,t=i),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(p,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?vn.BORDER_SHADER_MATCH_COLOR:vn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var a=t,l=n,h=document.createElement("canvas");return h.style.width="".concat(a,"px"),h.style.height="".concat(l,"px"),h.style.display="none",h.id=Er(i)?"qr-canvas":i,h},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,a){if(!(n-a.width<1||i-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var h=(n-a.width)/2,p=(i-a.height)/2;if(l.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(p,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(vn.SHADED_REGION_ELEMENT_ID),n-a.width<11||i-a.height<11)this.hasBorderShaders=!1;else{var m=5,g=40;this.insertShaderBorders(l,g,m,-m,null,0,!0),this.insertShaderBorders(l,g,m,-m,null,0,!1),this.insertShaderBorders(l,g,m,null,-m,0,!0),this.insertShaderBorders(l,g,m,null,-m,0,!1),this.insertShaderBorders(l,m,g+m,-m,null,-m,!0),this.insertShaderBorders(l,m,g+m,null,-m,-m,!0),this.insertShaderBorders(l,m,g+m,-m,null,-m,!1),this.insertShaderBorders(l,m,g+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,i,a,l,h,p){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=vn.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(i,"px"),a!==null&&(m.style.top="".concat(a,"px")),l!==null&&(m.style.bottom="".concat(l,"px")),p?m.style.left="".concat(h,"px"):m.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),F0="data:image/svg+xml;base64,",C6=F0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",E6=F0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",dm=F0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",v6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",pm=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),A6=function(){function e(){this.data=pm.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=pm.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),S6=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=sm.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var i=document.createElement("br"),a=document.createElement("br");this.infoDiv.appendChild(i),this.infoDiv.appendChild(a);var l=document.createElement("a");l.innerText=sm.reportIssues(),l.href="https://github.com/mebjas/html5-qrcode/issues",l.target="new",l.style.color="white",this.infoDiv.appendChild(l),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),T6=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=dm,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(i){return n.onHoverIn()},this.infoIcon.onmouseout=function(i){return n.onHoverOut()},this.infoIcon.onclick=function(i){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=v6,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=dm,this.infoIcon.style.opacity="0.6")},e}(),I6=function(){function e(){var t=this;this.infoDiv=new S6,this.infoIcon=new T6(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),b6=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function p(w){try{g(i.next(w))}catch(C){h(C)}}function m(w){try{g(i.throw(w))}catch(C){h(C)}}function g(w){w.done?l(w.value):a(w.value).then(p,m)}g((i=i.apply(e,t||[])).next())})},N6=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(g){return function(w){return m([g,w])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},gm=function(){function e(){}return e.hasPermissions=function(){return b6(this,void 0,void 0,function(){var t,n,i,a;return N6(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=l.sent(),n=0,i=t;n<i.length;n++)if(a=i[n],a.kind==="videoinput"&&a.label)return[2,!0];return[2,!1]}})})},e}(),oi=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var i=n[t];if(e.isCameraScanType(i))return!0}return!1},e.isCameraScanType=function(t){return t===ki.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===ki.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return tr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=tr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var i=0,a=t;i<a.length;i++){var l=a[i];if(!tr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(l))throw"Unsupported scan type ".concat(l)}return t},e}(),Tn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Vr=function(){function e(){}return e.createElement=function(t,n){var i=document.createElement(t);return i.id=n,i.classList.add(Tn.ALL_ELEMENT_CLASS),t==="button"&&i.setAttribute("type","button"),i},e}(),Xw=globalThis&&globalThis.__awaiter||function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(h){h(l)})}return new(n||(n=Promise))(function(l,h){function p(w){try{g(i.next(w))}catch(C){h(C)}}function m(w){try{g(i.throw(w))}catch(C){h(C)}}function g(w){w.done?l(w.value):a(w.value).then(p,m)}g((i=i.apply(e,t||[])).next())})},Yw=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,h;return h={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(g){return function(w){return m([g,w])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(w){g=[6,w],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},mm=function(){function e(t,n,i){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=i}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Xw(this,void 0,void 0,function(){var t,n;return Yw(this,function(i){switch(i.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return i.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=i.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Ve.torchOffButton():Ve.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var i=t?Ve.torchOnFailedMessage():Ve.torchOffFailedMessage();n&&(i+="; Error = "+n),this.onTorchActionFailureCallback(i)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),_6=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Vr.createElement("button",Tn.TORCH_BUTTON_ID),this.torchController=new mm(t,this,n)}return e.prototype.render=function(t,n){var i=this;this.torchButton.innerText=Ve.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var a=this;this.torchButton.addEventListener("click",function(l){return Xw(i,void 0,void 0,function(){return Yw(this,function(h){switch(h.label){case 0:return[4,a.torchController.flipState()];case 1:return h.sent(),a.torchController.isTorchEnabled()?(a.torchButton.classList.remove(Tn.TORCH_BUTTON_CLASS_TORCH_OFF),a.torchButton.classList.add(Tn.TORCH_BUTTON_CLASS_TORCH_ON)):(a.torchButton.classList.remove(Tn.TORCH_BUTTON_CLASS_TORCH_ON),a.torchButton.classList.add(Tn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new mm(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Ve.torchOnButton(),this.torchController.reset()},e.create=function(t,n,i,a){var l=new e(n,a);return l.render(t,i),l},e}(),R6=function(){function e(t,n,i){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var a=document.createElement("label");a.setAttribute("for",this.getFileScanInputId()),a.style.display="inline-block",this.fileBasedScanRegion.appendChild(a),this.fileSelectionButton=Vr.createElement("button",Tn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(p){a.click()}),a.append(this.fileSelectionButton),this.fileScanInput=Vr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",a.appendChild(this.fileScanInput);var l=this;this.fileScanInput.addEventListener("change",function(p){if(!(p==null||p.target==null)){var m=p.target;if(!(m.files&&m.files.length===0)){var g=m.files,w=g[0],C=w.name;l.setImageNameToButton(C),i(w)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(p){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(p){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(p){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),p.stopPropagation(),p.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(p){p.stopPropagation(),p.preventDefault(),l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder();var m=p.dataTransfer;if(m){var g=m.files;if(!g||g.length===0)return;for(var w=!1,C=0;C<g.length;++C){var S=g.item(C);if(S){var _=/image.*/;if(S.type.match(_)){w=!0;var R=S.name;l.setImageNameToButton(R),i(S),h.innerText=Ve.dragAndDropMessage();break}}}w||(h.innerText=Ve.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Ve.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var i=t.substring(0,8),a=t.length,l=t.substring(a-8,a);t="".concat(i,"....").concat(l)}var h=Ve.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=Ve.fileSelectionChooseImage()+" - "+Ve.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,i){var a=new e(t,n,i);return a},e}(),O6=function(){function e(t){this.selectElement=Vr.createElement("select",Tn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var i=this.cameras.length;if(i===0)throw new Error("No cameras found");if(i===1)n.style.display="none";else{var a=Ve.selectCamera();n.innerText="".concat(a," (").concat(this.cameras.length,")  ")}for(var l=1,h=0,p=this.cameras;h<p.length;h++){var m=p[h],g=m.id,w=m.label==null?g:m.label;(!w||w==="")&&(w=[Ve.anonymousCameraPrefix(),l++].join(" "));var C=document.createElement("option");C.value=g,C.innerText=w,this.options.push(C),this.selectElement.appendChild(C)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,i=this.options;n<i.length;n++){var a=i[n];if(a.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var i=new e(n);return i.render(t),i},e}(),M6=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Vr.createElement("input",Tn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var i=Ve.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(i),this.rangeText.style.marginRight="10px";var a=this;this.rangeInput.addEventListener("input",function(){return a.onValueChange()}),this.rangeInput.addEventListener("change",function(){return a.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Ve.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,i,a){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=a.toString(),this.rangeInput.value=i.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var i=new e;return i.render(t,n),i},e}(),An;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(An||(An={}));function D6(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function k6(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var L6=function(){function e(t,n,i){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=i===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new oi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Hw(this.verbose),this.persistedDataManager=new A6,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var i=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(l,h){if(t)t(l,h);else{if(i.lastMatchFound===l)return;i.lastMatchFound=l,i.setHeaderMessage(Ve.lastMatch(l),An.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(l,h){n&&n(l,h)};var a=document.getElementById(this.elementId);if(!a)throw"HTML Element with id=".concat(this.elementId," not found");a.innerHTML="",this.createBasicLayout(a),this.html5Qrcode=new hm(this.getScanRegionId(),k6(this.config,this.verbose))},e.prototype.pause=function(t){(Er(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var i=document.getElementById(t.elementId);i&&(i.innerHTML="",t.resetBasicLayout(i))};return this.html5Qrcode?new Promise(function(i,a){if(!t.html5Qrcode){i();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(l){if(!t.html5Qrcode){i();return}t.html5Qrcode.clear(),n(),i()}).catch(function(l){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",l),a(l)}):(t.html5Qrcode.clear(),n(),i())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=tr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!tr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=tr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=tr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:tr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:tr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:tr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),i=this.getScanRegionId();n.id=i,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),oi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var a=document.createElement("div"),l=this.getDashboardId();a.id=l,a.style.width="100%",t.appendChild(a),this.setupInitialDashboard(a)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var i=new I6;i.renderInto(n);var a=document.createElement("div");a.id=this.getHeaderMessageContainerId(),a.style.display="none",a.style.textAlign="center",a.style.fontSize="14px",a.style.padding="2px 10px",a.style.margin="4px",a.style.borderTop="1px solid #f6f6f6",n.appendChild(a)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,i){var a=this;a.showHideScanTypeSwapLink(!1),a.setHeaderMessage(Ve.cameraPermissionRequesting());var l=function(){i||a.createPermissionButton(t,n)};hm.getCameras().then(function(h){a.persistedDataManager.setHasPermission(!0),a.showHideScanTypeSwapLink(!0),a.resetHeaderMessage(),h&&h.length>0?(t.removeChild(n),a.renderCameraSelection(h)):(a.setHeaderMessage(Ve.noCameraFound(),An.STATUS_WARNING),l())}).catch(function(h){a.persistedDataManager.setHasPermission(!1),i?i.disabled=!1:l(),a.setHeaderMessage(h,An.STATUS_WARNING),a.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var i=this,a=Vr.createElement("button",this.getCameraPermissionButtonId());a.innerText=Ve.cameraPermissionTitle(),a.addEventListener("click",function(){a.disabled=!0,i.createCameraListUi(t,n,a)}),n.appendChild(a)},e.prototype.createPermissionsUi=function(t,n){var i=this;if(oi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){gm.hasPermissions().then(function(a){a?i.createCameraListUi(t,n):(i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n))}).catch(function(a){i.persistedDataManager.setHasPermission(!1),i.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var i=document.createElement("div");i.id=this.getDashboardSectionCameraScanRegionId(),i.style.display=oi.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(i);var a=document.createElement("div");a.style.textAlign="center",i.appendChild(a),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(i,a),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=oi.isFileScanType(this.currentScanType),i=this,a=function(l){if(!i.html5Qrcode)throw"html5Qrcode not defined";oi.isFileScanType(i.currentScanType)&&(i.setHeaderMessage(Ve.loadingImage()),i.html5Qrcode.scanFileV2(l,!0).then(function(h){i.resetHeaderMessage(),i.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){i.setHeaderMessage(h,An.STATUS_WARNING),i.qrCodeErrorCallback(h,zw.createFrom(h))}))};this.fileSelectionUi=R6.create(t,n,a)},e.prototype.renderCameraSelection=function(t){var n=this,i=this,a=document.getElementById(this.getDashboardSectionCameraScanRegionId());a.style.textAlign="center";var l=M6.create(a,!1),h=function(O){var L=O.zoomFeature();if(L.isSupported()){l.setOnCameraZoomValueChangeCallback(function(N){L.apply(N)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=Jb(M,L.min(),L.max()),l.setValues(L.min(),L.max(),M,L.step()),l.show()}},p=O6.create(a,t),m=document.createElement("span"),g=Vr.createElement("button",Tn.CAMERA_START_BUTTON_ID);g.innerText=Ve.scanButtonStartScanningText(),m.appendChild(g);var w=Vr.createElement("button",Tn.CAMERA_STOP_BUTTON_ID);w.innerText=Ve.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,m.appendChild(w);var C,S=function(O){if(!O.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(O.torchFeature()):C=_6.create(m,O.torchFeature(),{display:"none",marginLeft:"5px"},function(L){i.setHeaderMessage(L,An.STATUS_WARNING)}),C.show()};a.appendChild(m);var _=function(O){O||(g.style.display="none"),g.innerText=Ve.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,O&&(g.style.display="inline-block")};if(g.addEventListener("click",function(O){g.innerText=Ve.scanButtonScanningStarting(),p.disable(),g.disabled=!0,g.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!1),i.resetHeaderMessage();var L=p.getValue();i.persistedDataManager.setLastUsedCameraId(L),i.html5Qrcode.start(L,D6(i.config),i.qrCodeSuccessCallback,i.qrCodeErrorCallback).then(function(M){w.disabled=!1,w.style.display="inline-block",_(!1);var N=i.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&S(N),n.config.showZoomSliderIfSupported===!0&&h(N)}).catch(function(M){i.showHideScanTypeSwapLink(!0),p.enable(),_(!0),i.setHeaderMessage(M,An.STATUS_WARNING)})}),p.hasSingleItem()&&g.click(),w.addEventListener("click",function(O){if(!i.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,i.html5Qrcode.stop().then(function(L){n.scanTypeSelector.hasMoreThanOneScanType()&&i.showHideScanTypeSwapLink(!0),p.enable(),g.disabled=!1,w.style.display="none",g.style.display="inline-block",C&&(C.reset(),C.hide()),l.removeOnCameraZoomValueChangeCallback(),l.hide(),i.insertCameraScanImageToScanRegion()}).catch(function(L){w.disabled=!1,i.setHeaderMessage(L,An.STATUS_WARNING)})}),i.persistedDataManager.getLastUsedCameraId()){var R=i.persistedDataManager.getLastUsedCameraId();p.hasValue(R)?(p.setValue(R),g.click()):i.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Ve.textIfCameraScanSelected(),i=Ve.textIfFileScanSelected(),a=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");l.style.textAlign="center";var h=Vr.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=oi.isCameraScanType(this.currentScanType)?n:i,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,oi.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=i,t.currentScanType=ki.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=n,t.currentScanType=ki.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),l.appendChild(h),a.appendChild(l)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){gm.hasPermissions().then(function(i){if(i){var a=document.getElementById(n.getCameraPermissionButtonId());if(!a)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";a.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(i){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=An.STATUS_DEFAULT);var i=this.getHeaderMessageDiv();switch(i.innerText=t,i.style.display="block",n){case An.STATUS_SUCCESS:i.style.background="rgba(106, 175, 80, 0.26)",i.style.color="#477735";break;case An.STATUS_WARNING:i.style.background="rgba(203, 36, 49, 0.14)",i.style.color="#cb2431";break;case An.STATUS_DEFAULT:default:i.style.background="rgba(0, 0, 0, 0)",i.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=C6,this.cameraScanImage.alt=Ve.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(i){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=E6,this.fileScanImage.alt=Ve.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Tn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Tn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const P6=({onScanSuccess:e,onScanError:t,onClose:n})=>{const i=B.useRef(null);return B.useState(null),B.useEffect(()=>{const a=new L6("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0},!1);return a.render(l=>{a.clear(),e(l)},l=>{}),i.current=a,()=>{i.current&&i.current.clear().catch(l=>{console.error("Failed to clear html5-qrcode scanner. ",l)})}},[]),T.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:T.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl overflow-hidden shadow-2xl border border-slate-700 relative",children:[T.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-slate-700 bg-slate-800 text-white",children:[T.jsx("h3",{className:"font-semibold text-lg",children:"Scan Class QR Code"}),T.jsx("button",{onClick:n,className:"hover:text-red-400 transition-colors",children:T.jsx(P0,{})})]}),T.jsxs("div",{className:"p-6 bg-slate-900",children:[T.jsx("div",{id:"reader",className:"overflow-hidden rounded-xl border-2 border-blue-500 shadow-[0_0_20px_rgba(59,130,246,0.5)]"}),T.jsx("p",{className:"text-center text-slate-400 text-sm mt-4",children:"Align the QR code within the frame to mark attendance."})]})]})})},B6=({record:e})=>{var n;const t=e.status==="Present";return T.jsxs(Di.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 flex justify-between items-center",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:`p-3 rounded-lg ${t?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:T.jsx(L0,{size:20})}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-slate-800 dark:text-white",children:((n=e.course)==null?void 0:n.name)||"Unknown Course"}),T.jsxs("p",{className:"text-sm text-slate-500",children:[new Date(e.createdAt).toLocaleDateString(),"  ",new Date(e.createdAt).toLocaleTimeString()]})]})]}),T.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 ${t?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[t?T.jsx(Lc,{size:14}):T.jsx(P0,{size:14}),e.status]})]})},F6=({history:e,loading:t})=>t?T.jsx("div",{className:"text-slate-500 text-center py-4",children:"Loading records..."}):!e||e.length===0?T.jsx("div",{className:"text-center py-10 bg-white dark:bg-slate-900 rounded-xl border border-dashed border-slate-300",children:T.jsx("p",{className:"text-slate-500",children:"No attendance records found yet."})}):T.jsx("div",{className:"grid gap-4",children:e.map(n=>T.jsx(B6,{record:n},n._id))}),zr=({icon:e,label:t,value:n,color:i,onClick:a})=>T.jsxs(Di.div,{whileHover:{y:-5},onClick:a,className:`glass-panel p-6 rounded-xl border border-slate-200 dark:border-slate-800 flex items-center gap-4 ${a?"cursor-pointer hover:shadow-md":""}`,children:[T.jsx("div",{className:`${i} p-4 rounded-lg text-white shadow-lg shadow-opacity-20`,children:T.jsx(e,{size:24})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-slate-500 text-sm font-medium",children:t}),T.jsx("h4",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:n})]})]}),j6=()=>{var _;const{user:e}=B.useContext(ji),[t,n]=B.useState(!1),[i,a]=B.useState({present:0,total:0,percentage:0}),[l,h]=B.useState([]),[p,m]=B.useState(!0),[g,w]=B.useState({type:"",message:""});B.useEffect(()=>{C()},[]);const C=async()=>{try{const O=(await At.get("/student/attendance")).data,L=O.length,M=O.filter(N=>N.status==="Present").length;a({total:L,present:M,percentage:L>0?Math.round(M/L*100):0}),h(O.slice(0,5))}catch(R){console.error("Error fetching data",R)}finally{m(!1)}},S=async R=>{var O,L;n(!1);try{const M=await At.post("/student/mark-attendance",{qrResult:R,location:null});w({type:"success",message:"Attendance Marked Successfully!"}),C(),setTimeout(()=>w({type:"",message:""}),3e3)}catch(M){w({type:"error",message:((L=(O=M.response)==null?void 0:O.data)==null?void 0:L.message)||"Failed to mark attendance"}),setTimeout(()=>w({type:"",message:""}),4e3)}};return T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-10",children:[T.jsx(xo,{title:"Student Dashboard"}),g.message&&T.jsxs("div",{className:`fixed bottom-10 right-4 md:right-10 z-50 px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 animate-slide-up ${g.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[g.type==="success"?T.jsx(Lc,{}):T.jsx(P0,{}),T.jsx("span",{className:"font-semibold",children:g.message})]}),T.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[T.jsxs(Di.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"md:col-span-2 bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl p-8 text-white shadow-xl relative overflow-hidden",children:[T.jsxs("div",{className:"relative z-10",children:[T.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Hello, ",(_=e==null?void 0:e.name)==null?void 0:_.split(" ")[0],"!"]}),T.jsx("p",{className:"text-blue-100 mb-6 max-w-md",children:"Ready for your next class? Scan the QR code projected by your teacher to mark your attendance instantly."}),T.jsxs("button",{onClick:()=>n(!0),className:"bg-white text-blue-700 px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-50 transition-all shadow-lg hover:shadow-xl hover:scale-105 active:scale-95",children:[T.jsx(tm,{size:20}),"Scan QR Code"]})]}),T.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10",children:T.jsx(tm,{size:250})})]}),T.jsxs("div",{className:"grid gap-4",children:[T.jsx(zr,{icon:zb,label:"Attendance %",value:`${i.percentage}%`,color:"bg-emerald-500"}),T.jsx(zr,{icon:Lc,label:"Classes Attended",value:i.present,color:"bg-blue-500"})]})]}),T.jsxs("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4 flex items-center gap-2",children:[T.jsx(yu,{size:20})," Recent Activity"]}),T.jsx(F6,{history:l,loading:p})]}),t&&T.jsx(P6,{onScanSuccess:S,onScanError:R=>console.log(R),onClose:()=>n(!1)})]})},U6=({course:e})=>{const t=Or();return T.jsxs("div",{className:"glass-panel p-6 rounded-xl bg-white dark:bg-slate-900 border border-slate-200 hover:shadow-lg transition-all hover:-translate-y-1",children:[T.jsxs("div",{className:"flex justify-between items-start mb-4",children:[T.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg",children:T.jsx(xu,{className:"text-blue-600 dark:text-blue-400",size:24})}),T.jsx("span",{className:"text-xs font-bold bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 px-2 py-1 rounded",children:e.code})]}),T.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white mb-1",children:e.name}),T.jsxs("p",{className:"text-sm text-slate-500 mb-4",children:[e.department,"  Sem ",e.semester]}),T.jsx("button",{onClick:()=>t(`/teacher/courses/${e._id}`),className:"w-full px-3 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm font-medium transition-colors",children:"View Reports"})]})},V6=()=>{B.useContext(ji);const e=Or(),[t,n]=B.useState([]);return B.useEffect(()=>{At.get("/teacher/courses").then(i=>n(i.data)).catch(i=>console.error(i))},[]),T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-10",children:[T.jsx(xo,{title:"Teacher Portal"}),T.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[T.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[T.jsxs("div",{children:[T.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:"Dashboard"}),T.jsx("p",{className:"text-slate-500",children:"Manage your classes and attendance"})]}),T.jsxs("button",{onClick:()=>e("/teacher/generate-qr"),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold shadow-lg shadow-blue-500/30 flex items-center gap-2 transition-all hover:scale-105",children:[T.jsx(Xb,{size:20}),"Launch New Class"]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[T.jsx(zr,{icon:xu,label:"Total Courses",value:t.length,color:"bg-purple-500"}),T.jsx(zr,{icon:Pc,label:"Total Students",value:"--",color:"bg-emerald-500"}),T.jsx(zr,{icon:L0,label:"Sessions This Week",value:"--",color:"bg-orange-500"})]}),T.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Your Courses"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(i=>T.jsx(U6,{course:i},i._id)),t.length===0&&T.jsx("div",{className:"col-span-full text-center py-10 bg-white/50 border border-dashed border-slate-300 rounded-xl",children:T.jsx("p",{className:"text-slate-500",children:"No courses assigned yet. Contact Admin."})})]})]})]})},_r=Object.create(null);_r.open="0";_r.close="1";_r.ping="2";_r.pong="3";_r.message="4";_r.upgrade="5";_r.noop="6";const Yl=Object.create(null);Object.keys(_r).forEach(e=>{Yl[_r[e]]=e});const ed={type:"error",data:"parser error"},Qw=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Kw=typeof ArrayBuffer=="function",Zw=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,j0=({type:e,data:t},n,i)=>Qw&&t instanceof Blob?n?i(t):xm(t,i):Kw&&(t instanceof ArrayBuffer||Zw(t))?n?i(t):xm(new Blob([t]),i):i(_r[e]+(t||"")),xm=(e,t)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];t("b"+(i||""))},n.readAsDataURL(e)};function ym(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let kf;function z6(e,t){if(Qw&&e.data instanceof Blob)return e.data.arrayBuffer().then(ym).then(t);if(Kw&&(e.data instanceof ArrayBuffer||Zw(e.data)))return t(ym(e.data));j0(e,!1,n=>{kf||(kf=new TextEncoder),t(kf.encode(n))})}const wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<wm.length;e++)Qo[wm.charCodeAt(e)]=e;const H6=e=>{let t=e.length*.75,n=e.length,i,a=0,l,h,p,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const g=new ArrayBuffer(t),w=new Uint8Array(g);for(i=0;i<n;i+=4)l=Qo[e.charCodeAt(i)],h=Qo[e.charCodeAt(i+1)],p=Qo[e.charCodeAt(i+2)],m=Qo[e.charCodeAt(i+3)],w[a++]=l<<2|h>>4,w[a++]=(h&15)<<4|p>>2,w[a++]=(p&3)<<6|m&63;return g},W6=typeof ArrayBuffer=="function",U0=(e,t)=>{if(typeof e!="string")return{type:"message",data:qw(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:G6(e.substring(1),t)}:Yl[n]?e.length>1?{type:Yl[n],data:e.substring(1)}:{type:Yl[n]}:ed},G6=(e,t)=>{if(W6){const n=H6(e);return qw(n,t)}else return{base64:!0,data:e}},qw=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},$w=String.fromCharCode(30),X6=(e,t)=>{const n=e.length,i=new Array(n);let a=0;e.forEach((l,h)=>{j0(l,!1,p=>{i[h]=p,++a===n&&t(i.join($w))})})},Y6=(e,t)=>{const n=e.split($w),i=[];for(let a=0;a<n.length;a++){const l=U0(n[a],t);if(i.push(l),l.type==="error")break}return i};function Q6(){return new TransformStream({transform(e,t){z6(e,n=>{const i=n.length;let a;if(i<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,i);else if(i<65536){a=new Uint8Array(3);const l=new DataView(a.buffer);l.setUint8(0,126),l.setUint16(1,i)}else{a=new Uint8Array(9);const l=new DataView(a.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(i))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(n)})}})}let Lf;function Tl(e){return e.reduce((t,n)=>t+n.length,0)}function Il(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let a=0;a<t;a++)n[a]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}function K6(e,t){Lf||(Lf=new TextDecoder);const n=[];let i=0,a=-1,l=!1;return new TransformStream({transform(h,p){for(n.push(h);;){if(i===0){if(Tl(n)<1)break;const m=Il(n,1);l=(m[0]&128)===128,a=m[0]&127,a<126?i=3:a===126?i=1:i=2}else if(i===1){if(Tl(n)<2)break;const m=Il(n,2);a=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),i=3}else if(i===2){if(Tl(n)<8)break;const m=Il(n,8),g=new DataView(m.buffer,m.byteOffset,m.length),w=g.getUint32(0);if(w>Math.pow(2,53-32)-1){p.enqueue(ed);break}a=w*Math.pow(2,32)+g.getUint32(4),i=3}else{if(Tl(n)<a)break;const m=Il(n,a);p.enqueue(U0(l?m:Lf.decode(m),t)),i=0}if(a===0||a>e){p.enqueue(ed);break}}}})}const Jw=4;function St(e){if(e)return Z6(e)}function Z6(e){for(var t in St.prototype)e[t]=St.prototype[t];return e}St.prototype.on=St.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};St.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};St.prototype.off=St.prototype.removeListener=St.prototype.removeAllListeners=St.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var i,a=0;a<n.length;a++)if(i=n[a],i===t||i.fn===t){n.splice(a,1);break}return n.length===0&&delete this._callbacks["$"+e],this};St.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,a=n.length;i<a;++i)n[i].apply(this,t)}return this};St.prototype.emitReserved=St.prototype.emit;St.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};St.prototype.hasListeners=function(e){return!!this.listeners(e).length};const wu=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Hn=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),q6="arraybuffer";function eC(e,...t){return t.reduce((n,i)=>(e.hasOwnProperty(i)&&(n[i]=e[i]),n),{})}const $6=Hn.setTimeout,J6=Hn.clearTimeout;function Cu(e,t){t.useNativeTimers?(e.setTimeoutFn=$6.bind(Hn),e.clearTimeoutFn=J6.bind(Hn)):(e.setTimeoutFn=Hn.setTimeout.bind(Hn),e.clearTimeoutFn=Hn.clearTimeout.bind(Hn))}const eN=1.33;function tN(e){return typeof e=="string"?nN(e):Math.ceil((e.byteLength||e.size)*eN)}function nN(e){let t=0,n=0;for(let i=0,a=e.length;i<a;i++)t=e.charCodeAt(i),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}function tC(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function rN(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function iN(e){let t={},n=e.split("&");for(let i=0,a=n.length;i<a;i++){let l=n[i].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class sN extends Error{constructor(t,n,i){super(t),this.description=n,this.context=i,this.type="TransportError"}}class V0 extends St{constructor(t){super(),this.writable=!1,Cu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,i){return super.emitReserved("error",new sN(t,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=U0(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=rN(t);return n.length?"?"+n:""}}class oN extends V0{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Y6(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,X6(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=tC()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let nC=!1;try{nC=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const aN=nC;function lN(){}class cN extends oN{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,n){const i=this.request({method:"POST",data:t});i.on("success",n),i.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=t}}class Nr extends St{constructor(t,n,i){super(),this.createRequest=t,Cu(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var t;const n=eC(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&i.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var a;i.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Nr.requestsCount++,Nr.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=lN,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Nr.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Nr.requestsCount=0;Nr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Cm);else if(typeof addEventListener=="function"){const e="onpagehide"in Hn?"pagehide":"unload";addEventListener(e,Cm,!1)}}function Cm(){for(let e in Nr.requests)Nr.requests.hasOwnProperty(e)&&Nr.requests[e].abort()}const uN=function(){const e=rC({xdomain:!1});return e&&e.responseType!==null}();class fN extends cN{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=uN&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Nr(rC,this.uri(),t)}}function rC(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||aN))return new XMLHttpRequest}catch{}if(!t)try{return new Hn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const iC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class hN extends V0{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,i=iC?{}:eC(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,i)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],a=n===t.length-1;j0(i,this.supportsBinary,l=>{try{this.doWrite(i,l)}catch{}a&&wu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=tC()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Pf=Hn.WebSocket||Hn.MozWebSocket;class dN extends hN{createSocket(t,n,i){return iC?new Pf(t,n,i):n?new Pf(t,n):new Pf(t)}doWrite(t,n){this.ws.send(n)}}class pN extends V0{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=K6(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(n).getReader(),a=Q6();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const l=()=>{i.read().then(({done:p,value:m})=>{p||(this.onPacket(m),l())}).catch(p=>{})};l();const h={type:"open"};this.query.sid&&(h.data=`{"sid":"${this.query.sid}"}`),this._writer.write(h).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const i=t[n],a=n===t.length-1;this._writer.write(i).then(()=>{a&&wu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const gN={websocket:dN,webtransport:pN,polling:fN},mN=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,xN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function td(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),i=e.indexOf("]");n!=-1&&i!=-1&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));let a=mN.exec(e||""),l={},h=14;for(;h--;)l[xN[h]]=a[h]||"";return n!=-1&&i!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=yN(l,l.path),l.queryKey=wN(l,l.query),l}function yN(e,t){const n=/\/{2,9}/g,i=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&i.splice(0,1),t.slice(-1)=="/"&&i.splice(i.length-1,1),i}function wN(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,a,l){a&&(n[a]=l)}),n}const nd=typeof addEventListener=="function"&&typeof removeEventListener=="function",Ql=[];nd&&addEventListener("offline",()=>{Ql.forEach(e=>e())},!1);class Ni extends St{constructor(t,n){if(super(),this.binaryType=q6,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const i=td(t);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=td(n.host).host);Cu(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const a=i.prototype.name;this.transports.push(a),this._transportsByName[a]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=iN(this.opts.query)),nd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Ql.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=Jw,n.transport=t,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Ni.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Ni.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const a=this.writeBuffer[i].data;if(a&&(n+=tN(a)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,wu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,i){return this._sendPacket("message",t,n,i),this}send(t,n,i){return this._sendPacket("message",t,n,i),this}_sendPacket(t,n,i,a){if(typeof n=="function"&&(a=n,n=void 0),typeof i=="function"&&(a=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const l={type:t,data:n,options:i};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():t()}):this.upgrading?i():t()),this}_onError(t){if(Ni.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),nd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Ql.indexOf(this._offlineEventListener);i!==-1&&Ql.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Ni.protocol=Jw;class CN extends Ni{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),i=!1;Ni.priorWebsocketSuccess=!1;const a=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",C=>{if(!i)if(C.type==="pong"&&C.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Ni.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(w(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=n.name,this.emitReserved("upgradeError",S)}}))};function l(){i||(i=!0,w(),n.close(),n=null)}const h=C=>{const S=new Error("probe error: "+C);S.transport=n.name,l(),this.emitReserved("upgradeError",S)};function p(){h("transport closed")}function m(){h("socket closed")}function g(C){n&&C.name!==n.name&&l()}const w=()=>{n.removeListener("open",a),n.removeListener("error",h),n.removeListener("close",p),this.off("close",m),this.off("upgrading",g)};n.once("open",a),n.once("error",h),n.once("close",p),this.once("close",m),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&n.push(t[i]);return n}}let EN=class extends CN{constructor(t,n={}){const i=typeof t=="object"?t:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(a=>gN[a]).filter(a=>!!a)),super(t,i)}};function vN(e,t="",n){let i=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),i=td(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const l=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+l+":"+i.port+t,i.href=i.protocol+"://"+l+(n&&n.port===i.port?"":":"+i.port),i}const AN=typeof ArrayBuffer=="function",SN=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,sC=Object.prototype.toString,TN=typeof Blob=="function"||typeof Blob<"u"&&sC.call(Blob)==="[object BlobConstructor]",IN=typeof File=="function"||typeof File<"u"&&sC.call(File)==="[object FileConstructor]";function z0(e){return AN&&(e instanceof ArrayBuffer||SN(e))||TN&&e instanceof Blob||IN&&e instanceof File}function Kl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,i=e.length;n<i;n++)if(Kl(e[n]))return!0;return!1}if(z0(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Kl(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Kl(e[n]))return!0;return!1}function bN(e){const t=[],n=e.data,i=e;return i.data=rd(n,t),i.attachments=t.length,{packet:i,buffers:t}}function rd(e,t){if(!e)return e;if(z0(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=rd(e[i],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=rd(e[i],t));return n}return e}function NN(e,t){return e.data=id(e.data,t),delete e.attachments,e}function id(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=id(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=id(e[n],t));return e}const _N=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],RN=5;var Me;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Me||(Me={}));class ON{constructor(t){this.replacer=t}encode(t){return(t.type===Me.EVENT||t.type===Me.ACK)&&Kl(t)?this.encodeAsBinary({type:t.type===Me.EVENT?Me.BINARY_EVENT:Me.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Me.BINARY_EVENT||t.type===Me.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=bN(t),i=this.encodeAsString(n.packet),a=n.buffers;return a.unshift(i),a}}function Em(e){return Object.prototype.toString.call(e)==="[object Object]"}class H0 extends St{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const i=n.type===Me.BINARY_EVENT;i||n.type===Me.BINARY_ACK?(n.type=i?Me.EVENT:Me.ACK,this.reconstructor=new MN(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(z0(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const i={type:Number(t.charAt(0))};if(Me[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===Me.BINARY_EVENT||i.type===Me.BINARY_ACK){const l=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const h=t.substring(l,n);if(h!=Number(h)||t.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(h)}if(t.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););i.nsp=t.substring(l,n)}else i.nsp="/";const a=t.charAt(n+1);if(a!==""&&Number(a)==a){const l=n+1;for(;++n;){const h=t.charAt(n);if(h==null||Number(h)!=h){--n;break}if(n===t.length)break}i.id=Number(t.substring(l,n+1))}if(t.charAt(++n)){const l=this.tryParse(t.substr(n));if(H0.isPayloadValid(i.type,l))i.data=l;else throw new Error("invalid payload")}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Me.CONNECT:return Em(n);case Me.DISCONNECT:return n===void 0;case Me.CONNECT_ERROR:return typeof n=="string"||Em(n);case Me.EVENT:case Me.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&_N.indexOf(n[0])===-1);case Me.ACK:case Me.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class MN{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=NN(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const DN=Object.freeze(Object.defineProperty({__proto__:null,Decoder:H0,Encoder:ON,get PacketType(){return Me},protocol:RN},Symbol.toStringTag,{value:"Module"}));function nr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const kN=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class oC extends St{constructor(t,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[nr(t,"open",this.onopen.bind(this)),nr(t,"packet",this.onpacket.bind(this)),nr(t,"error",this.onerror.bind(this)),nr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var i,a,l;if(kN.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const h={type:Me.EVENT,data:n};if(h.options={},h.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const w=this.ids++,C=n.pop();this._registerAckCallback(w,C),h.id=w}const p=(a=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||a===void 0?void 0:a.writable,m=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!p||(m?(this.notifyOutgoingListeners(h),this.packet(h)):this.sendBuffer.push(h)),this.flags={},this}_registerAckCallback(t,n){var i;const a=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(a===void 0){this.acks[t]=n;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===t&&this.sendBuffer.splice(p,1);n.call(this,new Error("operation has timed out"))},a),h=(...p)=>{this.io.clearTimeoutFn(l),n.apply(this,p)};h.withError=!0,this.acks[t]=h}emitWithAck(t,...n){return new Promise((i,a)=>{const l=(h,p)=>h?a(h):i(p);l.withError=!0,n.push(l),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...l)=>i!==this._queue[0]?void 0:(a!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(a)):(this._queue.shift(),n&&n(null,...l)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Me.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Me.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Me.EVENT:case Me.BINARY_EVENT:this.onevent(t);break;case Me.ACK:case Me.BINARY_ACK:this.onack(t);break;case Me.DISCONNECT:this.ondisconnect();break;case Me.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let i=!1;return function(...a){i||(i=!0,n.packet({type:Me.ACK,id:t,data:a}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Me.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(t===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,t.data)}}}function yo(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}yo.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};yo.prototype.reset=function(){this.attempts=0};yo.prototype.setMin=function(e){this.ms=e};yo.prototype.setMax=function(e){this.max=e};yo.prototype.setJitter=function(e){this.jitter=e};class sd extends St{constructor(t,n){var i;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Cu(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new yo({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const a=n.parser||DN;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new EN(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const a=nr(n,"open",function(){i.onopen(),t&&t()}),l=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),t?t(p):this.maybeReconnectOnOpen()},h=nr(n,"error",l);if(this._timeout!==!1){const p=this._timeout,m=this.setTimeoutFn(()=>{a(),l(new Error("timeout")),n.close()},p);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(a),this.subs.push(h),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(nr(t,"ping",this.onping.bind(this)),nr(t,"data",this.ondata.bind(this)),nr(t,"error",this.onerror.bind(this)),nr(t,"close",this.onclose.bind(this)),nr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){wu(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new oC(this,t,n),this.nsps[t]=i),i}_destroy(t){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let i=0;i<n.length;i++)this.engine.write(n[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const zo={};function Zl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=vN(e,t.path||"/socket.io"),i=n.source,a=n.id,l=n.path,h=zo[a]&&l in zo[a].nsps,p=t.forceNew||t["force new connection"]||t.multiplex===!1||h;let m;return p?m=new sd(i,t):(zo[a]||(zo[a]=new sd(i,t)),m=zo[a]),n.query&&!t.query&&(t.query=n.queryKey),m.socket(n.path,t)}Object.assign(Zl,{Manager:sd,Socket:oC,io:Zl,connect:Zl});var Eu={},aC={exports:{}},LN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",PN=LN,BN=PN;function lC(){}function cC(){}cC.resetWarningCache=lC;var FN=function(){function e(i,a,l,h,p,m){if(m!==BN){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:cC,resetWarningCache:lC};return n.PropTypes=n,n};aC.exports=FN();var uC=aC.exports,fC={L:1,M:0,Q:3,H:2},hC={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},jN=hC;function dC(e){this.mode=jN.MODE_8BIT_BYTE,this.data=e}dC.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var UN=dC,bl=fC;function Ar(e,t){this.totalCount=e,this.dataCount=t}Ar.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Ar.getRSBlocks=function(e,t){var n=Ar.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var i=n.length/3,a=new Array,l=0;l<i;l++)for(var h=n[l*3+0],p=n[l*3+1],m=n[l*3+2],g=0;g<h;g++)a.push(new Ar(p,m));return a};Ar.getRsBlockTable=function(e,t){switch(t){case bl.L:return Ar.RS_BLOCK_TABLE[(e-1)*4+0];case bl.M:return Ar.RS_BLOCK_TABLE[(e-1)*4+1];case bl.Q:return Ar.RS_BLOCK_TABLE[(e-1)*4+2];case bl.H:return Ar.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var VN=Ar;function pC(){this.buffer=new Array,this.length=0}pC.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var zN=pC,ir={glog:function(e){if(e<1)throw new Error("glog("+e+")");return ir.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return ir.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var zt=0;zt<8;zt++)ir.EXP_TABLE[zt]=1<<zt;for(var zt=8;zt<256;zt++)ir.EXP_TABLE[zt]=ir.EXP_TABLE[zt-4]^ir.EXP_TABLE[zt-5]^ir.EXP_TABLE[zt-6]^ir.EXP_TABLE[zt-8];for(var zt=0;zt<255;zt++)ir.LOG_TABLE[ir.EXP_TABLE[zt]]=zt;var gC=ir,Ki=gC;function ql(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}ql.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<e.getLength();i++)t[n+i]^=Ki.gexp(Ki.glog(this.get(n))+Ki.glog(e.get(i)));return new ql(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Ki.glog(this.get(0))-Ki.glog(e.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(var i=0;i<e.getLength();i++)n[i]^=Ki.gexp(Ki.glog(e.get(i))+t);return new ql(n,0).mod(e)}};var mC=ql,Fn=hC,vm=mC,HN=gC,ai={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ut={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ut.getBCHDigit(t)-Ut.getBCHDigit(Ut.G15)>=0;)t^=Ut.G15<<Ut.getBCHDigit(t)-Ut.getBCHDigit(Ut.G15);return(e<<10|t)^Ut.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ut.getBCHDigit(t)-Ut.getBCHDigit(Ut.G18)>=0;)t^=Ut.G18<<Ut.getBCHDigit(t)-Ut.getBCHDigit(Ut.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ut.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case ai.PATTERN000:return(t+n)%2==0;case ai.PATTERN001:return t%2==0;case ai.PATTERN010:return n%3==0;case ai.PATTERN011:return(t+n)%3==0;case ai.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case ai.PATTERN101:return t*n%2+t*n%3==0;case ai.PATTERN110:return(t*n%2+t*n%3)%2==0;case ai.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new vm([1],0),n=0;n<e;n++)t=t.multiply(new vm([1,HN.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Fn.MODE_NUMBER:return 10;case Fn.MODE_ALPHA_NUM:return 9;case Fn.MODE_8BIT_BYTE:return 8;case Fn.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Fn.MODE_NUMBER:return 12;case Fn.MODE_ALPHA_NUM:return 11;case Fn.MODE_8BIT_BYTE:return 16;case Fn.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Fn.MODE_NUMBER:return 14;case Fn.MODE_ALPHA_NUM:return 13;case Fn.MODE_8BIT_BYTE:return 16;case Fn.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(var a=0;a<t;a++){for(var l=0,h=e.isDark(i,a),p=-1;p<=1;p++)if(!(i+p<0||t<=i+p))for(var m=-1;m<=1;m++)a+m<0||t<=a+m||p==0&&m==0||h==e.isDark(i+p,a+m)&&l++;l>5&&(n+=3+l-5)}for(var i=0;i<t-1;i++)for(var a=0;a<t-1;a++){var g=0;e.isDark(i,a)&&g++,e.isDark(i+1,a)&&g++,e.isDark(i,a+1)&&g++,e.isDark(i+1,a+1)&&g++,(g==0||g==4)&&(n+=3)}for(var i=0;i<t;i++)for(var a=0;a<t-6;a++)e.isDark(i,a)&&!e.isDark(i,a+1)&&e.isDark(i,a+2)&&e.isDark(i,a+3)&&e.isDark(i,a+4)&&!e.isDark(i,a+5)&&e.isDark(i,a+6)&&(n+=40);for(var a=0;a<t;a++)for(var i=0;i<t-6;i++)e.isDark(i,a)&&!e.isDark(i+1,a)&&e.isDark(i+2,a)&&e.isDark(i+3,a)&&e.isDark(i+4,a)&&!e.isDark(i+5,a)&&e.isDark(i+6,a)&&(n+=40);for(var w=0,a=0;a<t;a++)for(var i=0;i<t;i++)e.isDark(i,a)&&w++;var C=Math.abs(100*w/t/t-50)/5;return n+=C*10,n}},WN=Ut,GN=UN,xC=VN,yC=zN,Vi=WN,XN=mC;function Sr(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var Mn=Sr.prototype;Mn.addData=function(e){var t=new GN(e);this.dataList.push(t),this.dataCache=null};Mn.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};Mn.getModuleCount=function(){return this.moduleCount};Mn.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=xC.getRSBlocks(e,this.errorCorrectLevel),n=new yC,i=0,a=0;a<t.length;a++)i+=t[a].dataCount;for(var a=0;a<this.dataList.length;a++){var l=this.dataList[a];n.put(l.mode,4),n.put(l.getLength(),Vi.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=i*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};Mn.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Sr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};Mn.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(0<=n&&n<=6&&(i==0||i==6)||0<=i&&i<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=i&&i<=4?this.modules[e+n][t+i]=!0:this.modules[e+n][t+i]=!1)};Mn.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=Vi.getLostPoint(this);(n==0||e>i)&&(e=i,t=n)}return t};Mn.createMovieClip=function(e,t,n){var i=e.createEmptyMovieClip(t,n),a=1;this.make();for(var l=0;l<this.modules.length;l++)for(var h=l*a,p=0;p<this.modules[l].length;p++){var m=p*a,g=this.modules[l][p];g&&(i.beginFill(0,100),i.moveTo(m,h),i.lineTo(m+a,h),i.lineTo(m+a,h+a),i.lineTo(m,h+a),i.endFill())}return i};Mn.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};Mn.setupPositionAdjustPattern=function(){for(var e=Vi.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],a=e[n];if(this.modules[i][a]==null)for(var l=-2;l<=2;l++)for(var h=-2;h<=2;h++)l==-2||l==2||h==-2||h==2||l==0&&h==0?this.modules[i+l][a+h]=!0:this.modules[i+l][a+h]=!1}};Mn.setupTypeNumber=function(e){for(var t=Vi.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var i=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(var n=0;n<18;n++){var i=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}};Mn.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=Vi.getBCHTypeInfo(n),a=0;a<15;a++){var l=!e&&(i>>a&1)==1;a<6?this.modules[a][8]=l:a<8?this.modules[a+1][8]=l:this.modules[this.moduleCount-15+a][8]=l}for(var a=0;a<15;a++){var l=!e&&(i>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=l:a<9?this.modules[8][15-a-1+1]=l:this.modules[8][15-a-1]=l}this.modules[this.moduleCount-8][8]=!e};Mn.mapData=function(e,t){for(var n=-1,i=this.moduleCount-1,a=7,l=0,h=this.moduleCount-1;h>0;h-=2)for(h==6&&h--;;){for(var p=0;p<2;p++)if(this.modules[i][h-p]==null){var m=!1;l<e.length&&(m=(e[l]>>>a&1)==1);var g=Vi.getMask(t,i,h-p);g&&(m=!m),this.modules[i][h-p]=m,a--,a==-1&&(l++,a=7)}if(i+=n,i<0||this.moduleCount<=i){i-=n,n=-n;break}}};Sr.PAD0=236;Sr.PAD1=17;Sr.createData=function(e,t,n){for(var i=xC.getRSBlocks(e,t),a=new yC,l=0;l<n.length;l++){var h=n[l];a.put(h.mode,4),a.put(h.getLength(),Vi.getLengthInBits(h.mode,e)),h.write(a)}for(var p=0,l=0;l<i.length;l++)p+=i[l].dataCount;if(a.getLengthInBits()>p*8)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+p*8+")");for(a.getLengthInBits()+4<=p*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=p*8||(a.put(Sr.PAD0,8),a.getLengthInBits()>=p*8));)a.put(Sr.PAD1,8);return Sr.createBytes(a,i)};Sr.createBytes=function(e,t){for(var n=0,i=0,a=0,l=new Array(t.length),h=new Array(t.length),p=0;p<t.length;p++){var m=t[p].dataCount,g=t[p].totalCount-m;i=Math.max(i,m),a=Math.max(a,g),l[p]=new Array(m);for(var w=0;w<l[p].length;w++)l[p][w]=255&e.buffer[w+n];n+=m;var C=Vi.getErrorCorrectPolynomial(g),S=new XN(l[p],C.getLength()-1),_=S.mod(C);h[p]=new Array(C.getLength()-1);for(var w=0;w<h[p].length;w++){var R=w+_.getLength()-h[p].length;h[p][w]=R>=0?_.get(R):0}}for(var O=0,w=0;w<t.length;w++)O+=t[w].totalCount;for(var L=new Array(O),M=0,w=0;w<i;w++)for(var p=0;p<t.length;p++)w<l[p].length&&(L[M++]=l[p][w]);for(var w=0;w<a;w++)for(var p=0;p<t.length;p++)w<h[p].length&&(L[M++]=h[p][w]);return L};var YN=Sr,W0={};Object.defineProperty(W0,"__esModule",{value:!0});var QN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},KN=uC,jn=CC(KN),wC=B,Nl=CC(wC);function CC(e){return e&&e.__esModule?e:{default:e}}function ZN(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var qN={bgColor:jn.default.oneOfType([jn.default.object,jn.default.string]).isRequired,bgD:jn.default.string.isRequired,fgColor:jn.default.oneOfType([jn.default.object,jn.default.string]).isRequired,fgD:jn.default.string.isRequired,size:jn.default.number.isRequired,title:jn.default.string,viewBoxSize:jn.default.number.isRequired,xmlns:jn.default.string},G0=(0,wC.forwardRef)(function(e,t){var n=e.bgColor,i=e.bgD,a=e.fgD,l=e.fgColor,h=e.size,p=e.title,m=e.viewBoxSize,g=e.xmlns,w=g===void 0?"http://www.w3.org/2000/svg":g,C=ZN(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Nl.default.createElement("svg",QN({},C,{height:h,ref:t,viewBox:"0 0 "+m+" "+m,width:h,xmlns:w}),p?Nl.default.createElement("title",null,p):null,Nl.default.createElement("path",{d:i,fill:n}),Nl.default.createElement("path",{d:a,fill:l}))});G0.displayName="QRCodeSvg";G0.propTypes=qN;W0.default=G0;Object.defineProperty(Eu,"__esModule",{value:!0});Eu.QRCode=void 0;var $N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},JN=uC,Lr=Ha(JN),e5=fC,t5=Ha(e5),n5=YN,r5=Ha(n5),EC=B,i5=Ha(EC),s5=W0,o5=Ha(s5);function Ha(e){return e&&e.__esModule?e:{default:e}}function a5(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}var l5={bgColor:Lr.default.oneOfType([Lr.default.object,Lr.default.string]),fgColor:Lr.default.oneOfType([Lr.default.object,Lr.default.string]),level:Lr.default.string,size:Lr.default.number,value:Lr.default.string.isRequired},vu=(0,EC.forwardRef)(function(e,t){var n=e.bgColor,i=n===void 0?"#FFFFFF":n,a=e.fgColor,l=a===void 0?"#000000":a,h=e.level,p=h===void 0?"L":h,m=e.size,g=m===void 0?256:m,w=e.value,C=a5(e,["bgColor","fgColor","level","size","value"]),S=new r5.default(-1,t5.default[p]);S.addData(w),S.make();var _=S.modules;return i5.default.createElement(o5.default,$N({},C,{bgColor:i,bgD:_.map(function(R,O){return R.map(function(L,M){return L?"":"M "+M+" "+O+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:l,fgD:_.map(function(R,O){return R.map(function(L,M){return L?"M "+M+" "+O+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:g,viewBoxSize:_.length}))});Eu.QRCode=vu;vu.displayName="QRCode";vu.propTypes=l5;var c5=Eu.default=vu;const vC=({qrData:e,expiresAt:t,courseName:n,onFullScreen:i})=>{const[a,l]=B.useState(""),[h,p]=B.useState(!1);return B.useEffect(()=>{const m=setInterval(()=>{const g=new Date().getTime(),C=new Date(t).getTime()-g;if(C<-2e3)clearInterval(m),l("EXPIRED"),p(!0);else{const S=Math.floor(C%36e5/6e4),_=Math.floor(C%(1e3*60)/1e3);l(`${S}:${_<10?"0":""}${_}`)}},1e3);return()=>clearInterval(m)},[t]),T.jsxs("div",{className:"flex flex-col items-center justify-center p-6 bg-white rounded-2xl shadow-xl max-w-sm mx-auto border-4 border-slate-900 relative",children:[T.jsxs("div",{className:"w-full flex justify-between items-center mb-4 border-b border-gray-100 pb-2",children:[T.jsx("h3",{className:"font-bold text-lg text-slate-800",children:n}),T.jsx("button",{onClick:i,className:"text-gray-400 hover:text-blue-600",children:T.jsx(Vb,{size:20})})]}),T.jsx("div",{className:"p-4 bg-white rounded-xl shadow-inner border border-gray-200",children:T.jsx(c5,{value:h?"EXPIRED_SESSION":JSON.stringify(e),size:200,fgColor:h?"#94a3b8":"#000000"})}),T.jsxs("div",{className:`mt-6 flex items-center gap-2 px-6 py-2 rounded-full font-mono font-bold text-xl transition-colors ${h?"bg-red-100 text-red-600":"bg-blue-100 text-blue-700"}`,children:[h?T.jsx(kb,{size:24}):T.jsx(yu,{size:24}),a]}),T.jsx("p",{className:"mt-4 text-center text-sm text-gray-500",children:h?"This session has ended. Please generate a new code.":"Scan with student app to mark attendance"})]})},AC=({sessionData:e,attendanceData:t,showLiveButton:n=!0})=>{const i=Or(),a=()=>{const l=["Name","Roll Number","Status","Time"],h=t.map(w=>[w.student.user.name,w.student.rollNumber,w.status,new Date(w.createdAt).toLocaleTimeString()]),p="data:text/csv;charset=utf-8,"+l.join(",")+`
`+h.map(w=>w.join(",")).join(`
`),m=encodeURI(p),g=document.createElement("a");g.setAttribute("href",m),g.setAttribute("download",`attendance_${e.createdAt}.csv`),document.body.appendChild(g),g.click()};return e?T.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 p-6",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("div",{children:[T.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white",children:["Session: ",new Date(e.createdAt).toLocaleDateString()]}),T.jsxs("p",{className:"text-sm text-slate-500",children:[new Date(e.createdAt).toLocaleTimeString(),"  ",t.length," Students Present"]})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[n&&T.jsx("button",{onClick:()=>i(`/teacher/sessions/${e._id}/live`),className:"flex items-center gap-2 text-sm font-medium text-emerald-600 hover:text-emerald-700 bg-emerald-50 hover:bg-emerald-100 px-4 py-2 rounded-lg transition-colors",children:"Open Live View"}),T.jsxs("button",{onClick:a,className:"flex items-center gap-2 text-sm font-medium text-blue-600 hover:text-blue-700 bg-blue-50 hover:bg-blue-100 px-4 py-2 rounded-lg transition-colors",children:[T.jsx(Pb,{size:16})," Export CSV"]})]})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"border-b border-slate-200 dark:border-slate-700 text-slate-500 text-sm",children:[T.jsx("th",{className:"py-3 px-2",children:"Student Name"}),T.jsx("th",{className:"py-3 px-2",children:"Roll No"}),T.jsx("th",{className:"py-3 px-2",children:"Time"}),T.jsx("th",{className:"py-3 px-2",children:"Status"})]})}),T.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:t.length>0?t.map(l=>T.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[T.jsx("td",{className:"py-3 px-2 font-medium text-slate-700 dark:text-slate-200",children:l.student.user.name}),T.jsx("td",{className:"py-3 px-2 text-slate-500",children:l.student.rollNumber}),T.jsx("td",{className:"py-3 px-2 text-slate-500 text-sm font-mono",children:new Date(l.createdAt).toLocaleTimeString()}),T.jsx("td",{className:"py-3 px-2",children:T.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-green-600 bg-green-100 px-2 py-1 rounded-full",children:[T.jsx(Lc,{size:12})," Present"]})})]},l._id)):T.jsx("tr",{children:T.jsx("td",{colSpan:"4",className:"py-8 text-center text-slate-400",children:"No attendance records found for this session."})})})]})})]}):T.jsx("div",{className:"text-gray-500",children:"Select a session to view details."})},u5="http://localhost:5000",f5=()=>{const{sessionId:e}=Hx(),t=Or(),[n,i]=B.useState(null),[a,l]=B.useState([]),[h,p]=B.useState(!0),[m,g]=B.useState(null);return B.useEffect(()=>{(async()=>{try{p(!0),g(null);const[C,S]=await Promise.all([At.get(`/teacher/sessions/${e}/details`),At.get(`/teacher/sessions/${e}/attendance`)]);i(C.data),l(S.data||[])}catch(C){console.error("Error loading live session data",C),g("Failed to load live session. Please try again.")}finally{p(!1)}})()},[e]),B.useEffect(()=>{const w=Zl(u5,{transports:["websocket"]});w.on("connect",()=>{w.emit("joinSession",e)}),w.on("attendance:marked",S=>{S.sessionId===e&&l(_=>[..._,S.attendance])});const C=setInterval(async()=>{try{const S=await At.get(`/teacher/sessions/${e}/attendance`);l(S.data||[])}catch(S){console.error("Polling attendance failed",S)}},5e3);return()=>{w.emit("leaveSession",e),w.disconnect(),clearInterval(C)}},[e]),T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-10",children:[T.jsx(xo,{title:"Live Session"}),T.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[T.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 mb-6 transition-colors",children:[T.jsx(k0,{size:20})," Back"]}),m&&T.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:m}),h||!n?T.jsx("p",{className:"text-slate-500",children:"Loading session..."}):T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsx("div",{className:"flex justify-center",children:T.jsx(vC,{qrData:n.qrCode,expiresAt:n.expiresAt,courseName:n.courseName,onFullScreen:()=>{}})}),T.jsx("div",{className:"md:col-span-1",children:T.jsx(AC,{sessionData:n,attendanceData:a,showLiveButton:!1})})]})]})]})},h5=({onSuccess:e})=>{const[t,n]=B.useState("student"),[i,a]=B.useState(!1),[l,h]=B.useState({name:"",email:"",password:"password123",department:"",rollNumber:"",semester:"",designation:"",phone:""}),p=async m=>{var g,w;m.preventDefault(),a(!0);try{await At.post("/auth/register",{...l,role:t}),alert("User Registered Successfully!"),e()}catch(C){alert(((w=(g=C.response)==null?void 0:g.data)==null?void 0:w.message)||"Failed to register user")}finally{a(!1)}};return T.jsxs("form",{onSubmit:p,className:"space-y-4",children:[T.jsx("div",{className:"flex bg-slate-100 p-1 rounded-lg mb-4",children:["student","teacher","admin"].map(m=>T.jsx("button",{type:"button",onClick:()=>n(m),className:`flex-1 py-2 rounded-md text-sm font-medium capitalize transition-all ${t===m?"bg-white shadow-sm text-blue-600":"text-slate-500"}`,children:m},m))}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Full Name"}),T.jsx("input",{type:"text",required:!0,className:"input-field",value:l.name,onChange:m=>h({...l,name:m.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Email"}),T.jsx("input",{type:"email",required:!0,className:"input-field",value:l.email,onChange:m=>h({...l,email:m.target.value})})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Password"}),T.jsx("input",{type:"text",required:!0,className:"input-field bg-slate-100",value:l.password}),T.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Default password: password123"})]}),t==="student"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Roll Number"}),T.jsx("input",{type:"text",required:!0,className:"input-field",value:l.rollNumber,onChange:m=>h({...l,rollNumber:m.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Semester"}),T.jsx("input",{type:"number",required:!0,className:"input-field",value:l.semester,onChange:m=>h({...l,semester:m.target.value})})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Department"}),T.jsx("input",{type:"text",required:!0,className:"input-field",value:l.department,onChange:m=>h({...l,department:m.target.value})})]})]}),t==="teacher"&&T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Department"}),T.jsx("input",{type:"text",required:!0,className:"input-field",value:l.department,onChange:m=>h({...l,department:m.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Designation"}),T.jsx("input",{type:"text",required:!0,className:"input-field",placeholder:"e.g. Asst. Professor",value:l.designation,onChange:m=>h({...l,designation:m.target.value})})]})]}),T.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary mt-6",children:i?"Processing...":`Register ${t}`})]})},d5=({onSuccess:e})=>{const[t,n]=B.useState([]),[i,a]=B.useState(!1),[l,h]=B.useState({name:"",code:"",department:"",credits:3,semester:1,teacherId:""});B.useEffect(()=>{(async()=>{try{const w=(await At.get("/admin/users")).data.filter(C=>C.role==="teacher");n(w)}catch{console.error("Failed to load teachers")}})()},[]);const p=async m=>{var g,w;m.preventDefault(),a(!0);try{await At.post("/admin/courses",l),alert("Course Created Successfully!"),e()}catch(C){alert(((w=(g=C.response)==null?void 0:g.data)==null?void 0:w.message)||"Failed to create course")}finally{a(!1)}};return T.jsxs("form",{onSubmit:p,className:"space-y-4",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Course Name"}),T.jsx("input",{type:"text",className:"input-field",placeholder:"e.g. Software Engineering",required:!0,value:l.name,onChange:m=>h({...l,name:m.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Course Code"}),T.jsx("input",{type:"text",className:"input-field uppercase",placeholder:"e.g. CS302",required:!0,value:l.code,onChange:m=>h({...l,code:m.target.value})})]})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Department"}),T.jsx("input",{type:"text",className:"input-field",placeholder:"e.g. CSE",required:!0,value:l.department,onChange:m=>h({...l,department:m.target.value})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Semester"}),T.jsx("input",{type:"number",className:"input-field",min:"1",max:"8",required:!0,value:l.semester,onChange:m=>h({...l,semester:m.target.value})})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"label",children:"Assign Teacher"}),T.jsxs("select",{className:"input-field",required:!0,value:l.teacherId,onChange:m=>h({...l,teacherId:m.target.value}),children:[T.jsx("option",{value:"",children:"Select a Professor"}),t.map(m=>T.jsxs("option",{value:m._id,children:[m.name," (",m.email,")"]},m._id))]}),t.length===0&&T.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No teachers found. Please register a teacher first."})]}),T.jsx("button",{type:"submit",disabled:i,className:"w-full btn-primary mt-4",children:i?"Creating...":"Create Course"})]})},p5=({isOpen:e,onClose:t,title:n,children:i})=>e?T.jsx(Rb,{children:T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:T.jsxs(Di.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden",children:[T.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900",children:[T.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white",children:n}),T.jsx("button",{onClick:t,className:"p-2 hover:bg-red-100 hover:text-red-500 rounded-full transition-colors",children:T.jsx(Kb,{size:20})})]}),T.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:i})]})})}):null,g5=()=>{const[e,t]=B.useState({students:0,teachers:0,courses:0,totalAttendanceLogs:0}),[n,i]=B.useState(null);B.useEffect(()=>{a()},[]);const a=async()=>{try{const h=await At.get("/admin/stats");t(h.data)}catch(h){console.error("Error fetching stats:",h)}},l=()=>{i(null),a()};return T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-10",children:[T.jsx(xo,{title:"Administrator Portal"}),T.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white mb-6",children:"System Overview"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-10",children:[T.jsx(zr,{icon:Pc,label:"Total Students",value:e.students,color:"bg-blue-500"}),T.jsx(zr,{icon:Pc,label:"Total Teachers",value:e.teachers,color:"bg-indigo-500"}),T.jsx(zr,{icon:xu,label:"Active Courses",value:e.courses,color:"bg-purple-500"}),T.jsx(zr,{icon:Lb,label:"Attendance Logs",value:e.totalAttendanceLogs,color:"bg-emerald-500"})]}),T.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white mb-4",children:"Quick Management"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsx(Am,{title:"Register New User",desc:"Create accounts for Students or Teachers.",onClick:()=>i("user"),color:"from-blue-600 to-blue-400"}),T.jsx(Am,{title:"Create New Course",desc:"Set up a course and assign a teacher.",onClick:()=>i("course"),color:"from-purple-600 to-purple-400"})]})]}),T.jsxs(p5,{isOpen:!!n,onClose:l,title:n==="user"?"Add New User":"Create New Course",children:[n==="user"&&T.jsx(h5,{onSuccess:l}),n==="course"&&T.jsx(d5,{onSuccess:l})]})]})},Am=({title:e,desc:t,onClick:n,color:i})=>T.jsxs("button",{onClick:n,className:"group relative overflow-hidden rounded-2xl p-8 text-left transition-all hover:shadow-xl hover:scale-[1.01]",children:[T.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${i} opacity-90`}),T.jsxs("div",{className:"relative z-10 text-white",children:[T.jsxs("h3",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[T.jsx(Gb,{})," ",e]}),T.jsx("p",{className:"text-white/80",children:t})]}),T.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-white/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"})]}),Bf=({children:e,allowedRoles:t})=>{const{user:n,loading:i}=B.useContext(ji);return i?T.jsx("div",{children:"Loading..."}):n?t&&!t.includes(n.role)?T.jsx(ts,{to:"/",replace:!0}):e||T.jsx(wA,{}):T.jsx(ts,{to:"/login",replace:!0})},m5=()=>{const[e,t]=B.useState([]),[n,i]=B.useState(""),[a,l]=B.useState(10),[h,p]=B.useState(null),[m,g]=B.useState(!0);B.useEffect(()=>{w()},[]);const w=async()=>{try{const _=await At.get("/teacher/courses");t(_.data),_.data.length>0&&i(_.data[0]._id)}catch(_){console.error("Failed to fetch courses",_)}finally{g(!1)}},C=async _=>{var R,O,L;_.preventDefault(),g(!0);try{const M=await At.post("/teacher/sessions",{courseId:n,timeInMinutes:a});p({...M.data,courseName:(R=e.find(N=>N._id===n))==null?void 0:R.name})}catch(M){alert(((L=(O=M.response)==null?void 0:O.data)==null?void 0:L.message)||"Error creating session")}finally{g(!1)}},S=async()=>{if(!(h!=null&&h.sessionId)){p(null);return}try{await At.put(`/teacher/sessions/${h.sessionId}/cancel`)}catch(_){console.error("Failed to cancel session",_)}finally{p(null)}};return T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-10",children:[T.jsx(xo,{title:"Classroom Mode"}),T.jsx("div",{className:"container mx-auto px-4 mt-8 flex justify-center",children:h?T.jsxs(Di.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-4xl",children:[T.jsx("div",{className:"flex items-center justify-between mb-6",children:T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("button",{onClick:S,className:"text-slate-500 hover:text-slate-800 flex items-center gap-1",children:[T.jsx(k0,{size:20})," End Session"]}),T.jsx("span",{className:"text-slate-300",children:"|"}),T.jsx("span",{className:"text-green-500 font-bold animate-pulse",children:" Live Session Active"})]})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[T.jsx("div",{className:"flex justify-center",children:T.jsx(vC,{qrData:h.qrCode,expiresAt:h.expiresAt,courseName:h.courseName,onFullScreen:()=>{}})}),T.jsxs("div",{className:"glass-panel p-6 rounded-2xl bg-white/50",children:[T.jsxs("h3",{className:"text-xl font-bold text-slate-800 mb-4 flex items-center gap-2",children:[T.jsx(Pc,{className:"text-blue-600"})," Live Attendance"]}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[T.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Students Marked"}),T.jsx("p",{className:"text-3xl font-bold text-blue-800",children:"0"}),T.jsx("p",{className:"text-xs text-blue-400 mt-1",children:"Updates automatically"})]}),T.jsx("div",{className:"text-center text-gray-400 text-sm mt-10",children:"List of students will appear here..."})]})]})]})]}):T.jsxs(Di.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-panel w-full max-w-lg p-8 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-xl",children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg shadow-blue-500/30",children:T.jsx(Wb,{className:"text-white fill-white ml-1",size:32})}),T.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Start New Session"}),T.jsx("p",{className:"text-slate-500",children:"Generate a secure QR code for your class"})]}),T.jsxs("form",{onSubmit:C,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Select Course"}),T.jsx("select",{className:"input-field bg-slate-50 dark:bg-slate-800 dark:text-white",value:n,onChange:_=>i(_.target.value),required:!0,children:e.map(_=>T.jsxs("option",{value:_._id,children:[_.code," - ",_.name]},_._id))})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Session Validity (Minutes)"}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx(yu,{className:"text-slate-400"}),T.jsx("input",{type:"range",min:"1",max:"60",value:a,onChange:_=>l(_.target.value),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"}),T.jsxs("span",{className:"font-bold text-blue-600 min-w-[3rem]",children:[a," m"]})]})]}),T.jsx("button",{type:"submit",disabled:m,className:"w-full btn-primary py-3 text-lg flex items-center justify-center gap-2",children:m?"Generating...":"Generate QR Code"})]})]})})]})},x5=({session:e,isSelected:t,onClick:n})=>T.jsxs("button",{onClick:n,className:`w-full text-left p-4 rounded-lg flex items-center gap-3 transition-all border ${t?"bg-blue-600 text-white shadow-md border-blue-600":"bg-white hover:bg-slate-50 text-slate-700 border-slate-200"}`,children:[T.jsx("div",{className:`p-2 rounded ${t?"bg-blue-500":"bg-slate-100"}`,children:T.jsx(L0,{size:18})}),T.jsxs("div",{children:[T.jsx("p",{className:"font-semibold text-sm",children:new Date(e.createdAt).toLocaleDateString()}),T.jsxs("div",{className:"flex items-center gap-1 text-xs opacity-80 mt-1",children:[T.jsx(yu,{size:12}),new Date(e.createdAt).toLocaleTimeString()]})]})]}),y5=()=>{const{courseId:e}=Hx(),t=Or(),[n,i]=B.useState([]),[a,l]=B.useState(null),[h,p]=B.useState([]),[m,g]=B.useState(null),[w,C]=B.useState(!0),[S,_]=B.useState(null);B.useEffect(()=>{(async()=>{try{C(!0),_(null);const M=(await At.get("/teacher/courses")).data.find(b=>b._id===e);g(M||null);const N=await At.get(`/teacher/courses/${e}/sessions`);if(i(N.data||[]),N.data&&N.data.length>0){l(N.data[0]);try{const b=await At.get(`/teacher/sessions/${N.data[0]._id}/attendance`);p(b.data||[])}catch(b){console.error("Error preloading attendance",b),p([])}}else l(null),p([])}catch(L){console.error("Error loading data",L),_("Failed to load sessions. Please try again later.")}finally{C(!1)}})()},[e]);const R=async O=>{l(O);try{const L=await At.get(`/teacher/sessions/${O._id}/attendance`);p(L.data)}catch(L){console.error("Error fetching attendance list",L),p([])}};return T.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-10",children:[T.jsx(xo,{title:"Attendance Report"}),T.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[T.jsxs("button",{onClick:()=>t("/teacher/dashboard"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 mb-6 transition-colors",children:[T.jsx(k0,{size:20})," Back to Dashboard"]}),S&&T.jsx("div",{className:"mb-4 rounded-lg border border-red-200 bg-red-50 px-4 py-2 text-sm text-red-700",children:S}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[T.jsx("div",{className:"md:col-span-1 space-y-4",children:T.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl shadow-sm border border-slate-200",children:[T.jsxs("h2",{className:"font-bold text-lg mb-4 text-slate-800 dark:text-white",children:[(m==null?void 0:m.name)||"Course"," History"]}),w?T.jsx("p",{className:"text-sm text-slate-500",children:"Loading sessions..."}):n.length===0?T.jsx("p",{className:"text-sm text-slate-500",children:"No sessions found yet for this course."}):T.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-1",children:n.map(O=>T.jsx(x5,{session:O,isSelected:(a==null?void 0:a._id)===O._id,onClick:()=>R(O)},O._id))})]})}),T.jsx("div",{className:"md:col-span-2",children:T.jsx(AC,{sessionData:a,attendanceData:h})})]})]})]})},w5=()=>{const{user:e}=B.useContext(ji);return e?e.role==="student"?T.jsx(ts,{to:"/student/dashboard"}):e.role==="teacher"?T.jsx(ts,{to:"/teacher/dashboard"}):e.role==="admin"?T.jsx(ts,{to:"/admin/dashboard"}):T.jsx(ts,{to:"/login"}):T.jsx(ts,{to:"/login"})};function C5(){return T.jsx(kA,{children:T.jsx(bA,{children:T.jsxs(wl,{children:[T.jsx(En,{path:"/login",element:T.jsx(Zb,{})}),T.jsx(En,{path:"/register",element:T.jsx(qb,{})}),T.jsx(En,{path:"/",element:T.jsx(w5,{})}),T.jsx(En,{path:"/student/*",element:T.jsx(Bf,{allowedRoles:["student"],children:T.jsx(wl,{children:T.jsx(En,{path:"dashboard",element:T.jsx(j6,{})})})})}),T.jsx(En,{path:"/teacher/*",element:T.jsx(Bf,{allowedRoles:["teacher"],children:T.jsxs(wl,{children:[T.jsx(En,{path:"dashboard",element:T.jsx(V6,{})}),T.jsx(En,{path:"generate-qr",element:T.jsx(m5,{})}),T.jsx(En,{path:"courses/:courseId",element:T.jsx(y5,{})}),T.jsx(En,{path:"sessions/:sessionId/live",element:T.jsx(f5,{})})]})})}),T.jsx(En,{path:"/admin/*",element:T.jsx(Bf,{allowedRoles:["admin"],children:T.jsx(wl,{children:T.jsx(En,{path:"dashboard",element:T.jsx(g5,{})})})})})]})})})}Ff.createRoot(document.getElementById("root")).render(T.jsx(Uc.StrictMode,{children:T.jsx(C5,{})}));
