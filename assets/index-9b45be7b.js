function Om(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dm={exports:{}},Gc={},km={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),aC=Symbol.for("react.portal"),lC=Symbol.for("react.fragment"),cC=Symbol.for("react.strict_mode"),uC=Symbol.for("react.profiler"),dC=Symbol.for("react.provider"),fC=Symbol.for("react.context"),hC=Symbol.for("react.forward_ref"),pC=Symbol.for("react.suspense"),gC=Symbol.for("react.memo"),mC=Symbol.for("react.lazy"),v1=Symbol.iterator;function xC(e){return e===null||typeof e!="object"?null:(e=v1&&e[v1]||e["@@iterator"],typeof e=="function"?e:null)}var Lm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pm=Object.assign,Bm={};function ho(e,t,n){this.props=e,this.context=t,this.refs=Bm,this.updater=n||Lm}ho.prototype.isReactComponent={};ho.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ho.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jm(){}jm.prototype=ho.prototype;function ph(e,t,n){this.props=e,this.context=t,this.refs=Bm,this.updater=n||Lm}var gh=ph.prototype=new jm;gh.constructor=ph;Pm(gh,ho.prototype);gh.isPureReactComponent=!0;var C1=Array.isArray,Fm=Object.prototype.hasOwnProperty,mh={current:null},Um={key:!0,ref:!0,__self:!0,__source:!0};function Vm(e,t,n){var s,o={},l=null,f=null;if(t!=null)for(s in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(l=""+t.key),t)Fm.call(t,s)&&!Um.hasOwnProperty(s)&&(o[s]=t[s]);var g=arguments.length-2;if(g===1)o.children=n;else if(1<g){for(var m=Array(g),p=0;p<g;p++)m[p]=arguments[p+2];o.children=m}if(e&&e.defaultProps)for(s in g=e.defaultProps,g)o[s]===void 0&&(o[s]=g[s]);return{$$typeof:Pa,type:e,key:l,ref:f,props:o,_owner:mh.current}}function yC(e,t){return{$$typeof:Pa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function xh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pa}function wC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var E1=/\/+/g;function Qu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wC(""+e.key):t.toString(36)}function Pl(e,t,n,s,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(l){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case Pa:case aC:f=!0}}if(f)return f=e,o=o(f),e=s===""?"."+Qu(f,0):s,C1(o)?(n="",e!=null&&(n=e.replace(E1,"$&/")+"/"),Pl(o,t,n,"",function(p){return p})):o!=null&&(xh(o)&&(o=yC(o,n+(!o.key||f&&f.key===o.key?"":(""+o.key).replace(E1,"$&/")+"/")+e)),t.push(o)),1;if(f=0,s=s===""?".":s+":",C1(e))for(var g=0;g<e.length;g++){l=e[g];var m=s+Qu(l,g);f+=Pl(l,t,n,m,o)}else if(m=xC(e),typeof m=="function")for(e=m.call(e),g=0;!(l=e.next()).done;)l=l.value,m=s+Qu(l,g++),f+=Pl(l,t,n,m,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function cl(e,t,n){if(e==null)return e;var s=[],o=0;return Pl(e,s,"","",function(l){return t.call(n,l,o++)}),s}function vC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var an={current:null},Bl={transition:null},CC={ReactCurrentDispatcher:an,ReactCurrentBatchConfig:Bl,ReactCurrentOwner:mh};function zm(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:cl,forEach:function(e,t,n){cl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return cl(e,function(){t++}),t},toArray:function(e){return cl(e,function(t){return t})||[]},only:function(e){if(!xh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=ho;Re.Fragment=lC;Re.Profiler=uC;Re.PureComponent=ph;Re.StrictMode=cC;Re.Suspense=pC;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CC;Re.act=zm;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Pm({},e.props),o=e.key,l=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,f=mh.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(m in t)Fm.call(t,m)&&!Um.hasOwnProperty(m)&&(s[m]=t[m]===void 0&&g!==void 0?g[m]:t[m])}var m=arguments.length-2;if(m===1)s.children=n;else if(1<m){g=Array(m);for(var p=0;p<m;p++)g[p]=arguments[p+2];s.children=g}return{$$typeof:Pa,type:e.type,key:o,ref:l,props:s,_owner:f}};Re.createContext=function(e){return e={$$typeof:fC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dC,_context:e},e.Consumer=e};Re.createElement=Vm;Re.createFactory=function(e){var t=Vm.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:hC,render:e}};Re.isValidElement=xh;Re.lazy=function(e){return{$$typeof:mC,_payload:{_status:-1,_result:e},_init:vC}};Re.memo=function(e,t){return{$$typeof:gC,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Bl.transition;Bl.transition={};try{e()}finally{Bl.transition=t}};Re.unstable_act=zm;Re.useCallback=function(e,t){return an.current.useCallback(e,t)};Re.useContext=function(e){return an.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return an.current.useDeferredValue(e)};Re.useEffect=function(e,t){return an.current.useEffect(e,t)};Re.useId=function(){return an.current.useId()};Re.useImperativeHandle=function(e,t,n){return an.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return an.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return an.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return an.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return an.current.useReducer(e,t,n)};Re.useRef=function(e){return an.current.useRef(e)};Re.useState=function(e){return an.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return an.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return an.current.useTransition()};Re.version="18.3.1";km.exports=Re;var P=km.exports;const Xc=Mm(P),EC=Om({__proto__:null,default:Xc},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC=P,SC=Symbol.for("react.element"),bC=Symbol.for("react.fragment"),TC=Object.prototype.hasOwnProperty,NC=AC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IC={key:!0,ref:!0,__self:!0,__source:!0};function Hm(e,t,n){var s,o={},l=null,f=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(f=t.ref);for(s in t)TC.call(t,s)&&!IC.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:SC,type:e,key:l,ref:f,props:o,_owner:NC.current}}Gc.Fragment=bC;Gc.jsx=Hm;Gc.jsxs=Hm;Dm.exports=Gc;var v=Dm.exports,Gd={},Wm={exports:{}},Mn={},Gm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ne,fe){var ye=ne.length;ne.push(fe);e:for(;0<ye;){var me=ye-1>>>1,Ae=ne[me];if(0<o(Ae,fe))ne[me]=fe,ne[ye]=Ae,ye=me;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var fe=ne[0],ye=ne.pop();if(ye!==fe){ne[0]=ye;e:for(var me=0,Ae=ne.length,Tt=Ae>>>1;me<Tt;){var je=2*(me+1)-1,En=ne[je],ue=je+1,Zn=ne[ue];if(0>o(En,ye))ue<Ae&&0>o(Zn,En)?(ne[me]=Zn,ne[ue]=ye,me=ue):(ne[me]=En,ne[je]=ye,me=je);else if(ue<Ae&&0>o(Zn,ye))ne[me]=Zn,ne[ue]=ye,me=ue;else break e}}return fe}function o(ne,fe){var ye=ne.sortIndex-fe.sortIndex;return ye!==0?ye:ne.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var f=Date,g=f.now();e.unstable_now=function(){return f.now()-g}}var m=[],p=[],w=1,C=null,A=3,R=!1,O=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ne){for(var fe=n(p);fe!==null;){if(fe.callback===null)s(p);else if(fe.startTime<=ne)s(p),fe.sortIndex=fe.expirationTime,t(m,fe);else break;fe=n(p)}}function B(ne){if(M=!1,T(ne),!O)if(n(m)!==null)O=!0,pe(V);else{var fe=n(p);fe!==null&&ge(B,fe.startTime-ne)}}function V(ne,fe){O=!1,M&&(M=!1,_(Z),Z=-1),R=!0;var ye=A;try{for(T(fe),C=n(m);C!==null&&(!(C.expirationTime>fe)||ne&&!Se());){var me=C.callback;if(typeof me=="function"){C.callback=null,A=C.priorityLevel;var Ae=me(C.expirationTime<=fe);fe=e.unstable_now(),typeof Ae=="function"?C.callback=Ae:C===n(m)&&s(m),T(fe)}else s(m);C=n(m)}if(C!==null)var Tt=!0;else{var je=n(p);je!==null&&ge(B,je.startTime-fe),Tt=!1}return Tt}finally{C=null,A=ye,R=!1}}var X=!1,U=null,Z=-1,W=5,de=-1;function Se(){return!(e.unstable_now()-de<W)}function ie(){if(U!==null){var ne=e.unstable_now();de=ne;var fe=!0;try{fe=U(!0,ne)}finally{fe?re():(X=!1,U=null)}}else X=!1}var re;if(typeof N=="function")re=function(){N(ie)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,G=le.port2;le.port1.onmessage=ie,re=function(){G.postMessage(null)}}else re=function(){k(ie,0)};function pe(ne){U=ne,X||(X=!0,re())}function ge(ne,fe){Z=k(function(){ne(e.unstable_now())},fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ne){ne.callback=null},e.unstable_continueExecution=function(){O||R||(O=!0,pe(V))},e.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<ne?Math.floor(1e3/ne):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var fe=3;break;default:fe=A}var ye=A;A=fe;try{return ne()}finally{A=ye}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ne,fe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ye=A;A=ne;try{return fe()}finally{A=ye}},e.unstable_scheduleCallback=function(ne,fe,ye){var me=e.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?me+ye:me):ye=me,ne){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ye+Ae,ne={id:w++,callback:fe,priorityLevel:ne,startTime:ye,expirationTime:Ae,sortIndex:-1},ye>me?(ne.sortIndex=ye,t(p,ne),n(m)===null&&ne===n(p)&&(M?(_(Z),Z=-1):M=!0,ge(B,ye-me))):(ne.sortIndex=Ae,t(m,ne),O||R||(O=!0,pe(V))),ne},e.unstable_shouldYield=Se,e.unstable_wrapCallback=function(ne){var fe=A;return function(){var ye=A;A=fe;try{return ne.apply(this,arguments)}finally{A=ye}}}})(Xm);Gm.exports=Xm;var _C=Gm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC=P,Rn=_C;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ym=new Set,ha={};function mi(e,t){no(e,t),no(e+"Capture",t)}function no(e,t){for(ha[e]=t,e=0;e<t.length;e++)Ym.add(t[e])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xd=Object.prototype.hasOwnProperty,OC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A1={},S1={};function MC(e){return Xd.call(S1,e)?!0:Xd.call(A1,e)?!1:OC.test(e)?S1[e]=!0:(A1[e]=!0,!1)}function DC(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kC(e,t,n,s){if(t===null||typeof t>"u"||DC(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ln(e,t,n,s,o,l,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=f}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Gt[e]=new ln(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Gt[t]=new ln(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Gt[e]=new ln(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Gt[e]=new ln(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Gt[e]=new ln(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Gt[e]=new ln(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Gt[e]=new ln(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Gt[e]=new ln(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Gt[e]=new ln(e,5,!1,e.toLowerCase(),null,!1,!1)});var yh=/[\-:]([a-z])/g;function wh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yh,wh);Gt[t]=new ln(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yh,wh);Gt[t]=new ln(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yh,wh);Gt[t]=new ln(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Gt[e]=new ln(e,1,!1,e.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new ln("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Gt[e]=new ln(e,1,!1,e.toLowerCase(),null,!0,!0)});function vh(e,t,n,s){var o=Gt.hasOwnProperty(t)?Gt[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kC(t,n,o,s)&&(n=null),s||o===null?MC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var $r=RC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Mi=Symbol.for("react.fragment"),Ch=Symbol.for("react.strict_mode"),Yd=Symbol.for("react.profiler"),Qm=Symbol.for("react.provider"),Km=Symbol.for("react.context"),Eh=Symbol.for("react.forward_ref"),Qd=Symbol.for("react.suspense"),Kd=Symbol.for("react.suspense_list"),Ah=Symbol.for("react.memo"),us=Symbol.for("react.lazy"),Zm=Symbol.for("react.offscreen"),b1=Symbol.iterator;function Po(e){return e===null||typeof e!="object"?null:(e=b1&&e[b1]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,Ku;function Qo(e){if(Ku===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ku=t&&t[1]||""}return`
`+Ku+e}var Zu=!1;function qu(e,t){if(!e||Zu)return"";Zu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var s=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){s=p}e.call(t.prototype)}else{try{throw Error()}catch(p){s=p}e()}}catch(p){if(p&&s&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),l=s.stack.split(`
`),f=o.length-1,g=l.length-1;1<=f&&0<=g&&o[f]!==l[g];)g--;for(;1<=f&&0<=g;f--,g--)if(o[f]!==l[g]){if(f!==1||g!==1)do if(f--,g--,0>g||o[f]!==l[g]){var m=`
`+o[f].replace(" at new "," at ");return e.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",e.displayName)),m}while(1<=f&&0<=g);break}}}finally{Zu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qo(e):""}function LC(e){switch(e.tag){case 5:return Qo(e.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return e=qu(e.type,!1),e;case 11:return e=qu(e.type.render,!1),e;case 1:return e=qu(e.type,!0),e;default:return""}}function Zd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Mi:return"Fragment";case Oi:return"Portal";case Yd:return"Profiler";case Ch:return"StrictMode";case Qd:return"Suspense";case Kd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Km:return(e.displayName||"Context")+".Consumer";case Qm:return(e._context.displayName||"Context")+".Provider";case Eh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ah:return t=e.displayName||null,t!==null?t:Zd(e.type)||"Memo";case us:t=e._payload,e=e._init;try{return Zd(e(t))}catch{}}return null}function PC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zd(t);case 8:return t===Ch?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BC(e){var t=qm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(f){s=""+f,l.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(f){s=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dl(e){e._valueTracker||(e._valueTracker=BC(e))}function $m(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=qm(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function sc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qd(e,t){var n=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function T1(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Jm(e,t){t=t.checked,t!=null&&vh(e,"checked",t,!1)}function $d(e,t){Jm(e,t);var n=Rs(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jd(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jd(e,t.type,Rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function N1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jd(e,t,n){(t!=="number"||sc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ko=Array.isArray;function Qi(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Rs(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function ef(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(Ko(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rs(n)}}function ex(e,t){var n=Rs(t.value),s=Rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function _1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fl,nx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fl=fl||document.createElement("div"),fl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jC=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(e){jC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ea[t]=ea[e]})});function rx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ea.hasOwnProperty(e)&&ea[e]?(""+t).trim():t+"px"}function sx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=rx(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var FC=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nf(e,t){if(t){if(FC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function rf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=null;function Sh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var of=null,Ki=null,Zi=null;function R1(e){if(e=Fa(e)){if(typeof of!="function")throw Error(J(280));var t=e.stateNode;t&&(t=qc(t),of(e.stateNode,e.type,t))}}function ix(e){Ki?Zi?Zi.push(e):Zi=[e]:Ki=e}function ox(){if(Ki){var e=Ki,t=Zi;if(Zi=Ki=null,R1(e),t)for(e=0;e<t.length;e++)R1(t[e])}}function ax(e,t){return e(t)}function lx(){}var $u=!1;function cx(e,t,n){if($u)return e(t,n);$u=!0;try{return ax(e,t,n)}finally{$u=!1,(Ki!==null||Zi!==null)&&(lx(),ox())}}function ga(e,t){var n=e.stateNode;if(n===null)return null;var s=qc(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var af=!1;if(Xr)try{var Bo={};Object.defineProperty(Bo,"passive",{get:function(){af=!0}}),window.addEventListener("test",Bo,Bo),window.removeEventListener("test",Bo,Bo)}catch{af=!1}function UC(e,t,n,s,o,l,f,g,m){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(w){this.onError(w)}}var ta=!1,ic=null,oc=!1,lf=null,VC={onError:function(e){ta=!0,ic=e}};function zC(e,t,n,s,o,l,f,g,m){ta=!1,ic=null,UC.apply(VC,arguments)}function HC(e,t,n,s,o,l,f,g,m){if(zC.apply(this,arguments),ta){if(ta){var p=ic;ta=!1,ic=null}else throw Error(J(198));oc||(oc=!0,lf=p)}}function xi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ux(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function O1(e){if(xi(e)!==e)throw Error(J(188))}function WC(e){var t=e.alternate;if(!t){if(t=xi(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return O1(o),e;if(l===s)return O1(o),t;l=l.sibling}throw Error(J(188))}if(n.return!==s.return)n=o,s=l;else{for(var f=!1,g=o.child;g;){if(g===n){f=!0,n=o,s=l;break}if(g===s){f=!0,s=o,n=l;break}g=g.sibling}if(!f){for(g=l.child;g;){if(g===n){f=!0,n=l,s=o;break}if(g===s){f=!0,s=l,n=o;break}g=g.sibling}if(!f)throw Error(J(189))}}if(n.alternate!==s)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function dx(e){return e=WC(e),e!==null?fx(e):null}function fx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fx(e);if(t!==null)return t;e=e.sibling}return null}var hx=Rn.unstable_scheduleCallback,M1=Rn.unstable_cancelCallback,GC=Rn.unstable_shouldYield,XC=Rn.unstable_requestPaint,yt=Rn.unstable_now,YC=Rn.unstable_getCurrentPriorityLevel,bh=Rn.unstable_ImmediatePriority,px=Rn.unstable_UserBlockingPriority,ac=Rn.unstable_NormalPriority,QC=Rn.unstable_LowPriority,gx=Rn.unstable_IdlePriority,Yc=null,Nr=null;function KC(e){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Yc,e,void 0,(e.current.flags&128)===128)}catch{}}var ar=Math.clz32?Math.clz32:$C,ZC=Math.log,qC=Math.LN2;function $C(e){return e>>>=0,e===0?32:31-(ZC(e)/qC|0)|0}var hl=64,pl=4194304;function Zo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lc(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,l=e.pingedLanes,f=n&268435455;if(f!==0){var g=f&~o;g!==0?s=Zo(g):(l&=f,l!==0&&(s=Zo(l)))}else f=n&~o,f!==0?s=Zo(f):l!==0&&(s=Zo(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&o)&&(o=s&-s,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-ar(t),o=1<<n,s|=e[n],t&=~o;return s}function JC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function e3(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var f=31-ar(l),g=1<<f,m=o[f];m===-1?(!(g&n)||g&s)&&(o[f]=JC(g,t)):m<=t&&(e.expiredLanes|=g),l&=~g}}function cf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mx(){var e=hl;return hl<<=1,!(hl&4194240)&&(hl=64),e}function Ju(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ba(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ar(t),e[t]=n}function t3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-ar(n),l=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~l}}function Th(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-ar(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var We=0;function xx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yx,Nh,wx,vx,Cx,uf=!1,gl=[],ys=null,ws=null,vs=null,ma=new Map,xa=new Map,hs=[],n3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function D1(e,t){switch(e){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":ma.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(t.pointerId)}}function jo(e,t,n,s,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Fa(t),t!==null&&Nh(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function r3(e,t,n,s,o){switch(t){case"focusin":return ys=jo(ys,e,t,n,s,o),!0;case"dragenter":return ws=jo(ws,e,t,n,s,o),!0;case"mouseover":return vs=jo(vs,e,t,n,s,o),!0;case"pointerover":var l=o.pointerId;return ma.set(l,jo(ma.get(l)||null,e,t,n,s,o)),!0;case"gotpointercapture":return l=o.pointerId,xa.set(l,jo(xa.get(l)||null,e,t,n,s,o)),!0}return!1}function Ex(e){var t=ri(e.target);if(t!==null){var n=xi(t);if(n!==null){if(t=n.tag,t===13){if(t=ux(n),t!==null){e.blockedOn=t,Cx(e.priority,function(){wx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=df(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);sf=s,n.target.dispatchEvent(s),sf=null}else return t=Fa(n),t!==null&&Nh(t),e.blockedOn=n,!1;t.shift()}return!0}function k1(e,t,n){jl(e)&&n.delete(t)}function s3(){uf=!1,ys!==null&&jl(ys)&&(ys=null),ws!==null&&jl(ws)&&(ws=null),vs!==null&&jl(vs)&&(vs=null),ma.forEach(k1),xa.forEach(k1)}function Fo(e,t){e.blockedOn===t&&(e.blockedOn=null,uf||(uf=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,s3)))}function ya(e){function t(o){return Fo(o,e)}if(0<gl.length){Fo(gl[0],e);for(var n=1;n<gl.length;n++){var s=gl[n];s.blockedOn===e&&(s.blockedOn=null)}}for(ys!==null&&Fo(ys,e),ws!==null&&Fo(ws,e),vs!==null&&Fo(vs,e),ma.forEach(t),xa.forEach(t),n=0;n<hs.length;n++)s=hs[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)Ex(n),n.blockedOn===null&&hs.shift()}var qi=$r.ReactCurrentBatchConfig,cc=!0;function i3(e,t,n,s){var o=We,l=qi.transition;qi.transition=null;try{We=1,Ih(e,t,n,s)}finally{We=o,qi.transition=l}}function o3(e,t,n,s){var o=We,l=qi.transition;qi.transition=null;try{We=4,Ih(e,t,n,s)}finally{We=o,qi.transition=l}}function Ih(e,t,n,s){if(cc){var o=df(e,t,n,s);if(o===null)cd(e,t,s,uc,n),D1(e,s);else if(r3(o,e,t,n,s))s.stopPropagation();else if(D1(e,s),t&4&&-1<n3.indexOf(e)){for(;o!==null;){var l=Fa(o);if(l!==null&&yx(l),l=df(e,t,n,s),l===null&&cd(e,t,s,uc,n),l===o)break;o=l}o!==null&&s.stopPropagation()}else cd(e,t,s,null,n)}}var uc=null;function df(e,t,n,s){if(uc=null,e=Sh(s),e=ri(e),e!==null)if(t=xi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ux(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uc=e,null}function Ax(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YC()){case bh:return 1;case px:return 4;case ac:case QC:return 16;case gx:return 536870912;default:return 16}default:return 16}}var gs=null,_h=null,Fl=null;function Sx(){if(Fl)return Fl;var e,t=_h,n=t.length,s,o="value"in gs?gs.value:gs.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var f=n-e;for(s=1;s<=f&&t[n-s]===o[l-s];s++);return Fl=o.slice(e,1<s?1-s:void 0)}function Ul(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ml(){return!0}function L1(){return!1}function Dn(e){function t(n,s,o,l,f){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=l,this.target=f,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(l):l[g]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ml:L1,this.isPropagationStopped=L1,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),t}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rh=Dn(po),ja=ct({},po,{view:0,detail:0}),a3=Dn(ja),ed,td,Uo,Qc=ct({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Uo&&(Uo&&e.type==="mousemove"?(ed=e.screenX-Uo.screenX,td=e.screenY-Uo.screenY):td=ed=0,Uo=e),ed)},movementY:function(e){return"movementY"in e?e.movementY:td}}),P1=Dn(Qc),l3=ct({},Qc,{dataTransfer:0}),c3=Dn(l3),u3=ct({},ja,{relatedTarget:0}),nd=Dn(u3),d3=ct({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),f3=Dn(d3),h3=ct({},po,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),p3=Dn(h3),g3=ct({},po,{data:0}),B1=Dn(g3),m3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=y3[e])?!!t[e]:!1}function Oh(){return w3}var v3=ct({},ja,{key:function(e){if(e.key){var t=m3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ul(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oh,charCode:function(e){return e.type==="keypress"?Ul(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ul(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),C3=Dn(v3),E3=ct({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j1=Dn(E3),A3=ct({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oh}),S3=Dn(A3),b3=ct({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),T3=Dn(b3),N3=ct({},Qc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I3=Dn(N3),_3=[9,13,27,32],Mh=Xr&&"CompositionEvent"in window,na=null;Xr&&"documentMode"in document&&(na=document.documentMode);var R3=Xr&&"TextEvent"in window&&!na,bx=Xr&&(!Mh||na&&8<na&&11>=na),F1=String.fromCharCode(32),U1=!1;function Tx(e,t){switch(e){case"keyup":return _3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function O3(e,t){switch(e){case"compositionend":return Nx(t);case"keypress":return t.which!==32?null:(U1=!0,F1);case"textInput":return e=t.data,e===F1&&U1?null:e;default:return null}}function M3(e,t){if(Di)return e==="compositionend"||!Mh&&Tx(e,t)?(e=Sx(),Fl=_h=gs=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bx&&t.locale!=="ko"?null:t.data;default:return null}}var D3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!D3[e.type]:t==="textarea"}function Ix(e,t,n,s){ix(s),t=dc(t,"onChange"),0<t.length&&(n=new Rh("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ra=null,wa=null;function k3(e){Fx(e,0)}function Kc(e){var t=Pi(e);if($m(t))return e}function L3(e,t){if(e==="change")return t}var _x=!1;if(Xr){var rd;if(Xr){var sd="oninput"in document;if(!sd){var z1=document.createElement("div");z1.setAttribute("oninput","return;"),sd=typeof z1.oninput=="function"}rd=sd}else rd=!1;_x=rd&&(!document.documentMode||9<document.documentMode)}function H1(){ra&&(ra.detachEvent("onpropertychange",Rx),wa=ra=null)}function Rx(e){if(e.propertyName==="value"&&Kc(wa)){var t=[];Ix(t,wa,e,Sh(e)),cx(k3,t)}}function P3(e,t,n){e==="focusin"?(H1(),ra=t,wa=n,ra.attachEvent("onpropertychange",Rx)):e==="focusout"&&H1()}function B3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kc(wa)}function j3(e,t){if(e==="click")return Kc(t)}function F3(e,t){if(e==="input"||e==="change")return Kc(t)}function U3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ur=typeof Object.is=="function"?Object.is:U3;function va(e,t){if(ur(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!Xd.call(t,o)||!ur(e[o],t[o]))return!1}return!0}function W1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function G1(e,t){var n=W1(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W1(n)}}function Ox(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ox(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mx(){for(var e=window,t=sc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=sc(e.document)}return t}function Dh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V3(e){var t=Mx(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ox(n.ownerDocument.documentElement,n)){if(s!==null&&Dh(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(s.start,o);s=s.end===void 0?l:Math.min(s.end,o),!e.extend&&l>s&&(o=s,s=l,l=o),o=G1(n,l);var f=G1(n,s);o&&f&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var z3=Xr&&"documentMode"in document&&11>=document.documentMode,ki=null,ff=null,sa=null,hf=!1;function X1(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hf||ki==null||ki!==sc(s)||(s=ki,"selectionStart"in s&&Dh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),sa&&va(sa,s)||(sa=s,s=dc(ff,"onSelect"),0<s.length&&(t=new Rh("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ki)))}function xl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Li={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},id={},Dx={};Xr&&(Dx=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Zc(e){if(id[e])return id[e];if(!Li[e])return e;var t=Li[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dx)return id[e]=t[n];return e}var kx=Zc("animationend"),Lx=Zc("animationiteration"),Px=Zc("animationstart"),Bx=Zc("transitionend"),jx=new Map,Y1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(e,t){jx.set(e,t),mi(t,[e])}for(var od=0;od<Y1.length;od++){var ad=Y1[od],H3=ad.toLowerCase(),W3=ad[0].toUpperCase()+ad.slice(1);Ps(H3,"on"+W3)}Ps(kx,"onAnimationEnd");Ps(Lx,"onAnimationIteration");Ps(Px,"onAnimationStart");Ps("dblclick","onDoubleClick");Ps("focusin","onFocus");Ps("focusout","onBlur");Ps(Bx,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mi("onBeforeInput",["compositionend","keypress","textInput","paste"]);mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G3=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function Q1(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,HC(s,t,void 0,e),e.currentTarget=null}function Fx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var f=s.length-1;0<=f;f--){var g=s[f],m=g.instance,p=g.currentTarget;if(g=g.listener,m!==l&&o.isPropagationStopped())break e;Q1(o,g,p),l=m}else for(f=0;f<s.length;f++){if(g=s[f],m=g.instance,p=g.currentTarget,g=g.listener,m!==l&&o.isPropagationStopped())break e;Q1(o,g,p),l=m}}}if(oc)throw e=lf,oc=!1,lf=null,e}function et(e,t){var n=t[yf];n===void 0&&(n=t[yf]=new Set);var s=e+"__bubble";n.has(s)||(Ux(t,e,2,!1),n.add(s))}function ld(e,t,n){var s=0;t&&(s|=4),Ux(n,e,s,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function Ca(e){if(!e[yl]){e[yl]=!0,Ym.forEach(function(n){n!=="selectionchange"&&(G3.has(n)||ld(n,!1,e),ld(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,ld("selectionchange",!1,t))}}function Ux(e,t,n,s){switch(Ax(t)){case 1:var o=i3;break;case 4:o=o3;break;default:o=Ih}n=o.bind(null,t,n,e),o=void 0,!af||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function cd(e,t,n,s,o){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var g=s.stateNode.containerInfo;if(g===o||g.nodeType===8&&g.parentNode===o)break;if(f===4)for(f=s.return;f!==null;){var m=f.tag;if((m===3||m===4)&&(m=f.stateNode.containerInfo,m===o||m.nodeType===8&&m.parentNode===o))return;f=f.return}for(;g!==null;){if(f=ri(g),f===null)return;if(m=f.tag,m===5||m===6){s=l=f;continue e}g=g.parentNode}}s=s.return}cx(function(){var p=l,w=Sh(n),C=[];e:{var A=jx.get(e);if(A!==void 0){var R=Rh,O=e;switch(e){case"keypress":if(Ul(n)===0)break e;case"keydown":case"keyup":R=C3;break;case"focusin":O="focus",R=nd;break;case"focusout":O="blur",R=nd;break;case"beforeblur":case"afterblur":R=nd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=c3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=S3;break;case kx:case Lx:case Px:R=f3;break;case Bx:R=T3;break;case"scroll":R=a3;break;case"wheel":R=I3;break;case"copy":case"cut":case"paste":R=p3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=j1}var M=(t&4)!==0,k=!M&&e==="scroll",_=M?A!==null?A+"Capture":null:A;M=[];for(var N=p,T;N!==null;){T=N;var B=T.stateNode;if(T.tag===5&&B!==null&&(T=B,_!==null&&(B=ga(N,_),B!=null&&M.push(Ea(N,B,T)))),k)break;N=N.return}0<M.length&&(A=new R(A,O,null,n,w),C.push({event:A,listeners:M}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",R=e==="mouseout"||e==="pointerout",A&&n!==sf&&(O=n.relatedTarget||n.fromElement)&&(ri(O)||O[Yr]))break e;if((R||A)&&(A=w.window===w?w:(A=w.ownerDocument)?A.defaultView||A.parentWindow:window,R?(O=n.relatedTarget||n.toElement,R=p,O=O?ri(O):null,O!==null&&(k=xi(O),O!==k||O.tag!==5&&O.tag!==6)&&(O=null)):(R=null,O=p),R!==O)){if(M=P1,B="onMouseLeave",_="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(M=j1,B="onPointerLeave",_="onPointerEnter",N="pointer"),k=R==null?A:Pi(R),T=O==null?A:Pi(O),A=new M(B,N+"leave",R,n,w),A.target=k,A.relatedTarget=T,B=null,ri(w)===p&&(M=new M(_,N+"enter",O,n,w),M.target=T,M.relatedTarget=k,B=M),k=B,R&&O)t:{for(M=R,_=O,N=0,T=M;T;T=Ri(T))N++;for(T=0,B=_;B;B=Ri(B))T++;for(;0<N-T;)M=Ri(M),N--;for(;0<T-N;)_=Ri(_),T--;for(;N--;){if(M===_||_!==null&&M===_.alternate)break t;M=Ri(M),_=Ri(_)}M=null}else M=null;R!==null&&K1(C,A,R,M,!1),O!==null&&k!==null&&K1(C,k,O,M,!0)}}e:{if(A=p?Pi(p):window,R=A.nodeName&&A.nodeName.toLowerCase(),R==="select"||R==="input"&&A.type==="file")var V=L3;else if(V1(A))if(_x)V=F3;else{V=B3;var X=P3}else(R=A.nodeName)&&R.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(V=j3);if(V&&(V=V(e,p))){Ix(C,V,n,w);break e}X&&X(e,A,p),e==="focusout"&&(X=A._wrapperState)&&X.controlled&&A.type==="number"&&Jd(A,"number",A.value)}switch(X=p?Pi(p):window,e){case"focusin":(V1(X)||X.contentEditable==="true")&&(ki=X,ff=p,sa=null);break;case"focusout":sa=ff=ki=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,X1(C,n,w);break;case"selectionchange":if(z3)break;case"keydown":case"keyup":X1(C,n,w)}var U;if(Mh)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else Di?Tx(e,n)&&(Z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(bx&&n.locale!=="ko"&&(Di||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&Di&&(U=Sx()):(gs=w,_h="value"in gs?gs.value:gs.textContent,Di=!0)),X=dc(p,Z),0<X.length&&(Z=new B1(Z,e,null,n,w),C.push({event:Z,listeners:X}),U?Z.data=U:(U=Nx(n),U!==null&&(Z.data=U)))),(U=R3?O3(e,n):M3(e,n))&&(p=dc(p,"onBeforeInput"),0<p.length&&(w=new B1("onBeforeInput","beforeinput",null,n,w),C.push({event:w,listeners:p}),w.data=U))}Fx(C,t)})}function Ea(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dc(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=ga(e,n),l!=null&&s.unshift(Ea(e,l,o)),l=ga(e,t),l!=null&&s.push(Ea(e,l,o))),e=e.return}return s}function Ri(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function K1(e,t,n,s,o){for(var l=t._reactName,f=[];n!==null&&n!==s;){var g=n,m=g.alternate,p=g.stateNode;if(m!==null&&m===s)break;g.tag===5&&p!==null&&(g=p,o?(m=ga(n,l),m!=null&&f.unshift(Ea(n,m,g))):o||(m=ga(n,l),m!=null&&f.push(Ea(n,m,g)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var X3=/\r\n?/g,Y3=/\u0000|\uFFFD/g;function Z1(e){return(typeof e=="string"?e:""+e).replace(X3,`
`).replace(Y3,"")}function wl(e,t,n){if(t=Z1(t),Z1(e)!==t&&n)throw Error(J(425))}function fc(){}var pf=null,gf=null;function mf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,Q3=typeof clearTimeout=="function"?clearTimeout:void 0,q1=typeof Promise=="function"?Promise:void 0,K3=typeof queueMicrotask=="function"?queueMicrotask:typeof q1<"u"?function(e){return q1.resolve(null).then(e).catch(Z3)}:xf;function Z3(e){setTimeout(function(){throw e})}function ud(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),ya(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);ya(t)}function Cs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function $1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var go=Math.random().toString(36).slice(2),Sr="__reactFiber$"+go,Aa="__reactProps$"+go,Yr="__reactContainer$"+go,yf="__reactEvents$"+go,q3="__reactListeners$"+go,$3="__reactHandles$"+go;function ri(e){var t=e[Sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=$1(e);e!==null;){if(n=e[Sr])return n;e=$1(e)}return t}e=n,n=e.parentNode}return null}function Fa(e){return e=e[Sr]||e[Yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function qc(e){return e[Aa]||null}var wf=[],Bi=-1;function Bs(e){return{current:e}}function nt(e){0>Bi||(e.current=wf[Bi],wf[Bi]=null,Bi--)}function qe(e,t){Bi++,wf[Bi]=e.current,e.current=t}var Os={},en=Bs(Os),mn=Bs(!1),ui=Os;function ro(e,t){var n=e.type.contextTypes;if(!n)return Os;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xn(e){return e=e.childContextTypes,e!=null}function hc(){nt(mn),nt(en)}function J1(e,t,n){if(en.current!==Os)throw Error(J(168));qe(en,t),qe(mn,n)}function Vx(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(J(108,PC(e)||"Unknown",o));return ct({},n,s)}function pc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Os,ui=en.current,qe(en,e),qe(mn,mn.current),!0}function ep(e,t,n){var s=e.stateNode;if(!s)throw Error(J(169));n?(e=Vx(e,t,ui),s.__reactInternalMemoizedMergedChildContext=e,nt(mn),nt(en),qe(en,e)):nt(mn),qe(mn,n)}var jr=null,$c=!1,dd=!1;function zx(e){jr===null?jr=[e]:jr.push(e)}function J3(e){$c=!0,zx(e)}function js(){if(!dd&&jr!==null){dd=!0;var e=0,t=We;try{var n=jr;for(We=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}jr=null,$c=!1}catch(o){throw jr!==null&&(jr=jr.slice(e+1)),hx(bh,js),o}finally{We=t,dd=!1}}return null}var ji=[],Fi=0,gc=null,mc=0,Hn=[],Wn=0,di=null,Fr=1,Ur="";function qs(e,t){ji[Fi++]=mc,ji[Fi++]=gc,gc=e,mc=t}function Hx(e,t,n){Hn[Wn++]=Fr,Hn[Wn++]=Ur,Hn[Wn++]=di,di=e;var s=Fr;e=Ur;var o=32-ar(s)-1;s&=~(1<<o),n+=1;var l=32-ar(t)+o;if(30<l){var f=o-o%5;l=(s&(1<<f)-1).toString(32),s>>=f,o-=f,Fr=1<<32-ar(t)+o|n<<o|s,Ur=l+e}else Fr=1<<l|n<<o|s,Ur=e}function kh(e){e.return!==null&&(qs(e,1),Hx(e,1,0))}function Lh(e){for(;e===gc;)gc=ji[--Fi],ji[Fi]=null,mc=ji[--Fi],ji[Fi]=null;for(;e===di;)di=Hn[--Wn],Hn[Wn]=null,Ur=Hn[--Wn],Hn[Wn]=null,Fr=Hn[--Wn],Hn[Wn]=null}var _n=null,In=null,st=!1,ir=null;function Wx(e,t){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_n=e,In=Cs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_n=e,In=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=di!==null?{id:Fr,overflow:Ur}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,_n=e,In=null,!0):!1;default:return!1}}function vf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cf(e){if(st){var t=In;if(t){var n=t;if(!tp(e,t)){if(vf(e))throw Error(J(418));t=Cs(n.nextSibling);var s=_n;t&&tp(e,t)?Wx(s,n):(e.flags=e.flags&-4097|2,st=!1,_n=e)}}else{if(vf(e))throw Error(J(418));e.flags=e.flags&-4097|2,st=!1,_n=e}}}function np(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_n=e}function vl(e){if(e!==_n)return!1;if(!st)return np(e),st=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mf(e.type,e.memoizedProps)),t&&(t=In)){if(vf(e))throw Gx(),Error(J(418));for(;t;)Wx(e,t),t=Cs(t.nextSibling)}if(np(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){In=Cs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}In=null}}else In=_n?Cs(e.stateNode.nextSibling):null;return!0}function Gx(){for(var e=In;e;)e=Cs(e.nextSibling)}function so(){In=_n=null,st=!1}function Ph(e){ir===null?ir=[e]:ir.push(e)}var eE=$r.ReactCurrentBatchConfig;function Vo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var s=n.stateNode}if(!s)throw Error(J(147,e));var o=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(f){var g=o.refs;f===null?delete g[l]:g[l]=f},t._stringRef=l,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function Cl(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rp(e){var t=e._init;return t(e._payload)}function Xx(e){function t(_,N){if(e){var T=_.deletions;T===null?(_.deletions=[N],_.flags|=16):T.push(N)}}function n(_,N){if(!e)return null;for(;N!==null;)t(_,N),N=N.sibling;return null}function s(_,N){for(_=new Map;N!==null;)N.key!==null?_.set(N.key,N):_.set(N.index,N),N=N.sibling;return _}function o(_,N){return _=bs(_,N),_.index=0,_.sibling=null,_}function l(_,N,T){return _.index=T,e?(T=_.alternate,T!==null?(T=T.index,T<N?(_.flags|=2,N):T):(_.flags|=2,N)):(_.flags|=1048576,N)}function f(_){return e&&_.alternate===null&&(_.flags|=2),_}function g(_,N,T,B){return N===null||N.tag!==6?(N=yd(T,_.mode,B),N.return=_,N):(N=o(N,T),N.return=_,N)}function m(_,N,T,B){var V=T.type;return V===Mi?w(_,N,T.props.children,B,T.key):N!==null&&(N.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===us&&rp(V)===N.type)?(B=o(N,T.props),B.ref=Vo(_,N,T),B.return=_,B):(B=Yl(T.type,T.key,T.props,null,_.mode,B),B.ref=Vo(_,N,T),B.return=_,B)}function p(_,N,T,B){return N===null||N.tag!==4||N.stateNode.containerInfo!==T.containerInfo||N.stateNode.implementation!==T.implementation?(N=wd(T,_.mode,B),N.return=_,N):(N=o(N,T.children||[]),N.return=_,N)}function w(_,N,T,B,V){return N===null||N.tag!==7?(N=ci(T,_.mode,B,V),N.return=_,N):(N=o(N,T),N.return=_,N)}function C(_,N,T){if(typeof N=="string"&&N!==""||typeof N=="number")return N=yd(""+N,_.mode,T),N.return=_,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ul:return T=Yl(N.type,N.key,N.props,null,_.mode,T),T.ref=Vo(_,null,N),T.return=_,T;case Oi:return N=wd(N,_.mode,T),N.return=_,N;case us:var B=N._init;return C(_,B(N._payload),T)}if(Ko(N)||Po(N))return N=ci(N,_.mode,T,null),N.return=_,N;Cl(_,N)}return null}function A(_,N,T,B){var V=N!==null?N.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:g(_,N,""+T,B);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ul:return T.key===V?m(_,N,T,B):null;case Oi:return T.key===V?p(_,N,T,B):null;case us:return V=T._init,A(_,N,V(T._payload),B)}if(Ko(T)||Po(T))return V!==null?null:w(_,N,T,B,null);Cl(_,T)}return null}function R(_,N,T,B,V){if(typeof B=="string"&&B!==""||typeof B=="number")return _=_.get(T)||null,g(N,_,""+B,V);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ul:return _=_.get(B.key===null?T:B.key)||null,m(N,_,B,V);case Oi:return _=_.get(B.key===null?T:B.key)||null,p(N,_,B,V);case us:var X=B._init;return R(_,N,T,X(B._payload),V)}if(Ko(B)||Po(B))return _=_.get(T)||null,w(N,_,B,V,null);Cl(N,B)}return null}function O(_,N,T,B){for(var V=null,X=null,U=N,Z=N=0,W=null;U!==null&&Z<T.length;Z++){U.index>Z?(W=U,U=null):W=U.sibling;var de=A(_,U,T[Z],B);if(de===null){U===null&&(U=W);break}e&&U&&de.alternate===null&&t(_,U),N=l(de,N,Z),X===null?V=de:X.sibling=de,X=de,U=W}if(Z===T.length)return n(_,U),st&&qs(_,Z),V;if(U===null){for(;Z<T.length;Z++)U=C(_,T[Z],B),U!==null&&(N=l(U,N,Z),X===null?V=U:X.sibling=U,X=U);return st&&qs(_,Z),V}for(U=s(_,U);Z<T.length;Z++)W=R(U,_,Z,T[Z],B),W!==null&&(e&&W.alternate!==null&&U.delete(W.key===null?Z:W.key),N=l(W,N,Z),X===null?V=W:X.sibling=W,X=W);return e&&U.forEach(function(Se){return t(_,Se)}),st&&qs(_,Z),V}function M(_,N,T,B){var V=Po(T);if(typeof V!="function")throw Error(J(150));if(T=V.call(T),T==null)throw Error(J(151));for(var X=V=null,U=N,Z=N=0,W=null,de=T.next();U!==null&&!de.done;Z++,de=T.next()){U.index>Z?(W=U,U=null):W=U.sibling;var Se=A(_,U,de.value,B);if(Se===null){U===null&&(U=W);break}e&&U&&Se.alternate===null&&t(_,U),N=l(Se,N,Z),X===null?V=Se:X.sibling=Se,X=Se,U=W}if(de.done)return n(_,U),st&&qs(_,Z),V;if(U===null){for(;!de.done;Z++,de=T.next())de=C(_,de.value,B),de!==null&&(N=l(de,N,Z),X===null?V=de:X.sibling=de,X=de);return st&&qs(_,Z),V}for(U=s(_,U);!de.done;Z++,de=T.next())de=R(U,_,Z,de.value,B),de!==null&&(e&&de.alternate!==null&&U.delete(de.key===null?Z:de.key),N=l(de,N,Z),X===null?V=de:X.sibling=de,X=de);return e&&U.forEach(function(ie){return t(_,ie)}),st&&qs(_,Z),V}function k(_,N,T,B){if(typeof T=="object"&&T!==null&&T.type===Mi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ul:e:{for(var V=T.key,X=N;X!==null;){if(X.key===V){if(V=T.type,V===Mi){if(X.tag===7){n(_,X.sibling),N=o(X,T.props.children),N.return=_,_=N;break e}}else if(X.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===us&&rp(V)===X.type){n(_,X.sibling),N=o(X,T.props),N.ref=Vo(_,X,T),N.return=_,_=N;break e}n(_,X);break}else t(_,X);X=X.sibling}T.type===Mi?(N=ci(T.props.children,_.mode,B,T.key),N.return=_,_=N):(B=Yl(T.type,T.key,T.props,null,_.mode,B),B.ref=Vo(_,N,T),B.return=_,_=B)}return f(_);case Oi:e:{for(X=T.key;N!==null;){if(N.key===X)if(N.tag===4&&N.stateNode.containerInfo===T.containerInfo&&N.stateNode.implementation===T.implementation){n(_,N.sibling),N=o(N,T.children||[]),N.return=_,_=N;break e}else{n(_,N);break}else t(_,N);N=N.sibling}N=wd(T,_.mode,B),N.return=_,_=N}return f(_);case us:return X=T._init,k(_,N,X(T._payload),B)}if(Ko(T))return O(_,N,T,B);if(Po(T))return M(_,N,T,B);Cl(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,N!==null&&N.tag===6?(n(_,N.sibling),N=o(N,T),N.return=_,_=N):(n(_,N),N=yd(T,_.mode,B),N.return=_,_=N),f(_)):n(_,N)}return k}var io=Xx(!0),Yx=Xx(!1),xc=Bs(null),yc=null,Ui=null,Bh=null;function jh(){Bh=Ui=yc=null}function Fh(e){var t=xc.current;nt(xc),e._currentValue=t}function Ef(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function $i(e,t){yc=e,Bh=Ui=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gn=!0),e.firstContext=null)}function Qn(e){var t=e._currentValue;if(Bh!==e)if(e={context:e,memoizedValue:t,next:null},Ui===null){if(yc===null)throw Error(J(308));Ui=e,yc.dependencies={lanes:0,firstContext:e}}else Ui=Ui.next=e;return t}var si=null;function Uh(e){si===null?si=[e]:si.push(e)}function Qx(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,Uh(t)):(n.next=o.next,o.next=n),t.interleaved=n,Qr(e,s)}function Qr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ds=!1;function Vh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Es(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Be&2){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Qr(e,n)}return o=s.interleaved,o===null?(t.next=t,Uh(s)):(t.next=o.next,o.next=t),s.interleaved=t,Qr(e,n)}function Vl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Th(e,n)}}function sp(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=f:l=l.next=f,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function wc(e,t,n,s){var o=e.updateQueue;ds=!1;var l=o.firstBaseUpdate,f=o.lastBaseUpdate,g=o.shared.pending;if(g!==null){o.shared.pending=null;var m=g,p=m.next;m.next=null,f===null?l=p:f.next=p,f=m;var w=e.alternate;w!==null&&(w=w.updateQueue,g=w.lastBaseUpdate,g!==f&&(g===null?w.firstBaseUpdate=p:g.next=p,w.lastBaseUpdate=m))}if(l!==null){var C=o.baseState;f=0,w=p=m=null,g=l;do{var A=g.lane,R=g.eventTime;if((s&A)===A){w!==null&&(w=w.next={eventTime:R,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var O=e,M=g;switch(A=t,R=n,M.tag){case 1:if(O=M.payload,typeof O=="function"){C=O.call(R,C,A);break e}C=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=M.payload,A=typeof O=="function"?O.call(R,C,A):O,A==null)break e;C=ct({},C,A);break e;case 2:ds=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,A=o.effects,A===null?o.effects=[g]:A.push(g))}else R={eventTime:R,lane:A,tag:g.tag,payload:g.payload,callback:g.callback,next:null},w===null?(p=w=R,m=C):w=w.next=R,f|=A;if(g=g.next,g===null){if(g=o.shared.pending,g===null)break;A=g,g=A.next,A.next=null,o.lastBaseUpdate=A,o.shared.pending=null}}while(1);if(w===null&&(m=C),o.baseState=m,o.firstBaseUpdate=p,o.lastBaseUpdate=w,t=o.shared.interleaved,t!==null){o=t;do f|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);hi|=f,e.lanes=f,e.memoizedState=C}}function ip(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(J(191,o));o.call(s)}}}var Ua={},Ir=Bs(Ua),Sa=Bs(Ua),ba=Bs(Ua);function ii(e){if(e===Ua)throw Error(J(174));return e}function zh(e,t){switch(qe(ba,t),qe(Sa,e),qe(Ir,Ua),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tf(t,e)}nt(Ir),qe(Ir,t)}function oo(){nt(Ir),nt(Sa),nt(ba)}function Zx(e){ii(ba.current);var t=ii(Ir.current),n=tf(t,e.type);t!==n&&(qe(Sa,e),qe(Ir,n))}function Hh(e){Sa.current===e&&(nt(Ir),nt(Sa))}var ot=Bs(0);function vc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fd=[];function Wh(){for(var e=0;e<fd.length;e++)fd[e]._workInProgressVersionPrimary=null;fd.length=0}var zl=$r.ReactCurrentDispatcher,hd=$r.ReactCurrentBatchConfig,fi=0,lt=null,Rt=null,kt=null,Cc=!1,ia=!1,Ta=0,tE=0;function Kt(){throw Error(J(321))}function Gh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Xh(e,t,n,s,o,l){if(fi=l,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zl.current=e===null||e.memoizedState===null?iE:oE,e=n(s,o),ia){l=0;do{if(ia=!1,Ta=0,25<=l)throw Error(J(301));l+=1,kt=Rt=null,t.updateQueue=null,zl.current=aE,e=n(s,o)}while(ia)}if(zl.current=Ec,t=Rt!==null&&Rt.next!==null,fi=0,kt=Rt=lt=null,Cc=!1,t)throw Error(J(300));return e}function Yh(){var e=Ta!==0;return Ta=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?lt.memoizedState=kt=e:kt=kt.next=e,kt}function Kn(){if(Rt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=kt===null?lt.memoizedState:kt.next;if(t!==null)kt=t,Rt=e;else{if(e===null)throw Error(J(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},kt===null?lt.memoizedState=kt=e:kt=kt.next=e}return kt}function Na(e,t){return typeof t=="function"?t(e):t}function pd(e){var t=Kn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var s=Rt,o=s.baseQueue,l=n.pending;if(l!==null){if(o!==null){var f=o.next;o.next=l.next,l.next=f}s.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,s=s.baseState;var g=f=null,m=null,p=l;do{var w=p.lane;if((fi&w)===w)m!==null&&(m=m.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),s=p.hasEagerState?p.eagerState:e(s,p.action);else{var C={lane:w,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};m===null?(g=m=C,f=s):m=m.next=C,lt.lanes|=w,hi|=w}p=p.next}while(p!==null&&p!==l);m===null?f=s:m.next=g,ur(s,t.memoizedState)||(gn=!0),t.memoizedState=s,t.baseState=f,t.baseQueue=m,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do l=o.lane,lt.lanes|=l,hi|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gd(e){var t=Kn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var f=o=o.next;do l=e(l,f.action),f=f.next;while(f!==o);ur(l,t.memoizedState)||(gn=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function qx(){}function $x(e,t){var n=lt,s=Kn(),o=t(),l=!ur(s.memoizedState,o);if(l&&(s.memoizedState=o,gn=!0),s=s.queue,Qh(t2.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Ia(9,e2.bind(null,n,s,o,t),void 0,null),Lt===null)throw Error(J(349));fi&30||Jx(n,t,o)}return o}function Jx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function e2(e,t,n,s){t.value=n,t.getSnapshot=s,n2(t)&&r2(e)}function t2(e,t,n){return n(function(){n2(t)&&r2(e)})}function n2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch{return!0}}function r2(e){var t=Qr(e,1);t!==null&&lr(t,e,1,-1)}function op(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=sE.bind(null,lt,e),[t.memoizedState,e]}function Ia(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function s2(){return Kn().memoizedState}function Hl(e,t,n,s){var o=Er();lt.flags|=e,o.memoizedState=Ia(1|t,n,void 0,s===void 0?null:s)}function Jc(e,t,n,s){var o=Kn();s=s===void 0?null:s;var l=void 0;if(Rt!==null){var f=Rt.memoizedState;if(l=f.destroy,s!==null&&Gh(s,f.deps)){o.memoizedState=Ia(t,n,l,s);return}}lt.flags|=e,o.memoizedState=Ia(1|t,n,l,s)}function ap(e,t){return Hl(8390656,8,e,t)}function Qh(e,t){return Jc(2048,8,e,t)}function i2(e,t){return Jc(4,2,e,t)}function o2(e,t){return Jc(4,4,e,t)}function a2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function l2(e,t,n){return n=n!=null?n.concat([e]):null,Jc(4,4,a2.bind(null,t,e),n)}function Kh(){}function c2(e,t){var n=Kn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Gh(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function u2(e,t){var n=Kn();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Gh(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function d2(e,t,n){return fi&21?(ur(n,t)||(n=mx(),lt.lanes|=n,hi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gn=!0),e.memoizedState=n)}function nE(e,t){var n=We;We=n!==0&&4>n?n:4,e(!0);var s=hd.transition;hd.transition={};try{e(!1),t()}finally{We=n,hd.transition=s}}function f2(){return Kn().memoizedState}function rE(e,t,n){var s=Ss(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},h2(e))p2(t,n);else if(n=Qx(e,t,n,s),n!==null){var o=on();lr(n,e,s,o),g2(n,t,s)}}function sE(e,t,n){var s=Ss(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(h2(e))p2(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var f=t.lastRenderedState,g=l(f,n);if(o.hasEagerState=!0,o.eagerState=g,ur(g,f)){var m=t.interleaved;m===null?(o.next=o,Uh(t)):(o.next=m.next,m.next=o),t.interleaved=o;return}}catch{}finally{}n=Qx(e,t,o,s),n!==null&&(o=on(),lr(n,e,s,o),g2(n,t,s))}}function h2(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function p2(e,t){ia=Cc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function g2(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Th(e,n)}}var Ec={readContext:Qn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},iE={readContext:Qn,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:Qn,useEffect:ap,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hl(4194308,4,a2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hl(4,2,e,t)},useMemo:function(e,t){var n=Er();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Er();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=rE.bind(null,lt,e),[s.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:op,useDebugValue:Kh,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=op(!1),t=e[0];return e=nE.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=lt,o=Er();if(st){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),Lt===null)throw Error(J(349));fi&30||Jx(s,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,ap(t2.bind(null,s,l,e),[e]),s.flags|=2048,Ia(9,e2.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=Er(),t=Lt.identifierPrefix;if(st){var n=Ur,s=Fr;n=(s&~(1<<32-ar(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ta++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oE={readContext:Qn,useCallback:c2,useContext:Qn,useEffect:Qh,useImperativeHandle:l2,useInsertionEffect:i2,useLayoutEffect:o2,useMemo:u2,useReducer:pd,useRef:s2,useState:function(){return pd(Na)},useDebugValue:Kh,useDeferredValue:function(e){var t=Kn();return d2(t,Rt.memoizedState,e)},useTransition:function(){var e=pd(Na)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:qx,useSyncExternalStore:$x,useId:f2,unstable_isNewReconciler:!1},aE={readContext:Qn,useCallback:c2,useContext:Qn,useEffect:Qh,useImperativeHandle:l2,useInsertionEffect:i2,useLayoutEffect:o2,useMemo:u2,useReducer:gd,useRef:s2,useState:function(){return gd(Na)},useDebugValue:Kh,useDeferredValue:function(e){var t=Kn();return Rt===null?t.memoizedState=e:d2(t,Rt.memoizedState,e)},useTransition:function(){var e=gd(Na)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:qx,useSyncExternalStore:$x,useId:f2,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Af(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eu={isMounted:function(e){return(e=e._reactInternals)?xi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=on(),o=Ss(e),l=Hr(s,o);l.payload=t,n!=null&&(l.callback=n),t=Es(e,l,o),t!==null&&(lr(t,e,o,s),Vl(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=on(),o=Ss(e),l=Hr(s,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Es(e,l,o),t!==null&&(lr(t,e,o,s),Vl(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=on(),s=Ss(e),o=Hr(n,s);o.tag=2,t!=null&&(o.callback=t),t=Es(e,o,s),t!==null&&(lr(t,e,s,n),Vl(t,e,s))}};function lp(e,t,n,s,o,l,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,f):t.prototype&&t.prototype.isPureReactComponent?!va(n,s)||!va(o,l):!0}function m2(e,t,n){var s=!1,o=Os,l=t.contextType;return typeof l=="object"&&l!==null?l=Qn(l):(o=xn(t)?ui:en.current,s=t.contextTypes,l=(s=s!=null)?ro(e,o):Os),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eu,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function cp(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&eu.enqueueReplaceState(t,t.state,null)}function Sf(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Vh(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Qn(l):(l=xn(t)?ui:en.current,o.context=ro(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Af(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&eu.enqueueReplaceState(o,o.state,null),wc(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ao(e,t){try{var n="",s=t;do n+=LC(s),s=s.return;while(s);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function md(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function bf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lE=typeof WeakMap=="function"?WeakMap:Map;function x2(e,t,n){n=Hr(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Sc||(Sc=!0,Lf=s),bf(e,t)},n}function y2(e,t,n){n=Hr(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){bf(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){bf(e,t),typeof s!="function"&&(As===null?As=new Set([this]):As.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function up(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new lE;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=EE.bind(null,e,t,n),t.then(e,e))}function dp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fp(e,t,n,s,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hr(-1,1),t.tag=2,Es(n,t,1))),n.lanes|=1),e)}var cE=$r.ReactCurrentOwner,gn=!1;function sn(e,t,n,s){t.child=e===null?Yx(t,null,n,s):io(t,e.child,n,s)}function hp(e,t,n,s,o){n=n.render;var l=t.ref;return $i(t,o),s=Xh(e,t,n,s,l,o),n=Yh(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Kr(e,t,o)):(st&&n&&kh(t),t.flags|=1,sn(e,t,s,o),t.child)}function pp(e,t,n,s,o){if(e===null){var l=n.type;return typeof l=="function"&&!r0(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,w2(e,t,l,s,o)):(e=Yl(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var f=l.memoizedProps;if(n=n.compare,n=n!==null?n:va,n(f,s)&&e.ref===t.ref)return Kr(e,t,o)}return t.flags|=1,e=bs(l,s),e.ref=t.ref,e.return=t,t.child=e}function w2(e,t,n,s,o){if(e!==null){var l=e.memoizedProps;if(va(l,s)&&e.ref===t.ref)if(gn=!1,t.pendingProps=s=l,(e.lanes&o)!==0)e.flags&131072&&(gn=!0);else return t.lanes=e.lanes,Kr(e,t,o)}return Tf(e,t,n,s,o)}function v2(e,t,n){var s=t.pendingProps,o=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(zi,Tn),Tn|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,qe(zi,Tn),Tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:n,qe(zi,Tn),Tn|=s}else l!==null?(s=l.baseLanes|n,t.memoizedState=null):s=n,qe(zi,Tn),Tn|=s;return sn(e,t,o,n),t.child}function C2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tf(e,t,n,s,o){var l=xn(n)?ui:en.current;return l=ro(t,l),$i(t,o),n=Xh(e,t,n,s,l,o),s=Yh(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Kr(e,t,o)):(st&&s&&kh(t),t.flags|=1,sn(e,t,n,o),t.child)}function gp(e,t,n,s,o){if(xn(n)){var l=!0;pc(t)}else l=!1;if($i(t,o),t.stateNode===null)Wl(e,t),m2(t,n,s),Sf(t,n,s,o),s=!0;else if(e===null){var f=t.stateNode,g=t.memoizedProps;f.props=g;var m=f.context,p=n.contextType;typeof p=="object"&&p!==null?p=Qn(p):(p=xn(n)?ui:en.current,p=ro(t,p));var w=n.getDerivedStateFromProps,C=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function";C||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==s||m!==p)&&cp(t,f,s,p),ds=!1;var A=t.memoizedState;f.state=A,wc(t,s,f,o),m=t.memoizedState,g!==s||A!==m||mn.current||ds?(typeof w=="function"&&(Af(t,n,w,s),m=t.memoizedState),(g=ds||lp(t,n,g,s,A,m,p))?(C||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=m),f.props=s,f.state=m,f.context=p,s=g):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{f=t.stateNode,Kx(e,t),g=t.memoizedProps,p=t.type===t.elementType?g:tr(t.type,g),f.props=p,C=t.pendingProps,A=f.context,m=n.contextType,typeof m=="object"&&m!==null?m=Qn(m):(m=xn(n)?ui:en.current,m=ro(t,m));var R=n.getDerivedStateFromProps;(w=typeof R=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==C||A!==m)&&cp(t,f,s,m),ds=!1,A=t.memoizedState,f.state=A,wc(t,s,f,o);var O=t.memoizedState;g!==C||A!==O||mn.current||ds?(typeof R=="function"&&(Af(t,n,R,s),O=t.memoizedState),(p=ds||lp(t,n,p,s,A,O,m)||!1)?(w||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(s,O,m),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(s,O,m)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=O),f.props=s,f.state=O,f.context=m,s=p):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),s=!1)}return Nf(e,t,n,s,l,o)}function Nf(e,t,n,s,o,l){C2(e,t);var f=(t.flags&128)!==0;if(!s&&!f)return o&&ep(t,n,!1),Kr(e,t,l);s=t.stateNode,cE.current=t;var g=f&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&f?(t.child=io(t,e.child,null,l),t.child=io(t,null,g,l)):sn(e,t,g,l),t.memoizedState=s.state,o&&ep(t,n,!0),t.child}function E2(e){var t=e.stateNode;t.pendingContext?J1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&J1(e,t.context,!1),zh(e,t.containerInfo)}function mp(e,t,n,s,o){return so(),Ph(o),t.flags|=256,sn(e,t,n,s),t.child}var If={dehydrated:null,treeContext:null,retryLane:0};function _f(e){return{baseLanes:e,cachePool:null,transitions:null}}function A2(e,t,n){var s=t.pendingProps,o=ot.current,l=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(o&2)!==0),g?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),qe(ot,o&1),e===null)return Cf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=s.children,e=s.fallback,l?(s=t.mode,l=t.child,f={mode:"hidden",children:f},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=f):l=ru(f,s,0,null),e=ci(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=_f(n),t.memoizedState=If,e):Zh(t,f));if(o=e.memoizedState,o!==null&&(g=o.dehydrated,g!==null))return uE(e,t,f,s,g,o,n);if(l){l=s.fallback,f=t.mode,o=e.child,g=o.sibling;var m={mode:"hidden",children:s.children};return!(f&1)&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=m,t.deletions=null):(s=bs(o,m),s.subtreeFlags=o.subtreeFlags&14680064),g!==null?l=bs(g,l):(l=ci(l,f,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,f=e.child.memoizedState,f=f===null?_f(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},l.memoizedState=f,l.childLanes=e.childLanes&~n,t.memoizedState=If,s}return l=e.child,e=l.sibling,s=bs(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Zh(e,t){return t=ru({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function El(e,t,n,s){return s!==null&&Ph(s),io(t,e.child,null,n),e=Zh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uE(e,t,n,s,o,l,f){if(n)return t.flags&256?(t.flags&=-257,s=md(Error(J(422))),El(e,t,f,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,o=t.mode,s=ru({mode:"visible",children:s.children},o,0,null),l=ci(l,o,f,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&io(t,e.child,null,f),t.child.memoizedState=_f(f),t.memoizedState=If,l);if(!(t.mode&1))return El(e,t,f,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var g=s.dgst;return s=g,l=Error(J(419)),s=md(l,s,void 0),El(e,t,f,s)}if(g=(f&e.childLanes)!==0,gn||g){if(s=Lt,s!==null){switch(f&-f){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(s.suspendedLanes|f)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Qr(e,o),lr(s,e,o,-1))}return n0(),s=md(Error(J(421))),El(e,t,f,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=AE.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,In=Cs(o.nextSibling),_n=t,st=!0,ir=null,e!==null&&(Hn[Wn++]=Fr,Hn[Wn++]=Ur,Hn[Wn++]=di,Fr=e.id,Ur=e.overflow,di=t),t=Zh(t,s.children),t.flags|=4096,t)}function xp(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ef(e.return,t,n)}function xd(e,t,n,s,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=o)}function S2(e,t,n){var s=t.pendingProps,o=s.revealOrder,l=s.tail;if(sn(e,t,s.children,n),s=ot.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,n,t);else if(e.tag===19)xp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(qe(ot,s),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&vc(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),xd(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&vc(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}xd(t,!0,n,null,l);break;case"together":xd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=bs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dE(e,t,n){switch(t.tag){case 3:E2(t),so();break;case 5:Zx(t);break;case 1:xn(t.type)&&pc(t);break;case 4:zh(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;qe(xc,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(qe(ot,ot.current&1),t.flags|=128,null):n&t.child.childLanes?A2(e,t,n):(qe(ot,ot.current&1),e=Kr(e,t,n),e!==null?e.sibling:null);qe(ot,ot.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return S2(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),qe(ot,ot.current),s)break;return null;case 22:case 23:return t.lanes=0,v2(e,t,n)}return Kr(e,t,n)}var b2,Rf,T2,N2;b2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rf=function(){};T2=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,ii(Ir.current);var l=null;switch(n){case"input":o=qd(e,o),s=qd(e,s),l=[];break;case"select":o=ct({},o,{value:void 0}),s=ct({},s,{value:void 0}),l=[];break;case"textarea":o=ef(e,o),s=ef(e,s),l=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=fc)}nf(n,s);var f;n=null;for(p in o)if(!s.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var g=o[p];for(f in g)g.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ha.hasOwnProperty(p)?l||(l=[]):(l=l||[]).push(p,null));for(p in s){var m=s[p];if(g=o!=null?o[p]:void 0,s.hasOwnProperty(p)&&m!==g&&(m!=null||g!=null))if(p==="style")if(g){for(f in g)!g.hasOwnProperty(f)||m&&m.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in m)m.hasOwnProperty(f)&&g[f]!==m[f]&&(n||(n={}),n[f]=m[f])}else n||(l||(l=[]),l.push(p,n)),n=m;else p==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,g=g?g.__html:void 0,m!=null&&g!==m&&(l=l||[]).push(p,m)):p==="children"?typeof m!="string"&&typeof m!="number"||(l=l||[]).push(p,""+m):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(ha.hasOwnProperty(p)?(m!=null&&p==="onScroll"&&et("scroll",e),l||g===m||(l=[])):(l=l||[]).push(p,m))}n&&(l=l||[]).push("style",n);var p=l;(t.updateQueue=p)&&(t.flags|=4)}};N2=function(e,t,n,s){n!==s&&(t.flags|=4)};function zo(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function fE(e,t,n){var s=t.pendingProps;switch(Lh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return xn(t.type)&&hc(),Zt(t),null;case 3:return s=t.stateNode,oo(),nt(mn),nt(en),Wh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(vl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(jf(ir),ir=null))),Rf(e,t),Zt(t),null;case 5:Hh(t);var o=ii(ba.current);if(n=t.type,e!==null&&t.stateNode!=null)T2(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(J(166));return Zt(t),null}if(e=ii(Ir.current),vl(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[Sr]=t,s[Aa]=l,e=(t.mode&1)!==0,n){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(o=0;o<qo.length;o++)et(qo[o],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":T1(s,l),et("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},et("invalid",s);break;case"textarea":I1(s,l),et("invalid",s)}nf(n,l),o=null;for(var f in l)if(l.hasOwnProperty(f)){var g=l[f];f==="children"?typeof g=="string"?s.textContent!==g&&(l.suppressHydrationWarning!==!0&&wl(s.textContent,g,e),o=["children",g]):typeof g=="number"&&s.textContent!==""+g&&(l.suppressHydrationWarning!==!0&&wl(s.textContent,g,e),o=["children",""+g]):ha.hasOwnProperty(f)&&g!=null&&f==="onScroll"&&et("scroll",s)}switch(n){case"input":dl(s),N1(s,l,!0);break;case"textarea":dl(s),_1(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=fc)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{f=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=f.createElement(n,{is:s.is}):(e=f.createElement(n),n==="select"&&(f=e,s.multiple?f.multiple=!0:s.size&&(f.size=s.size))):e=f.createElementNS(e,n),e[Sr]=t,e[Aa]=s,b2(e,t,!1,!1),t.stateNode=e;e:{switch(f=rf(n,s),n){case"dialog":et("cancel",e),et("close",e),o=s;break;case"iframe":case"object":case"embed":et("load",e),o=s;break;case"video":case"audio":for(o=0;o<qo.length;o++)et(qo[o],e);o=s;break;case"source":et("error",e),o=s;break;case"img":case"image":case"link":et("error",e),et("load",e),o=s;break;case"details":et("toggle",e),o=s;break;case"input":T1(e,s),o=qd(e,s),et("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=ct({},s,{value:void 0}),et("invalid",e);break;case"textarea":I1(e,s),o=ef(e,s),et("invalid",e);break;default:o=s}nf(n,o),g=o;for(l in g)if(g.hasOwnProperty(l)){var m=g[l];l==="style"?sx(e,m):l==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&nx(e,m)):l==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&pa(e,m):typeof m=="number"&&pa(e,""+m):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ha.hasOwnProperty(l)?m!=null&&l==="onScroll"&&et("scroll",e):m!=null&&vh(e,l,m,f))}switch(n){case"input":dl(e),N1(e,s,!1);break;case"textarea":dl(e),_1(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Rs(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Qi(e,!!s.multiple,l,!1):s.defaultValue!=null&&Qi(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=fc)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)N2(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(J(166));if(n=ii(ba.current),ii(Ir.current),vl(t)){if(s=t.stateNode,n=t.memoizedProps,s[Sr]=t,(l=s.nodeValue!==n)&&(e=_n,e!==null))switch(e.tag){case 3:wl(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wl(s.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Sr]=t,t.stateNode=s}return Zt(t),null;case 13:if(nt(ot),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&In!==null&&t.mode&1&&!(t.flags&128))Gx(),so(),t.flags|=98560,l=!1;else if(l=vl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(J(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(J(317));l[Sr]=t}else so(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),l=!1}else ir!==null&&(jf(ir),ir=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ot.current&1?Ot===0&&(Ot=3):n0())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return oo(),Rf(e,t),e===null&&Ca(t.stateNode.containerInfo),Zt(t),null;case 10:return Fh(t.type._context),Zt(t),null;case 17:return xn(t.type)&&hc(),Zt(t),null;case 19:if(nt(ot),l=t.memoizedState,l===null)return Zt(t),null;if(s=(t.flags&128)!==0,f=l.rendering,f===null)if(s)zo(l,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=vc(e),f!==null){for(t.flags|=128,zo(l,!1),s=f.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)l=n,e=s,l.flags&=14680066,f=l.alternate,f===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=f.childLanes,l.lanes=f.lanes,l.child=f.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=f.memoizedProps,l.memoizedState=f.memoizedState,l.updateQueue=f.updateQueue,l.type=f.type,e=f.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return qe(ot,ot.current&1|2),t.child}e=e.sibling}l.tail!==null&&yt()>lo&&(t.flags|=128,s=!0,zo(l,!1),t.lanes=4194304)}else{if(!s)if(e=vc(f),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),zo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!st)return Zt(t),null}else 2*yt()-l.renderingStartTime>lo&&n!==1073741824&&(t.flags|=128,s=!0,zo(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(n=l.last,n!==null?n.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=yt(),t.sibling=null,n=ot.current,qe(ot,s?n&1|2:n&1),t):(Zt(t),null);case 22:case 23:return t0(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Tn&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function hE(e,t){switch(Lh(t),t.tag){case 1:return xn(t.type)&&hc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oo(),nt(mn),nt(en),Wh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hh(t),null;case 13:if(nt(ot),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));so()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ot),null;case 4:return oo(),null;case 10:return Fh(t.type._context),null;case 22:case 23:return t0(),null;case 24:return null;default:return null}}var Al=!1,$t=!1,pE=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Vi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){gt(e,t,s)}else n.current=null}function Of(e,t,n){try{n()}catch(s){gt(e,t,s)}}var yp=!1;function gE(e,t){if(pf=cc,e=Mx(),Dh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var f=0,g=-1,m=-1,p=0,w=0,C=e,A=null;t:for(;;){for(var R;C!==n||o!==0&&C.nodeType!==3||(g=f+o),C!==l||s!==0&&C.nodeType!==3||(m=f+s),C.nodeType===3&&(f+=C.nodeValue.length),(R=C.firstChild)!==null;)A=C,C=R;for(;;){if(C===e)break t;if(A===n&&++p===o&&(g=f),A===l&&++w===s&&(m=f),(R=C.nextSibling)!==null)break;C=A,A=C.parentNode}C=R}n=g===-1||m===-1?null:{start:g,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(gf={focusedElem:e,selectionRange:n},cc=!1,ce=t;ce!==null;)if(t=ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ce=e;else for(;ce!==null;){t=ce;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var M=O.memoizedProps,k=O.memoizedState,_=t.stateNode,N=_.getSnapshotBeforeUpdate(t.elementType===t.type?M:tr(t.type,M),k);_.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(B){gt(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,ce=e;break}ce=t.return}return O=yp,yp=!1,O}function oa(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Of(t,n,l)}o=o.next}while(o!==s)}}function tu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Mf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function I2(e){var t=e.alternate;t!==null&&(e.alternate=null,I2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Sr],delete t[Aa],delete t[yf],delete t[q3],delete t[$3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _2(e){return e.tag===5||e.tag===3||e.tag===4}function wp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Df(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fc));else if(s!==4&&(e=e.child,e!==null))for(Df(e,t,n),e=e.sibling;e!==null;)Df(e,t,n),e=e.sibling}function kf(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(kf(e,t,n),e=e.sibling;e!==null;)kf(e,t,n),e=e.sibling}var zt=null,nr=!1;function os(e,t,n){for(n=n.child;n!==null;)R2(e,t,n),n=n.sibling}function R2(e,t,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Yc,n)}catch{}switch(n.tag){case 5:$t||Vi(n,t);case 6:var s=zt,o=nr;zt=null,os(e,t,n),zt=s,nr=o,zt!==null&&(nr?(e=zt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(nr?(e=zt,n=n.stateNode,e.nodeType===8?ud(e.parentNode,n):e.nodeType===1&&ud(e,n),ya(e)):ud(zt,n.stateNode));break;case 4:s=zt,o=nr,zt=n.stateNode.containerInfo,nr=!0,os(e,t,n),zt=s,nr=o;break;case 0:case 11:case 14:case 15:if(!$t&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var l=o,f=l.destroy;l=l.tag,f!==void 0&&(l&2||l&4)&&Of(n,t,f),o=o.next}while(o!==s)}os(e,t,n);break;case 1:if(!$t&&(Vi(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(g){gt(n,t,g)}os(e,t,n);break;case 21:os(e,t,n);break;case 22:n.mode&1?($t=(s=$t)||n.memoizedState!==null,os(e,t,n),$t=s):os(e,t,n);break;default:os(e,t,n)}}function vp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new pE),t.forEach(function(s){var o=SE.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function er(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var l=e,f=t,g=f;e:for(;g!==null;){switch(g.tag){case 5:zt=g.stateNode,nr=!1;break e;case 3:zt=g.stateNode.containerInfo,nr=!0;break e;case 4:zt=g.stateNode.containerInfo,nr=!0;break e}g=g.return}if(zt===null)throw Error(J(160));R2(l,f,o),zt=null,nr=!1;var m=o.alternate;m!==null&&(m.return=null),o.return=null}catch(p){gt(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)O2(t,e),t=t.sibling}function O2(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(er(t,e),vr(e),s&4){try{oa(3,e,e.return),tu(3,e)}catch(M){gt(e,e.return,M)}try{oa(5,e,e.return)}catch(M){gt(e,e.return,M)}}break;case 1:er(t,e),vr(e),s&512&&n!==null&&Vi(n,n.return);break;case 5:if(er(t,e),vr(e),s&512&&n!==null&&Vi(n,n.return),e.flags&32){var o=e.stateNode;try{pa(o,"")}catch(M){gt(e,e.return,M)}}if(s&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,f=n!==null?n.memoizedProps:l,g=e.type,m=e.updateQueue;if(e.updateQueue=null,m!==null)try{g==="input"&&l.type==="radio"&&l.name!=null&&Jm(o,l),rf(g,f);var p=rf(g,l);for(f=0;f<m.length;f+=2){var w=m[f],C=m[f+1];w==="style"?sx(o,C):w==="dangerouslySetInnerHTML"?nx(o,C):w==="children"?pa(o,C):vh(o,w,C,p)}switch(g){case"input":$d(o,l);break;case"textarea":ex(o,l);break;case"select":var A=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var R=l.value;R!=null?Qi(o,!!l.multiple,R,!1):A!==!!l.multiple&&(l.defaultValue!=null?Qi(o,!!l.multiple,l.defaultValue,!0):Qi(o,!!l.multiple,l.multiple?[]:"",!1))}o[Aa]=l}catch(M){gt(e,e.return,M)}}break;case 6:if(er(t,e),vr(e),s&4){if(e.stateNode===null)throw Error(J(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(M){gt(e,e.return,M)}}break;case 3:if(er(t,e),vr(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ya(t.containerInfo)}catch(M){gt(e,e.return,M)}break;case 4:er(t,e),vr(e);break;case 13:er(t,e),vr(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(Jh=yt())),s&4&&vp(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?($t=(p=$t)||w,er(t,e),$t=p):er(t,e),vr(e),s&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!w&&e.mode&1)for(ce=e,w=e.child;w!==null;){for(C=ce=w;ce!==null;){switch(A=ce,R=A.child,A.tag){case 0:case 11:case 14:case 15:oa(4,A,A.return);break;case 1:Vi(A,A.return);var O=A.stateNode;if(typeof O.componentWillUnmount=="function"){s=A,n=A.return;try{t=s,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(M){gt(s,n,M)}}break;case 5:Vi(A,A.return);break;case 22:if(A.memoizedState!==null){Ep(C);continue}}R!==null?(R.return=A,ce=R):Ep(C)}w=w.sibling}e:for(w=null,C=e;;){if(C.tag===5){if(w===null){w=C;try{o=C.stateNode,p?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(g=C.stateNode,m=C.memoizedProps.style,f=m!=null&&m.hasOwnProperty("display")?m.display:null,g.style.display=rx("display",f))}catch(M){gt(e,e.return,M)}}}else if(C.tag===6){if(w===null)try{C.stateNode.nodeValue=p?"":C.memoizedProps}catch(M){gt(e,e.return,M)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;w===C&&(w=null),C=C.return}w===C&&(w=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:er(t,e),vr(e),s&4&&vp(e);break;case 21:break;default:er(t,e),vr(e)}}function vr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(_2(n)){var s=n;break e}n=n.return}throw Error(J(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(pa(o,""),s.flags&=-33);var l=wp(e);kf(e,l,o);break;case 3:case 4:var f=s.stateNode.containerInfo,g=wp(e);Df(e,g,f);break;default:throw Error(J(161))}}catch(m){gt(e,e.return,m)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mE(e,t,n){ce=e,M2(e)}function M2(e,t,n){for(var s=(e.mode&1)!==0;ce!==null;){var o=ce,l=o.child;if(o.tag===22&&s){var f=o.memoizedState!==null||Al;if(!f){var g=o.alternate,m=g!==null&&g.memoizedState!==null||$t;g=Al;var p=$t;if(Al=f,($t=m)&&!p)for(ce=o;ce!==null;)f=ce,m=f.child,f.tag===22&&f.memoizedState!==null?Ap(o):m!==null?(m.return=f,ce=m):Ap(o);for(;l!==null;)ce=l,M2(l),l=l.sibling;ce=o,Al=g,$t=p}Cp(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,ce=l):Cp(e)}}function Cp(e){for(;ce!==null;){var t=ce;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$t||tu(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!$t)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:tr(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&ip(t,l,s);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ip(t,f,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var w=p.memoizedState;if(w!==null){var C=w.dehydrated;C!==null&&ya(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}$t||t.flags&512&&Mf(t)}catch(A){gt(t,t.return,A)}}if(t===e){ce=null;break}if(n=t.sibling,n!==null){n.return=t.return,ce=n;break}ce=t.return}}function Ep(e){for(;ce!==null;){var t=ce;if(t===e){ce=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ce=n;break}ce=t.return}}function Ap(e){for(;ce!==null;){var t=ce;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tu(4,t)}catch(m){gt(t,n,m)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(m){gt(t,o,m)}}var l=t.return;try{Mf(t)}catch(m){gt(t,l,m)}break;case 5:var f=t.return;try{Mf(t)}catch(m){gt(t,f,m)}}}catch(m){gt(t,t.return,m)}if(t===e){ce=null;break}var g=t.sibling;if(g!==null){g.return=t.return,ce=g;break}ce=t.return}}var xE=Math.ceil,Ac=$r.ReactCurrentDispatcher,qh=$r.ReactCurrentOwner,Yn=$r.ReactCurrentBatchConfig,Be=0,Lt=null,At=null,Wt=0,Tn=0,zi=Bs(0),Ot=0,_a=null,hi=0,nu=0,$h=0,aa=null,pn=null,Jh=0,lo=1/0,Br=null,Sc=!1,Lf=null,As=null,Sl=!1,ms=null,bc=0,la=0,Pf=null,Gl=-1,Xl=0;function on(){return Be&6?yt():Gl!==-1?Gl:Gl=yt()}function Ss(e){return e.mode&1?Be&2&&Wt!==0?Wt&-Wt:eE.transition!==null?(Xl===0&&(Xl=mx()),Xl):(e=We,e!==0||(e=window.event,e=e===void 0?16:Ax(e.type)),e):1}function lr(e,t,n,s){if(50<la)throw la=0,Pf=null,Error(J(185));Ba(e,n,s),(!(Be&2)||e!==Lt)&&(e===Lt&&(!(Be&2)&&(nu|=n),Ot===4&&ps(e,Wt)),yn(e,s),n===1&&Be===0&&!(t.mode&1)&&(lo=yt()+500,$c&&js()))}function yn(e,t){var n=e.callbackNode;e3(e,t);var s=lc(e,e===Lt?Wt:0);if(s===0)n!==null&&M1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&M1(n),t===1)e.tag===0?J3(Sp.bind(null,e)):zx(Sp.bind(null,e)),K3(function(){!(Be&6)&&js()}),n=null;else{switch(xx(s)){case 1:n=bh;break;case 4:n=px;break;case 16:n=ac;break;case 536870912:n=gx;break;default:n=ac}n=U2(n,D2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function D2(e,t){if(Gl=-1,Xl=0,Be&6)throw Error(J(327));var n=e.callbackNode;if(Ji()&&e.callbackNode!==n)return null;var s=lc(e,e===Lt?Wt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Tc(e,s);else{t=s;var o=Be;Be|=2;var l=L2();(Lt!==e||Wt!==t)&&(Br=null,lo=yt()+500,li(e,t));do try{vE();break}catch(g){k2(e,g)}while(1);jh(),Ac.current=l,Be=o,At!==null?t=0:(Lt=null,Wt=0,t=Ot)}if(t!==0){if(t===2&&(o=cf(e),o!==0&&(s=o,t=Bf(e,o))),t===1)throw n=_a,li(e,0),ps(e,s),yn(e,yt()),n;if(t===6)ps(e,s);else{if(o=e.current.alternate,!(s&30)&&!yE(o)&&(t=Tc(e,s),t===2&&(l=cf(e),l!==0&&(s=l,t=Bf(e,l))),t===1))throw n=_a,li(e,0),ps(e,s),yn(e,yt()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(J(345));case 2:$s(e,pn,Br);break;case 3:if(ps(e,s),(s&130023424)===s&&(t=Jh+500-yt(),10<t)){if(lc(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){on(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=xf($s.bind(null,e,pn,Br),t);break}$s(e,pn,Br);break;case 4:if(ps(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var f=31-ar(s);l=1<<f,f=t[f],f>o&&(o=f),s&=~l}if(s=o,s=yt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*xE(s/1960))-s,10<s){e.timeoutHandle=xf($s.bind(null,e,pn,Br),s);break}$s(e,pn,Br);break;case 5:$s(e,pn,Br);break;default:throw Error(J(329))}}}return yn(e,yt()),e.callbackNode===n?D2.bind(null,e):null}function Bf(e,t){var n=aa;return e.current.memoizedState.isDehydrated&&(li(e,t).flags|=256),e=Tc(e,t),e!==2&&(t=pn,pn=n,t!==null&&jf(t)),e}function jf(e){pn===null?pn=e:pn.push.apply(pn,e)}function yE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],l=o.getSnapshot;o=o.value;try{if(!ur(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ps(e,t){for(t&=~$h,t&=~nu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ar(t),s=1<<n;e[n]=-1,t&=~s}}function Sp(e){if(Be&6)throw Error(J(327));Ji();var t=lc(e,0);if(!(t&1))return yn(e,yt()),null;var n=Tc(e,t);if(e.tag!==0&&n===2){var s=cf(e);s!==0&&(t=s,n=Bf(e,s))}if(n===1)throw n=_a,li(e,0),ps(e,t),yn(e,yt()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,$s(e,pn,Br),yn(e,yt()),null}function e0(e,t){var n=Be;Be|=1;try{return e(t)}finally{Be=n,Be===0&&(lo=yt()+500,$c&&js())}}function pi(e){ms!==null&&ms.tag===0&&!(Be&6)&&Ji();var t=Be;Be|=1;var n=Yn.transition,s=We;try{if(Yn.transition=null,We=1,e)return e()}finally{We=s,Yn.transition=n,Be=t,!(Be&6)&&js()}}function t0(){Tn=zi.current,nt(zi)}function li(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Q3(n)),At!==null)for(n=At.return;n!==null;){var s=n;switch(Lh(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&hc();break;case 3:oo(),nt(mn),nt(en),Wh();break;case 5:Hh(s);break;case 4:oo();break;case 13:nt(ot);break;case 19:nt(ot);break;case 10:Fh(s.type._context);break;case 22:case 23:t0()}n=n.return}if(Lt=e,At=e=bs(e.current,null),Wt=Tn=t,Ot=0,_a=null,$h=nu=hi=0,pn=aa=null,si!==null){for(t=0;t<si.length;t++)if(n=si[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,l=n.pending;if(l!==null){var f=l.next;l.next=o,s.next=f}n.pending=s}si=null}return e}function k2(e,t){do{var n=At;try{if(jh(),zl.current=Ec,Cc){for(var s=lt.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Cc=!1}if(fi=0,kt=Rt=lt=null,ia=!1,Ta=0,qh.current=null,n===null||n.return===null){Ot=1,_a=t,At=null;break}e:{var l=e,f=n.return,g=n,m=t;if(t=Wt,g.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var p=m,w=g,C=w.tag;if(!(w.mode&1)&&(C===0||C===11||C===15)){var A=w.alternate;A?(w.updateQueue=A.updateQueue,w.memoizedState=A.memoizedState,w.lanes=A.lanes):(w.updateQueue=null,w.memoizedState=null)}var R=dp(f);if(R!==null){R.flags&=-257,fp(R,f,g,l,t),R.mode&1&&up(l,p,t),t=R,m=p;var O=t.updateQueue;if(O===null){var M=new Set;M.add(m),t.updateQueue=M}else O.add(m);break e}else{if(!(t&1)){up(l,p,t),n0();break e}m=Error(J(426))}}else if(st&&g.mode&1){var k=dp(f);if(k!==null){!(k.flags&65536)&&(k.flags|=256),fp(k,f,g,l,t),Ph(ao(m,g));break e}}l=m=ao(m,g),Ot!==4&&(Ot=2),aa===null?aa=[l]:aa.push(l),l=f;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var _=x2(l,m,t);sp(l,_);break e;case 1:g=m;var N=l.type,T=l.stateNode;if(!(l.flags&128)&&(typeof N.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(As===null||!As.has(T)))){l.flags|=65536,t&=-t,l.lanes|=t;var B=y2(l,g,t);sp(l,B);break e}}l=l.return}while(l!==null)}B2(n)}catch(V){t=V,At===n&&n!==null&&(At=n=n.return);continue}break}while(1)}function L2(){var e=Ac.current;return Ac.current=Ec,e===null?Ec:e}function n0(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Lt===null||!(hi&268435455)&&!(nu&268435455)||ps(Lt,Wt)}function Tc(e,t){var n=Be;Be|=2;var s=L2();(Lt!==e||Wt!==t)&&(Br=null,li(e,t));do try{wE();break}catch(o){k2(e,o)}while(1);if(jh(),Be=n,Ac.current=s,At!==null)throw Error(J(261));return Lt=null,Wt=0,Ot}function wE(){for(;At!==null;)P2(At)}function vE(){for(;At!==null&&!GC();)P2(At)}function P2(e){var t=F2(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?B2(e):At=t,qh.current=null}function B2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hE(n,t),n!==null){n.flags&=32767,At=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,At=null;return}}else if(n=fE(n,t,Tn),n!==null){At=n;return}if(t=t.sibling,t!==null){At=t;return}At=t=e}while(t!==null);Ot===0&&(Ot=5)}function $s(e,t,n){var s=We,o=Yn.transition;try{Yn.transition=null,We=1,CE(e,t,n,s)}finally{Yn.transition=o,We=s}return null}function CE(e,t,n,s){do Ji();while(ms!==null);if(Be&6)throw Error(J(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(t3(e,l),e===Lt&&(At=Lt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sl||(Sl=!0,U2(ac,function(){return Ji(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Yn.transition,Yn.transition=null;var f=We;We=1;var g=Be;Be|=4,qh.current=null,gE(e,n),O2(n,e),V3(gf),cc=!!pf,gf=pf=null,e.current=n,mE(n),XC(),Be=g,We=f,Yn.transition=l}else e.current=n;if(Sl&&(Sl=!1,ms=e,bc=o),l=e.pendingLanes,l===0&&(As=null),KC(n.stateNode),yn(e,yt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(Sc)throw Sc=!1,e=Lf,Lf=null,e;return bc&1&&e.tag!==0&&Ji(),l=e.pendingLanes,l&1?e===Pf?la++:(la=0,Pf=e):la=0,js(),null}function Ji(){if(ms!==null){var e=xx(bc),t=Yn.transition,n=We;try{if(Yn.transition=null,We=16>e?16:e,ms===null)var s=!1;else{if(e=ms,ms=null,bc=0,Be&6)throw Error(J(331));var o=Be;for(Be|=4,ce=e.current;ce!==null;){var l=ce,f=l.child;if(ce.flags&16){var g=l.deletions;if(g!==null){for(var m=0;m<g.length;m++){var p=g[m];for(ce=p;ce!==null;){var w=ce;switch(w.tag){case 0:case 11:case 15:oa(8,w,l)}var C=w.child;if(C!==null)C.return=w,ce=C;else for(;ce!==null;){w=ce;var A=w.sibling,R=w.return;if(I2(w),w===p){ce=null;break}if(A!==null){A.return=R,ce=A;break}ce=R}}}var O=l.alternate;if(O!==null){var M=O.child;if(M!==null){O.child=null;do{var k=M.sibling;M.sibling=null,M=k}while(M!==null)}}ce=l}}if(l.subtreeFlags&2064&&f!==null)f.return=l,ce=f;else e:for(;ce!==null;){if(l=ce,l.flags&2048)switch(l.tag){case 0:case 11:case 15:oa(9,l,l.return)}var _=l.sibling;if(_!==null){_.return=l.return,ce=_;break e}ce=l.return}}var N=e.current;for(ce=N;ce!==null;){f=ce;var T=f.child;if(f.subtreeFlags&2064&&T!==null)T.return=f,ce=T;else e:for(f=N;ce!==null;){if(g=ce,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:tu(9,g)}}catch(V){gt(g,g.return,V)}if(g===f){ce=null;break e}var B=g.sibling;if(B!==null){B.return=g.return,ce=B;break e}ce=g.return}}if(Be=o,js(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Yc,e)}catch{}s=!0}return s}finally{We=n,Yn.transition=t}}return!1}function bp(e,t,n){t=ao(n,t),t=x2(e,t,1),e=Es(e,t,1),t=on(),e!==null&&(Ba(e,1,t),yn(e,t))}function gt(e,t,n){if(e.tag===3)bp(e,e,n);else for(;t!==null;){if(t.tag===3){bp(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(As===null||!As.has(s))){e=ao(n,e),e=y2(t,e,1),t=Es(t,e,1),e=on(),t!==null&&(Ba(t,1,e),yn(t,e));break}}t=t.return}}function EE(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=on(),e.pingedLanes|=e.suspendedLanes&n,Lt===e&&(Wt&n)===n&&(Ot===4||Ot===3&&(Wt&130023424)===Wt&&500>yt()-Jh?li(e,0):$h|=n),yn(e,t)}function j2(e,t){t===0&&(e.mode&1?(t=pl,pl<<=1,!(pl&130023424)&&(pl=4194304)):t=1);var n=on();e=Qr(e,t),e!==null&&(Ba(e,t,n),yn(e,n))}function AE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),j2(e,n)}function SE(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(J(314))}s!==null&&s.delete(t),j2(e,n)}var F2;F2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||mn.current)gn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gn=!1,dE(e,t,n);gn=!!(e.flags&131072)}else gn=!1,st&&t.flags&1048576&&Hx(t,mc,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Wl(e,t),e=t.pendingProps;var o=ro(t,en.current);$i(t,n),o=Xh(null,t,s,e,o,n);var l=Yh();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(s)?(l=!0,pc(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Vh(t),o.updater=eu,t.stateNode=o,o._reactInternals=t,Sf(t,s,e,n),t=Nf(null,t,s,!0,l,n)):(t.tag=0,st&&l&&kh(t),sn(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Wl(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=TE(s),e=tr(s,e),o){case 0:t=Tf(null,t,s,e,n);break e;case 1:t=gp(null,t,s,e,n);break e;case 11:t=hp(null,t,s,e,n);break e;case 14:t=pp(null,t,s,tr(s.type,e),n);break e}throw Error(J(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tr(s,o),Tf(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tr(s,o),gp(e,t,s,o,n);case 3:e:{if(E2(t),e===null)throw Error(J(387));s=t.pendingProps,l=t.memoizedState,o=l.element,Kx(e,t),wc(t,s,null,n);var f=t.memoizedState;if(s=f.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=ao(Error(J(423)),t),t=mp(e,t,s,n,o);break e}else if(s!==o){o=ao(Error(J(424)),t),t=mp(e,t,s,n,o);break e}else for(In=Cs(t.stateNode.containerInfo.firstChild),_n=t,st=!0,ir=null,n=Yx(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(so(),s===o){t=Kr(e,t,n);break e}sn(e,t,s,n)}t=t.child}return t;case 5:return Zx(t),e===null&&Cf(t),s=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,f=o.children,mf(s,o)?f=null:l!==null&&mf(s,l)&&(t.flags|=32),C2(e,t),sn(e,t,f,n),t.child;case 6:return e===null&&Cf(t),null;case 13:return A2(e,t,n);case 4:return zh(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=io(t,null,s,n):sn(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tr(s,o),hp(e,t,s,o,n);case 7:return sn(e,t,t.pendingProps,n),t.child;case 8:return sn(e,t,t.pendingProps.children,n),t.child;case 12:return sn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,l=t.memoizedProps,f=o.value,qe(xc,s._currentValue),s._currentValue=f,l!==null)if(ur(l.value,f)){if(l.children===o.children&&!mn.current){t=Kr(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var g=l.dependencies;if(g!==null){f=l.child;for(var m=g.firstContext;m!==null;){if(m.context===s){if(l.tag===1){m=Hr(-1,n&-n),m.tag=2;var p=l.updateQueue;if(p!==null){p=p.shared;var w=p.pending;w===null?m.next=m:(m.next=w.next,w.next=m),p.pending=m}}l.lanes|=n,m=l.alternate,m!==null&&(m.lanes|=n),Ef(l.return,n,t),g.lanes|=n;break}m=m.next}}else if(l.tag===10)f=l.type===t.type?null:l.child;else if(l.tag===18){if(f=l.return,f===null)throw Error(J(341));f.lanes|=n,g=f.alternate,g!==null&&(g.lanes|=n),Ef(f,n,t),f=l.sibling}else f=l.child;if(f!==null)f.return=l;else for(f=l;f!==null;){if(f===t){f=null;break}if(l=f.sibling,l!==null){l.return=f.return,f=l;break}f=f.return}l=f}sn(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,$i(t,n),o=Qn(o),s=s(o),t.flags|=1,sn(e,t,s,n),t.child;case 14:return s=t.type,o=tr(s,t.pendingProps),o=tr(s.type,o),pp(e,t,s,o,n);case 15:return w2(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:tr(s,o),Wl(e,t),t.tag=1,xn(s)?(e=!0,pc(t)):e=!1,$i(t,n),m2(t,s,o),Sf(t,s,o,n),Nf(null,t,s,!0,e,n);case 19:return S2(e,t,n);case 22:return v2(e,t,n)}throw Error(J(156,t.tag))};function U2(e,t){return hx(e,t)}function bE(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,t,n,s){return new bE(e,t,n,s)}function r0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function TE(e){if(typeof e=="function")return r0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Eh)return 11;if(e===Ah)return 14}return 2}function bs(e,t){var n=e.alternate;return n===null?(n=Xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yl(e,t,n,s,o,l){var f=2;if(s=e,typeof e=="function")r0(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Mi:return ci(n.children,o,l,t);case Ch:f=8,o|=8;break;case Yd:return e=Xn(12,n,t,o|2),e.elementType=Yd,e.lanes=l,e;case Qd:return e=Xn(13,n,t,o),e.elementType=Qd,e.lanes=l,e;case Kd:return e=Xn(19,n,t,o),e.elementType=Kd,e.lanes=l,e;case Zm:return ru(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qm:f=10;break e;case Km:f=9;break e;case Eh:f=11;break e;case Ah:f=14;break e;case us:f=16,s=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Xn(f,n,t,o),t.elementType=e,t.type=s,t.lanes=l,t}function ci(e,t,n,s){return e=Xn(7,e,s,t),e.lanes=n,e}function ru(e,t,n,s){return e=Xn(22,e,s,t),e.elementType=Zm,e.lanes=n,e.stateNode={isHidden:!1},e}function yd(e,t,n){return e=Xn(6,e,null,t),e.lanes=n,e}function wd(e,t,n){return t=Xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NE(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ju(0),this.expirationTimes=Ju(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ju(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function s0(e,t,n,s,o,l,f,g,m){return e=new NE(e,t,n,g,m),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Xn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vh(l),e}function IE(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function V2(e){if(!e)return Os;e=e._reactInternals;e:{if(xi(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(xn(n))return Vx(e,n,t)}return t}function z2(e,t,n,s,o,l,f,g,m){return e=s0(n,s,!0,e,o,l,f,g,m),e.context=V2(null),n=e.current,s=on(),o=Ss(n),l=Hr(s,o),l.callback=t??null,Es(n,l,o),e.current.lanes=o,Ba(e,o,s),yn(e,s),e}function su(e,t,n,s){var o=t.current,l=on(),f=Ss(o);return n=V2(n),t.context===null?t.context=n:t.pendingContext=n,t=Hr(l,f),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Es(o,t,f),e!==null&&(lr(e,o,f,l),Vl(e,o,f)),f}function Nc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function i0(e,t){Tp(e,t),(e=e.alternate)&&Tp(e,t)}function _E(){return null}var H2=typeof reportError=="function"?reportError:function(e){console.error(e)};function o0(e){this._internalRoot=e}iu.prototype.render=o0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));su(e,t,null,null)};iu.prototype.unmount=o0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pi(function(){su(null,e,null,null)}),t[Yr]=null}};function iu(e){this._internalRoot=e}iu.prototype.unstable_scheduleHydration=function(e){if(e){var t=vx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hs.length&&t!==0&&t<hs[n].priority;n++);hs.splice(n,0,e),n===0&&Ex(e)}};function a0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ou(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Np(){}function RE(e,t,n,s,o){if(o){if(typeof s=="function"){var l=s;s=function(){var p=Nc(f);l.call(p)}}var f=z2(t,s,e,0,null,!1,!1,"",Np);return e._reactRootContainer=f,e[Yr]=f.current,Ca(e.nodeType===8?e.parentNode:e),pi(),f}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var g=s;s=function(){var p=Nc(m);g.call(p)}}var m=s0(e,0,!1,null,null,!1,!1,"",Np);return e._reactRootContainer=m,e[Yr]=m.current,Ca(e.nodeType===8?e.parentNode:e),pi(function(){su(t,m,n,s)}),m}function au(e,t,n,s,o){var l=n._reactRootContainer;if(l){var f=l;if(typeof o=="function"){var g=o;o=function(){var m=Nc(f);g.call(m)}}su(t,f,e,o)}else f=RE(n,t,e,o,s);return Nc(f)}yx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zo(t.pendingLanes);n!==0&&(Th(t,n|1),yn(t,yt()),!(Be&6)&&(lo=yt()+500,js()))}break;case 13:pi(function(){var s=Qr(e,1);if(s!==null){var o=on();lr(s,e,1,o)}}),i0(e,1)}};Nh=function(e){if(e.tag===13){var t=Qr(e,134217728);if(t!==null){var n=on();lr(t,e,134217728,n)}i0(e,134217728)}};wx=function(e){if(e.tag===13){var t=Ss(e),n=Qr(e,t);if(n!==null){var s=on();lr(n,e,t,s)}i0(e,t)}};vx=function(){return We};Cx=function(e,t){var n=We;try{return We=e,t()}finally{We=n}};of=function(e,t,n){switch(t){case"input":if($d(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=qc(s);if(!o)throw Error(J(90));$m(s),$d(s,o)}}}break;case"textarea":ex(e,n);break;case"select":t=n.value,t!=null&&Qi(e,!!n.multiple,t,!1)}};ax=e0;lx=pi;var OE={usingClientEntryPoint:!1,Events:[Fa,Pi,qc,ix,ox,e0]},Ho={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ME={bundleType:Ho.bundleType,version:Ho.version,rendererPackageName:Ho.rendererPackageName,rendererConfig:Ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=dx(e),e===null?null:e.stateNode},findFiberByHostInstance:Ho.findFiberByHostInstance||_E,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{Yc=bl.inject(ME),Nr=bl}catch{}}Mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OE;Mn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a0(t))throw Error(J(200));return IE(e,t,null,n)};Mn.createRoot=function(e,t){if(!a0(e))throw Error(J(299));var n=!1,s="",o=H2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=s0(e,1,!1,null,null,n,!1,s,o),e[Yr]=t.current,Ca(e.nodeType===8?e.parentNode:e),new o0(t)};Mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=dx(t),e=e===null?null:e.stateNode,e};Mn.flushSync=function(e){return pi(e)};Mn.hydrate=function(e,t,n){if(!ou(t))throw Error(J(200));return au(null,e,t,!0,n)};Mn.hydrateRoot=function(e,t,n){if(!a0(e))throw Error(J(405));var s=n!=null&&n.hydratedSources||null,o=!1,l="",f=H2;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=z2(t,null,e,1,n??null,o,!1,l,f),e[Yr]=t.current,Ca(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new iu(t)};Mn.render=function(e,t,n){if(!ou(t))throw Error(J(200));return au(null,e,t,!1,n)};Mn.unmountComponentAtNode=function(e){if(!ou(e))throw Error(J(40));return e._reactRootContainer?(pi(function(){au(null,null,e,!1,function(){e._reactRootContainer=null,e[Yr]=null})}),!0):!1};Mn.unstable_batchedUpdates=e0;Mn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ou(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return au(e,t,n,!1,s)};Mn.version="18.3.1-next-f1338f8080-20240426";function W2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W2)}catch(e){console.error(e)}}W2(),Wm.exports=Mn;var DE=Wm.exports,Ip=DE;Gd.createRoot=Ip.createRoot,Gd.hydrateRoot=Ip.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ra(){return Ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ra.apply(this,arguments)}var xs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xs||(xs={}));const _p="popstate";function kE(e){e===void 0&&(e={});function t(s,o){let{pathname:l,search:f,hash:g}=s.location;return Ff("",{pathname:l,search:f,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Ic(o)}return PE(t,n,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function l0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LE(){return Math.random().toString(36).substr(2,8)}function Rp(e,t){return{usr:e.state,key:e.key,idx:t}}function Ff(e,t,n,s){return n===void 0&&(n=null),Ra({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?mo(t):t,{state:n,key:t&&t.key||s||LE()})}function Ic(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function mo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function PE(e,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,f=o.history,g=xs.Pop,m=null,p=w();p==null&&(p=0,f.replaceState(Ra({},f.state,{idx:p}),""));function w(){return(f.state||{idx:null}).idx}function C(){g=xs.Pop;let k=w(),_=k==null?null:k-p;p=k,m&&m({action:g,location:M.location,delta:_})}function A(k,_){g=xs.Push;let N=Ff(M.location,k,_);n&&n(N,k),p=w()+1;let T=Rp(N,p),B=M.createHref(N);try{f.pushState(T,"",B)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;o.location.assign(B)}l&&m&&m({action:g,location:M.location,delta:1})}function R(k,_){g=xs.Replace;let N=Ff(M.location,k,_);n&&n(N,k),p=w();let T=Rp(N,p),B=M.createHref(N);f.replaceState(T,"",B),l&&m&&m({action:g,location:M.location,delta:0})}function O(k){let _=o.location.origin!=="null"?o.location.origin:o.location.href,N=typeof k=="string"?k:Ic(k);return N=N.replace(/ $/,"%20"),wt(_,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,_)}let M={get action(){return g},get location(){return e(o,f)},listen(k){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(_p,C),m=k,()=>{o.removeEventListener(_p,C),m=null}},createHref(k){return t(o,k)},createURL:O,encodeLocation(k){let _=O(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:A,replace:R,go(k){return f.go(k)}};return M}var Op;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Op||(Op={}));function BE(e,t,n){return n===void 0&&(n="/"),jE(e,t,n,!1)}function jE(e,t,n,s){let o=typeof t=="string"?mo(t):t,l=c0(o.pathname||"/",n);if(l==null)return null;let f=G2(e);FE(f);let g=null;for(let m=0;g==null&&m<f.length;++m){let p=ZE(l);g=QE(f[m],p,s)}return g}function G2(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(l,f,g)=>{let m={relativePath:g===void 0?l.path||"":g,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};m.relativePath.startsWith("/")&&(wt(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let p=Ts([s,m.relativePath]),w=n.concat(m);l.children&&l.children.length>0&&(wt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),G2(l.children,t,w,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:XE(p,l.index),routesMeta:w})};return e.forEach((l,f)=>{var g;if(l.path===""||!((g=l.path)!=null&&g.includes("?")))o(l,f);else for(let m of X2(l.path))o(l,f,m)}),t}function X2(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let f=X2(s.join("/")),g=[];return g.push(...f.map(m=>m===""?l:[l,m].join("/"))),o&&g.push(...f),g.map(m=>e.startsWith("/")&&m===""?"/":m)}function FE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YE(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const UE=/^:[\w-]+$/,VE=3,zE=2,HE=1,WE=10,GE=-2,Mp=e=>e==="*";function XE(e,t){let n=e.split("/"),s=n.length;return n.some(Mp)&&(s+=GE),t&&(s+=zE),n.filter(o=>!Mp(o)).reduce((o,l)=>o+(UE.test(l)?VE:l===""?HE:WE),s)}function YE(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function QE(e,t,n){n===void 0&&(n=!1);let{routesMeta:s}=e,o={},l="/",f=[];for(let g=0;g<s.length;++g){let m=s[g],p=g===s.length-1,w=l==="/"?t:t.slice(l.length)||"/",C=Dp({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},w),A=m.route;if(!C&&p&&n&&!s[s.length-1].route.index&&(C=Dp({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},w)),!C)return null;Object.assign(o,C.params),f.push({params:o,pathname:Ts([l,C.pathname]),pathnameBase:t4(Ts([l,C.pathnameBase])),route:A}),C.pathnameBase!=="/"&&(l=Ts([l,C.pathnameBase]))}return f}function Dp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=KE(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],f=l.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,w,C)=>{let{paramName:A,isOptional:R}=w;if(A==="*"){let M=g[C]||"";f=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const O=g[C];return R&&!O?p[A]=void 0:p[A]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:f,pattern:e}}function KE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),l0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,m)=>(s.push({paramName:g,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function ZE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return l0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function c0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$E=e=>qE.test(e);function JE(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?mo(e):e,l;if(n)if($E(n))l=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),l0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(f+" -> "+n))}n.startsWith("/")?l=kp(n.substring(1),"/"):l=kp(n,t)}else l=t;return{pathname:l,search:n4(s),hash:r4(o)}}function kp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vd(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function e4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function u0(e,t){let n=e4(e);return t?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function d0(e,t,n,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=mo(e):(o=Ra({},e),wt(!o.pathname||!o.pathname.includes("?"),vd("?","pathname","search",o)),wt(!o.pathname||!o.pathname.includes("#"),vd("#","pathname","hash",o)),wt(!o.search||!o.search.includes("#"),vd("#","search","hash",o)));let l=e===""||o.pathname==="",f=l?"/":o.pathname,g;if(f==null)g=n;else{let C=t.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),C-=1;o.pathname=A.join("/")}g=C>=0?t[C]:"/"}let m=JE(o,g),p=f&&f!=="/"&&f.endsWith("/"),w=(l||f===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||w)&&(m.pathname+="/"),m}const Ts=e=>e.join("/").replace(/\/\/+/g,"/"),t4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),n4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function s4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Y2=["post","put","patch","delete"];new Set(Y2);const i4=["get",...Y2];new Set(i4);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Oa.apply(this,arguments)}const f0=P.createContext(null),o4=P.createContext(null),Fs=P.createContext(null),lu=P.createContext(null),Mr=P.createContext({outlet:null,matches:[],isDataRoute:!1}),Q2=P.createContext(null);function a4(e,t){let{relative:n}=t===void 0?{}:t;xo()||wt(!1);let{basename:s,navigator:o}=P.useContext(Fs),{hash:l,pathname:f,search:g}=Z2(e,{relative:n}),m=f;return s!=="/"&&(m=f==="/"?s:Ts([s,f])),o.createHref({pathname:m,search:g,hash:l})}function xo(){return P.useContext(lu)!=null}function yo(){return xo()||wt(!1),P.useContext(lu).location}function K2(e){P.useContext(Fs).static||P.useLayoutEffect(e)}function Xt(){let{isDataRoute:e}=P.useContext(Mr);return e?E4():l4()}function l4(){xo()||wt(!1);let e=P.useContext(f0),{basename:t,future:n,navigator:s}=P.useContext(Fs),{matches:o}=P.useContext(Mr),{pathname:l}=yo(),f=JSON.stringify(u0(o,n.v7_relativeSplatPath)),g=P.useRef(!1);return K2(()=>{g.current=!0}),P.useCallback(function(p,w){if(w===void 0&&(w={}),!g.current)return;if(typeof p=="number"){s.go(p);return}let C=d0(p,JSON.parse(f),l,w.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:Ts([t,C.pathname])),(w.replace?s.replace:s.push)(C,w.state,w)},[t,s,f,l,e])}const c4=P.createContext(null);function u4(e){let t=P.useContext(Mr).outlet;return t&&P.createElement(c4.Provider,{value:e},t)}function cu(){let{matches:e}=P.useContext(Mr),t=e[e.length-1];return t?t.params:{}}function Z2(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=P.useContext(Fs),{matches:o}=P.useContext(Mr),{pathname:l}=yo(),f=JSON.stringify(u0(o,s.v7_relativeSplatPath));return P.useMemo(()=>d0(e,JSON.parse(f),l,n==="path"),[e,f,l,n])}function d4(e,t){return f4(e,t)}function f4(e,t,n,s){xo()||wt(!1);let{navigator:o}=P.useContext(Fs),{matches:l}=P.useContext(Mr),f=l[l.length-1],g=f?f.params:{};f&&f.pathname;let m=f?f.pathnameBase:"/";f&&f.route;let p=yo(),w;if(t){var C;let k=typeof t=="string"?mo(t):t;m==="/"||(C=k.pathname)!=null&&C.startsWith(m)||wt(!1),w=k}else w=p;let A=w.pathname||"/",R=A;if(m!=="/"){let k=m.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(k.length).join("/")}let O=BE(e,{pathname:R}),M=x4(O&&O.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:Ts([m,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Ts([m,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,n,s);return t&&M?P.createElement(lu.Provider,{value:{location:Oa({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:xs.Pop}},M):M}function h4(){let e=C4(),t=s4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},l=null;return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:o},n):null,l)}const p4=P.createElement(h4,null);class g4 extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?P.createElement(Mr.Provider,{value:this.props.routeContext},P.createElement(Q2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m4(e){let{routeContext:t,match:n,children:s}=e,o=P.useContext(f0);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Mr.Provider,{value:t},s)}function x4(e,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let f=e,g=(o=n)==null?void 0:o.errors;if(g!=null){let w=f.findIndex(C=>C.route.id&&(g==null?void 0:g[C.route.id])!==void 0);w>=0||wt(!1),f=f.slice(0,Math.min(f.length,w+1))}let m=!1,p=-1;if(n&&s&&s.v7_partialHydration)for(let w=0;w<f.length;w++){let C=f[w];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(p=w),C.route.id){let{loaderData:A,errors:R}=n,O=C.route.loader&&A[C.route.id]===void 0&&(!R||R[C.route.id]===void 0);if(C.route.lazy||O){m=!0,p>=0?f=f.slice(0,p+1):f=[f[0]];break}}}return f.reduceRight((w,C,A)=>{let R,O=!1,M=null,k=null;n&&(R=g&&C.route.id?g[C.route.id]:void 0,M=C.route.errorElement||p4,m&&(p<0&&A===0?(A4("route-fallback",!1),O=!0,k=null):p===A&&(O=!0,k=C.route.hydrateFallbackElement||null)));let _=t.concat(f.slice(0,A+1)),N=()=>{let T;return R?T=M:O?T=k:C.route.Component?T=P.createElement(C.route.Component,null):C.route.element?T=C.route.element:T=w,P.createElement(m4,{match:C,routeContext:{outlet:w,matches:_,isDataRoute:n!=null},children:T})};return n&&(C.route.ErrorBoundary||C.route.errorElement||A===0)?P.createElement(g4,{location:n.location,revalidation:n.revalidation,component:M,error:R,children:N(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):N()},null)}var q2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(q2||{}),_c=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_c||{});function y4(e){let t=P.useContext(f0);return t||wt(!1),t}function w4(e){let t=P.useContext(o4);return t||wt(!1),t}function v4(e){let t=P.useContext(Mr);return t||wt(!1),t}function $2(e){let t=v4(),n=t.matches[t.matches.length-1];return n.route.id||wt(!1),n.route.id}function C4(){var e;let t=P.useContext(Q2),n=w4(_c.UseRouteError),s=$2(_c.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function E4(){let{router:e}=y4(q2.UseNavigateStable),t=$2(_c.UseNavigateStable),n=P.useRef(!1);return K2(()=>{n.current=!0}),P.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Oa({fromRouteId:t},l)))},[e,t])}const Lp={};function A4(e,t,n){!t&&!Lp[e]&&(Lp[e]=!0)}function S4(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function ni(e){let{to:t,replace:n,state:s,relative:o}=e;xo()||wt(!1);let{future:l,static:f}=P.useContext(Fs),{matches:g}=P.useContext(Mr),{pathname:m}=yo(),p=Xt(),w=d0(t,u0(g,l.v7_relativeSplatPath),m,o==="path"),C=JSON.stringify(w);return P.useEffect(()=>p(JSON.parse(C),{replace:n,state:s,relative:o}),[p,C,o,n,s]),null}function b4(e){return u4(e.context)}function Ut(e){wt(!1)}function T4(e){let{basename:t="/",children:n=null,location:s,navigationType:o=xs.Pop,navigator:l,static:f=!1,future:g}=e;xo()&&wt(!1);let m=t.replace(/^\/*/,"/"),p=P.useMemo(()=>({basename:m,navigator:l,static:f,future:Oa({v7_relativeSplatPath:!1},g)}),[m,g,l,f]);typeof s=="string"&&(s=mo(s));let{pathname:w="/",search:C="",hash:A="",state:R=null,key:O="default"}=s,M=P.useMemo(()=>{let k=c0(w,m);return k==null?null:{location:{pathname:k,search:C,hash:A,state:R,key:O},navigationType:o}},[m,w,C,A,R,O,o]);return M==null?null:P.createElement(Fs.Provider,{value:p},P.createElement(lu.Provider,{children:n,value:M}))}function Tl(e){let{children:t,location:n}=e;return d4(Uf(t),n)}new Promise(()=>{});function Uf(e,t){t===void 0&&(t=[]);let n=[];return P.Children.forEach(e,(s,o)=>{if(!P.isValidElement(s))return;let l=[...t,o];if(s.type===P.Fragment){n.push.apply(n,Uf(s.props.children,l));return}s.type!==Ut&&wt(!1),!s.props.index||!s.props.children||wt(!1);let f={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Uf(s.props.children,l)),n.push(f)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vf.apply(this,arguments)}function N4(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function I4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function _4(e,t){return e.button===0&&(!t||t==="_self")&&!I4(e)}const R4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],O4="6";try{window.__reactRouterVersion=O4}catch{}const M4="startTransition",Pp=EC[M4];function D4(e){let{basename:t,children:n,future:s,window:o}=e,l=P.useRef();l.current==null&&(l.current=kE({window:o,v5Compat:!0}));let f=l.current,[g,m]=P.useState({action:f.action,location:f.location}),{v7_startTransition:p}=s||{},w=P.useCallback(C=>{p&&Pp?Pp(()=>m(C)):m(C)},[m,p]);return P.useLayoutEffect(()=>f.listen(w),[f,w]),P.useEffect(()=>S4(s),[s]),P.createElement(T4,{basename:t,children:n,location:g.location,navigationType:g.action,navigator:f,future:s})}const k4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J2=P.forwardRef(function(t,n){let{onClick:s,relative:o,reloadDocument:l,replace:f,state:g,target:m,to:p,preventScrollReset:w,viewTransition:C}=t,A=N4(t,R4),{basename:R}=P.useContext(Fs),O,M=!1;if(typeof p=="string"&&L4.test(p)&&(O=p,k4))try{let T=new URL(window.location.href),B=p.startsWith("//")?new URL(T.protocol+p):new URL(p),V=c0(B.pathname,R);B.origin===T.origin&&V!=null?p=V+B.search+B.hash:M=!0}catch{}let k=a4(p,{relative:o}),_=P4(p,{replace:f,state:g,target:m,preventScrollReset:w,relative:o,viewTransition:C});function N(T){s&&s(T),T.defaultPrevented||_(T)}return P.createElement("a",Vf({},A,{href:O||k,onClick:M||l?s:N,ref:n,target:m}))});var Bp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Bp||(Bp={}));var jp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jp||(jp={}));function P4(e,t){let{target:n,replace:s,state:o,preventScrollReset:l,relative:f,viewTransition:g}=t===void 0?{}:t,m=Xt(),p=yo(),w=Z2(e,{relative:f});return P.useCallback(C=>{if(_4(C,n)){C.preventDefault();let A=s!==void 0?s:Ic(p)===Ic(w);m(e,{replace:A,state:o,preventScrollReset:l,relative:f,viewTransition:g})}},[p,m,w,s,o,n,e,l,f,g])}function zf(e){this.message=e}zf.prototype=new Error,zf.prototype.name="InvalidCharacterError";var Fp=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new zf("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,s,o=0,l=0,f="";s=t.charAt(l++);~s&&(n=o%4?64*n+s:s,o++%4)?f+=String.fromCharCode(255&n>>(-2*o&6)):0)s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(s);return f};function B4(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(Fp(n).replace(/(.)/g,function(s,o){var l=o.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}))}(t)}catch{return Fp(t)}}function Rc(e){this.message=e}function Up(e,t){if(typeof e!="string")throw new Rc("Invalid token specified");var n=(t=t||{}).header===!0?0:1;try{return JSON.parse(B4(e.split(".")[n]))}catch(s){throw new Rc("Invalid token specified: "+s.message)}}Rc.prototype=new Error,Rc.prototype.name="InvalidTokenError";const Us=P.createContext(),j4=e=>{if(typeof document>"u")return null;const n=`; ${document.cookie}`.split(`; ${e}=`);return n.length===2?n.pop().split(";").shift():null},F4=(e,t,n=30)=>{if(typeof document>"u")return;const s=n*24*60*60;document.cookie=`${e}=${encodeURIComponent(t)}; path=/; max-age=${s}`},Cd=e=>{typeof document>"u"||(document.cookie=`${e}=; path=/; max-age=0`)},U4=({children:e})=>{const[t,n]=P.useState(null),[s,o]=P.useState(!0);P.useEffect(()=>{const g=localStorage.getItem("token"),m=j4("user");let p=null;if(m)try{p=JSON.parse(decodeURIComponent(m))}catch{p=null}if(g)try{const w=Up(g);w.exp*1e3<Date.now()?(localStorage.removeItem("token"),Cd("user"),n(null)):n({...w,...p})}catch{localStorage.removeItem("token"),Cd("user"),n(null)}else p&&n(p);o(!1)},[]);const l=(g,m)=>{localStorage.setItem("token",g);const{name:p,email:w,role:C,_id:A}=m||{},R={name:p,email:w,role:C,_id:A};F4("user",JSON.stringify(R));const O=Up(g);n({...O,...R})},f=()=>{localStorage.removeItem("token"),Cd("user"),n(null)};return v.jsx(Us.Provider,{value:{user:t,login:l,logout:f,loading:s},children:!s&&e})};function ey(e,t){return function(){return e.apply(t,arguments)}}const{toString:V4}=Object.prototype,{getPrototypeOf:h0}=Object,{iterator:uu,toStringTag:ty}=Symbol,du=(e=>t=>{const n=V4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dr=e=>(e=e.toLowerCase(),t=>du(t)===e),fu=e=>t=>typeof t===e,{isArray:wo}=Array,co=fu("undefined");function Va(e){return e!==null&&!co(e)&&e.constructor!==null&&!co(e.constructor)&&wn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ny=dr("ArrayBuffer");function z4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ny(e.buffer),t}const H4=fu("string"),wn=fu("function"),ry=fu("number"),za=e=>e!==null&&typeof e=="object",W4=e=>e===!0||e===!1,Ql=e=>{if(du(e)!=="object")return!1;const t=h0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ty in e)&&!(uu in e)},G4=e=>{if(!za(e)||Va(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},X4=dr("Date"),Y4=dr("File"),Q4=dr("Blob"),K4=dr("FileList"),Z4=e=>za(e)&&wn(e.pipe),q4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||wn(e.append)&&((t=du(e))==="formdata"||t==="object"&&wn(e.toString)&&e.toString()==="[object FormData]"))},$4=dr("URLSearchParams"),[J4,eA,tA,nA]=["ReadableStream","Request","Response","Headers"].map(dr),rA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ha(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),wo(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{if(Va(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),f=l.length;let g;for(s=0;s<f;s++)g=l[s],t.call(null,e[g],g,e)}}function sy(e,t){if(Va(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,o;for(;s-- >0;)if(o=n[s],t===o.toLowerCase())return o;return null}const oi=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),iy=e=>!co(e)&&e!==oi;function Hf(){const{caseless:e,skipUndefined:t}=iy(this)&&this||{},n={},s=(o,l)=>{const f=e&&sy(n,l)||l;Ql(n[f])&&Ql(o)?n[f]=Hf(n[f],o):Ql(o)?n[f]=Hf({},o):wo(o)?n[f]=o.slice():(!t||!co(o))&&(n[f]=o)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&Ha(arguments[o],s);return n}const sA=(e,t,n,{allOwnKeys:s}={})=>(Ha(t,(o,l)=>{n&&wn(o)?e[l]=ey(o,n):e[l]=o},{allOwnKeys:s}),e),iA=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),oA=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},aA=(e,t,n,s)=>{let o,l,f;const g={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)f=o[l],(!s||s(f,e,t))&&!g[f]&&(t[f]=e[f],g[f]=!0);e=n!==!1&&h0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},lA=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},cA=e=>{if(!e)return null;if(wo(e))return e;let t=e.length;if(!ry(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},uA=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&h0(Uint8Array)),dA=(e,t)=>{const s=(e&&e[uu]).call(e);let o;for(;(o=s.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},fA=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},hA=dr("HTMLFormElement"),pA=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),Vp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),gA=dr("RegExp"),oy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ha(n,(o,l)=>{let f;(f=t(o,l,e))!==!1&&(s[l]=f||o)}),Object.defineProperties(e,s)},mA=e=>{oy(e,(t,n)=>{if(wn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(wn(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},xA=(e,t)=>{const n={},s=o=>{o.forEach(l=>{n[l]=!0})};return wo(e)?s(e):s(String(e).split(t)),n},yA=()=>{},wA=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vA(e){return!!(e&&wn(e.append)&&e[ty]==="FormData"&&e[uu])}const CA=e=>{const t=new Array(10),n=(s,o)=>{if(za(s)){if(t.indexOf(s)>=0)return;if(Va(s))return s;if(!("toJSON"in s)){t[o]=s;const l=wo(s)?[]:{};return Ha(s,(f,g)=>{const m=n(f,o+1);!co(m)&&(l[g]=m)}),t[o]=void 0,l}}return s};return n(e,0)},EA=dr("AsyncFunction"),AA=e=>e&&(za(e)||wn(e))&&wn(e.then)&&wn(e.catch),ay=((e,t)=>e?setImmediate:t?((n,s)=>(oi.addEventListener("message",({source:o,data:l})=>{o===oi&&l===n&&s.length&&s.shift()()},!1),o=>{s.push(o),oi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",wn(oi.postMessage)),SA=typeof queueMicrotask<"u"?queueMicrotask.bind(oi):typeof process<"u"&&process.nextTick||ay,bA=e=>e!=null&&wn(e[uu]),Q={isArray:wo,isArrayBuffer:ny,isBuffer:Va,isFormData:q4,isArrayBufferView:z4,isString:H4,isNumber:ry,isBoolean:W4,isObject:za,isPlainObject:Ql,isEmptyObject:G4,isReadableStream:J4,isRequest:eA,isResponse:tA,isHeaders:nA,isUndefined:co,isDate:X4,isFile:Y4,isBlob:Q4,isRegExp:gA,isFunction:wn,isStream:Z4,isURLSearchParams:$4,isTypedArray:uA,isFileList:K4,forEach:Ha,merge:Hf,extend:sA,trim:rA,stripBOM:iA,inherits:oA,toFlatObject:aA,kindOf:du,kindOfTest:dr,endsWith:lA,toArray:cA,forEachEntry:dA,matchAll:fA,isHTMLForm:hA,hasOwnProperty:Vp,hasOwnProp:Vp,reduceDescriptors:oy,freezeMethods:mA,toObjectSet:xA,toCamelCase:pA,noop:yA,toFiniteNumber:wA,findKey:sy,global:oi,isContextDefined:iy,isSpecCompliantForm:vA,toJSONObject:CA,isAsyncFn:EA,isThenable:AA,setImmediate:ay,asap:SA,isIterable:bA};function Te(e,t,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Q.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const ly=Te.prototype,cy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{cy[e]={value:e}});Object.defineProperties(Te,cy);Object.defineProperty(ly,"isAxiosError",{value:!0});Te.from=(e,t,n,s,o,l)=>{const f=Object.create(ly);Q.toFlatObject(e,f,function(w){return w!==Error.prototype},p=>p!=="isAxiosError");const g=e&&e.message?e.message:"Error",m=t==null&&e?e.code:t;return Te.call(f,g,m,n,s,o),e&&f.cause==null&&Object.defineProperty(f,"cause",{value:e,configurable:!0}),f.name=e&&e.name||"Error",l&&Object.assign(f,l),f};const TA=null;function Wf(e){return Q.isPlainObject(e)||Q.isArray(e)}function uy(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function zp(e,t,n){return e?e.concat(t).map(function(o,l){return o=uy(o),!n&&l?"["+o+"]":o}).join(n?".":""):t}function NA(e){return Q.isArray(e)&&!e.some(Wf)}const IA=Q.toFlatObject(Q,{},null,function(t){return/^is[A-Z]/.test(t)});function hu(e,t,n){if(!Q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,k){return!Q.isUndefined(k[M])});const s=n.metaTokens,o=n.visitor||w,l=n.dots,f=n.indexes,m=(n.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(t);if(!Q.isFunction(o))throw new TypeError("visitor must be a function");function p(O){if(O===null)return"";if(Q.isDate(O))return O.toISOString();if(Q.isBoolean(O))return O.toString();if(!m&&Q.isBlob(O))throw new Te("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(O)||Q.isTypedArray(O)?m&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function w(O,M,k){let _=O;if(O&&!k&&typeof O=="object"){if(Q.endsWith(M,"{}"))M=s?M:M.slice(0,-2),O=JSON.stringify(O);else if(Q.isArray(O)&&NA(O)||(Q.isFileList(O)||Q.endsWith(M,"[]"))&&(_=Q.toArray(O)))return M=uy(M),_.forEach(function(T,B){!(Q.isUndefined(T)||T===null)&&t.append(f===!0?zp([M],B,l):f===null?M:M+"[]",p(T))}),!1}return Wf(O)?!0:(t.append(zp(k,M,l),p(O)),!1)}const C=[],A=Object.assign(IA,{defaultVisitor:w,convertValue:p,isVisitable:Wf});function R(O,M){if(!Q.isUndefined(O)){if(C.indexOf(O)!==-1)throw Error("Circular reference detected in "+M.join("."));C.push(O),Q.forEach(O,function(_,N){(!(Q.isUndefined(_)||_===null)&&o.call(t,_,Q.isString(N)?N.trim():N,M,A))===!0&&R(_,M?M.concat(N):[N])}),C.pop()}}if(!Q.isObject(e))throw new TypeError("data must be an object");return R(e),t}function Hp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function p0(e,t){this._pairs=[],e&&hu(e,this,t)}const dy=p0.prototype;dy.append=function(t,n){this._pairs.push([t,n])};dy.toString=function(t){const n=t?function(s){return t.call(this,s,Hp)}:Hp;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function _A(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function fy(e,t,n){if(!t)return e;const s=n&&n.encode||_A;Q.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let l;if(o?l=o(t,n):l=Q.isURLSearchParams(t)?t.toString():new p0(t,n).toString(s),l){const f=e.indexOf("#");f!==-1&&(e=e.slice(0,f)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class RA{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Q.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Wp=RA,hy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OA=typeof URLSearchParams<"u"?URLSearchParams:p0,MA=typeof FormData<"u"?FormData:null,DA=typeof Blob<"u"?Blob:null,kA={isBrowser:!0,classes:{URLSearchParams:OA,FormData:MA,Blob:DA},protocols:["http","https","file","blob","url","data"]},g0=typeof window<"u"&&typeof document<"u",Gf=typeof navigator=="object"&&navigator||void 0,LA=g0&&(!Gf||["ReactNative","NativeScript","NS"].indexOf(Gf.product)<0),PA=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),BA=g0&&window.location.href||"http://localhost",jA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:g0,hasStandardBrowserEnv:LA,hasStandardBrowserWebWorkerEnv:PA,navigator:Gf,origin:BA},Symbol.toStringTag,{value:"Module"})),Jt={...jA,...kA};function FA(e,t){return hu(e,new Jt.classes.URLSearchParams,{visitor:function(n,s,o,l){return Jt.isNode&&Q.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function UA(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function VA(e){const t={},n=Object.keys(e);let s;const o=n.length;let l;for(s=0;s<o;s++)l=n[s],t[l]=e[l];return t}function py(e){function t(n,s,o,l){let f=n[l++];if(f==="__proto__")return!0;const g=Number.isFinite(+f),m=l>=n.length;return f=!f&&Q.isArray(o)?o.length:f,m?(Q.hasOwnProp(o,f)?o[f]=[o[f],s]:o[f]=s,!g):((!o[f]||!Q.isObject(o[f]))&&(o[f]=[]),t(n,s,o[f],l)&&Q.isArray(o[f])&&(o[f]=VA(o[f])),!g)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){const n={};return Q.forEachEntry(e,(s,o)=>{t(UA(s),o,n,0)}),n}return null}function zA(e,t,n){if(Q.isString(e))try{return(t||JSON.parse)(e),Q.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const m0={transitional:hy,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,l=Q.isObject(t);if(l&&Q.isHTMLForm(t)&&(t=new FormData(t)),Q.isFormData(t))return o?JSON.stringify(py(t)):t;if(Q.isArrayBuffer(t)||Q.isBuffer(t)||Q.isStream(t)||Q.isFile(t)||Q.isBlob(t)||Q.isReadableStream(t))return t;if(Q.isArrayBufferView(t))return t.buffer;if(Q.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return FA(t,this.formSerializer).toString();if((g=Q.isFileList(t))||s.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return hu(g?{"files[]":t}:t,m&&new m,this.formSerializer)}}return l||o?(n.setContentType("application/json",!1),zA(t)):t}],transformResponse:[function(t){const n=this.transitional||m0.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Q.isResponse(t)||Q.isReadableStream(t))return t;if(t&&Q.isString(t)&&(s&&!this.responseType||o)){const f=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(g){if(f)throw g.name==="SyntaxError"?Te.from(g,Te.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jt.classes.FormData,Blob:Jt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],e=>{m0.headers[e]={}});const x0=m0,HA=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),WA=e=>{const t={};let n,s,o;return e&&e.split(`
`).forEach(function(f){o=f.indexOf(":"),n=f.substring(0,o).trim().toLowerCase(),s=f.substring(o+1).trim(),!(!n||t[n]&&HA[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Gp=Symbol("internals");function Wo(e){return e&&String(e).trim().toLowerCase()}function Kl(e){return e===!1||e==null?e:Q.isArray(e)?e.map(Kl):String(e)}function GA(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const XA=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ed(e,t,n,s,o){if(Q.isFunction(s))return s.call(this,t,n);if(o&&(t=n),!!Q.isString(t)){if(Q.isString(s))return t.indexOf(s)!==-1;if(Q.isRegExp(s))return s.test(t)}}function YA(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function QA(e,t){const n=Q.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(o,l,f){return this[s].call(this,t,o,l,f)},configurable:!0})})}class pu{constructor(t){t&&this.set(t)}set(t,n,s){const o=this;function l(g,m,p){const w=Wo(m);if(!w)throw new Error("header name must be a non-empty string");const C=Q.findKey(o,w);(!C||o[C]===void 0||p===!0||p===void 0&&o[C]!==!1)&&(o[C||m]=Kl(g))}const f=(g,m)=>Q.forEach(g,(p,w)=>l(p,w,m));if(Q.isPlainObject(t)||t instanceof this.constructor)f(t,n);else if(Q.isString(t)&&(t=t.trim())&&!XA(t))f(WA(t),n);else if(Q.isObject(t)&&Q.isIterable(t)){let g={},m,p;for(const w of t){if(!Q.isArray(w))throw TypeError("Object iterator must return a key-value pair");g[p=w[0]]=(m=g[p])?Q.isArray(m)?[...m,w[1]]:[m,w[1]]:w[1]}f(g,n)}else t!=null&&l(n,t,s);return this}get(t,n){if(t=Wo(t),t){const s=Q.findKey(this,t);if(s){const o=this[s];if(!n)return o;if(n===!0)return GA(o);if(Q.isFunction(n))return n.call(this,o,s);if(Q.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Wo(t),t){const s=Q.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Ed(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let o=!1;function l(f){if(f=Wo(f),f){const g=Q.findKey(s,f);g&&(!n||Ed(s,s[g],g,n))&&(delete s[g],o=!0)}}return Q.isArray(t)?t.forEach(l):l(t),o}clear(t){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const l=n[s];(!t||Ed(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const n=this,s={};return Q.forEach(this,(o,l)=>{const f=Q.findKey(s,l);if(f){n[f]=Kl(o),delete n[l];return}const g=t?YA(l):String(l).trim();g!==l&&delete n[l],n[g]=Kl(o),s[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Q.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=t&&Q.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[Gp]=this[Gp]={accessors:{}}).accessors,o=this.prototype;function l(f){const g=Wo(f);s[g]||(QA(o,f),s[g]=!0)}return Q.isArray(t)?t.forEach(l):l(t),this}}pu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(pu.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});Q.freezeMethods(pu);const cr=pu;function Ad(e,t){const n=this||x0,s=t||n,o=cr.from(s.headers);let l=s.data;return Q.forEach(e,function(g){l=g.call(n,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function gy(e){return!!(e&&e.__CANCEL__)}function vo(e,t,n){Te.call(this,e??"canceled",Te.ERR_CANCELED,t,n),this.name="CanceledError"}Q.inherits(vo,Te,{__CANCEL__:!0});function my(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new Te("Request failed with status code "+n.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function KA(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ZA(e,t){e=e||10;const n=new Array(e),s=new Array(e);let o=0,l=0,f;return t=t!==void 0?t:1e3,function(m){const p=Date.now(),w=s[l];f||(f=p),n[o]=m,s[o]=p;let C=l,A=0;for(;C!==o;)A+=n[C++],C=C%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),p-f<t)return;const R=w&&p-w;return R?Math.round(A*1e3/R):void 0}}function qA(e,t){let n=0,s=1e3/t,o,l;const f=(p,w=Date.now())=>{n=w,o=null,l&&(clearTimeout(l),l=null),e(...p)};return[(...p)=>{const w=Date.now(),C=w-n;C>=s?f(p,w):(o=p,l||(l=setTimeout(()=>{l=null,f(o)},s-C)))},()=>o&&f(o)]}const Oc=(e,t,n=3)=>{let s=0;const o=ZA(50,250);return qA(l=>{const f=l.loaded,g=l.lengthComputable?l.total:void 0,m=f-s,p=o(m),w=f<=g;s=f;const C={loaded:f,total:g,progress:g?f/g:void 0,bytes:m,rate:p||void 0,estimated:p&&g&&w?(g-f)/p:void 0,event:l,lengthComputable:g!=null,[t?"download":"upload"]:!0};e(C)},n)},Xp=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Yp=e=>(...t)=>Q.asap(()=>e(...t)),$A=Jt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Jt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Jt.origin),Jt.navigator&&/(msie|trident)/i.test(Jt.navigator.userAgent)):()=>!0,JA=Jt.hasStandardBrowserEnv?{write(e,t,n,s,o,l,f){if(typeof document>"u")return;const g=[`${e}=${encodeURIComponent(t)}`];Q.isNumber(n)&&g.push(`expires=${new Date(n).toUTCString()}`),Q.isString(s)&&g.push(`path=${s}`),Q.isString(o)&&g.push(`domain=${o}`),l===!0&&g.push("secure"),Q.isString(f)&&g.push(`SameSite=${f}`),document.cookie=g.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function eS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function tS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function xy(e,t,n){let s=!eS(t);return e&&(s||n==!1)?tS(e,t):t}const Qp=e=>e instanceof cr?{...e}:e;function gi(e,t){t=t||{};const n={};function s(p,w,C,A){return Q.isPlainObject(p)&&Q.isPlainObject(w)?Q.merge.call({caseless:A},p,w):Q.isPlainObject(w)?Q.merge({},w):Q.isArray(w)?w.slice():w}function o(p,w,C,A){if(Q.isUndefined(w)){if(!Q.isUndefined(p))return s(void 0,p,C,A)}else return s(p,w,C,A)}function l(p,w){if(!Q.isUndefined(w))return s(void 0,w)}function f(p,w){if(Q.isUndefined(w)){if(!Q.isUndefined(p))return s(void 0,p)}else return s(void 0,w)}function g(p,w,C){if(C in t)return s(p,w);if(C in e)return s(void 0,p)}const m={url:l,method:l,data:l,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:g,headers:(p,w,C)=>o(Qp(p),Qp(w),C,!0)};return Q.forEach(Object.keys({...e,...t}),function(w){const C=m[w]||o,A=C(e[w],t[w],w);Q.isUndefined(A)&&C!==g||(n[w]=A)}),n}const yy=e=>{const t=gi({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:f,auth:g}=t;if(t.headers=f=cr.from(f),t.url=fy(xy(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),g&&f.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):""))),Q.isFormData(n)){if(Jt.hasStandardBrowserEnv||Jt.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(Q.isFunction(n.getHeaders)){const m=n.getHeaders(),p=["content-type","content-length"];Object.entries(m).forEach(([w,C])=>{p.includes(w.toLowerCase())&&f.set(w,C)})}}if(Jt.hasStandardBrowserEnv&&(s&&Q.isFunction(s)&&(s=s(t)),s||s!==!1&&$A(t.url))){const m=o&&l&&JA.read(l);m&&f.set(o,m)}return t},nS=typeof XMLHttpRequest<"u",rS=nS&&function(e){return new Promise(function(n,s){const o=yy(e);let l=o.data;const f=cr.from(o.headers).normalize();let{responseType:g,onUploadProgress:m,onDownloadProgress:p}=o,w,C,A,R,O;function M(){R&&R(),O&&O(),o.cancelToken&&o.cancelToken.unsubscribe(w),o.signal&&o.signal.removeEventListener("abort",w)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function _(){if(!k)return;const T=cr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),V={data:!g||g==="text"||g==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:T,config:e,request:k};my(function(U){n(U),M()},function(U){s(U),M()},V),k=null}"onloadend"in k?k.onloadend=_:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(_)},k.onabort=function(){k&&(s(new Te("Request aborted",Te.ECONNABORTED,e,k)),k=null)},k.onerror=function(B){const V=B&&B.message?B.message:"Network Error",X=new Te(V,Te.ERR_NETWORK,e,k);X.event=B||null,s(X),k=null},k.ontimeout=function(){let B=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const V=o.transitional||hy;o.timeoutErrorMessage&&(B=o.timeoutErrorMessage),s(new Te(B,V.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,e,k)),k=null},l===void 0&&f.setContentType(null),"setRequestHeader"in k&&Q.forEach(f.toJSON(),function(B,V){k.setRequestHeader(V,B)}),Q.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),g&&g!=="json"&&(k.responseType=o.responseType),p&&([A,O]=Oc(p,!0),k.addEventListener("progress",A)),m&&k.upload&&([C,R]=Oc(m),k.upload.addEventListener("progress",C),k.upload.addEventListener("loadend",R)),(o.cancelToken||o.signal)&&(w=T=>{k&&(s(!T||T.type?new vo(null,e,k):T),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(w),o.signal&&(o.signal.aborted?w():o.signal.addEventListener("abort",w)));const N=KA(o.url);if(N&&Jt.protocols.indexOf(N)===-1){s(new Te("Unsupported protocol "+N+":",Te.ERR_BAD_REQUEST,e));return}k.send(l||null)})},sS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,o;const l=function(p){if(!o){o=!0,g();const w=p instanceof Error?p:this.reason;s.abort(w instanceof Te?w:new vo(w instanceof Error?w.message:w))}};let f=t&&setTimeout(()=>{f=null,l(new Te(`timeout ${t} of ms exceeded`,Te.ETIMEDOUT))},t);const g=()=>{e&&(f&&clearTimeout(f),f=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),e=null)};e.forEach(p=>p.addEventListener("abort",l));const{signal:m}=s;return m.unsubscribe=()=>Q.asap(g),m}},iS=sS,oS=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,o;for(;s<n;)o=s+t,yield e.slice(s,o),s=o},aS=async function*(e,t){for await(const n of lS(e))yield*oS(n,t)},lS=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},Kp=(e,t,n,s)=>{const o=aS(e,t);let l=0,f,g=m=>{f||(f=!0,s&&s(m))};return new ReadableStream({async pull(m){try{const{done:p,value:w}=await o.next();if(p){g(),m.close();return}let C=w.byteLength;if(n){let A=l+=C;n(A)}m.enqueue(new Uint8Array(w))}catch(p){throw g(p),p}},cancel(m){return g(m),o.return()}},{highWaterMark:2})},Zp=64*1024,{isFunction:Nl}=Q,cS=(({Request:e,Response:t})=>({Request:e,Response:t}))(Q.global),{ReadableStream:qp,TextEncoder:$p}=Q.global,Jp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},uS=e=>{e=Q.merge.call({skipUndefined:!0},cS,e);const{fetch:t,Request:n,Response:s}=e,o=t?Nl(t):typeof fetch=="function",l=Nl(n),f=Nl(s);if(!o)return!1;const g=o&&Nl(qp),m=o&&(typeof $p=="function"?(O=>M=>O.encode(M))(new $p):async O=>new Uint8Array(await new n(O).arrayBuffer())),p=l&&g&&Jp(()=>{let O=!1;const M=new n(Jt.origin,{body:new qp,method:"POST",get duplex(){return O=!0,"half"}}).headers.has("Content-Type");return O&&!M}),w=f&&g&&Jp(()=>Q.isReadableStream(new s("").body)),C={stream:w&&(O=>O.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(O=>{!C[O]&&(C[O]=(M,k)=>{let _=M&&M[O];if(_)return _.call(M);throw new Te(`Response type '${O}' is not supported`,Te.ERR_NOT_SUPPORT,k)})});const A=async O=>{if(O==null)return 0;if(Q.isBlob(O))return O.size;if(Q.isSpecCompliantForm(O))return(await new n(Jt.origin,{method:"POST",body:O}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(O)||Q.isArrayBuffer(O))return O.byteLength;if(Q.isURLSearchParams(O)&&(O=O+""),Q.isString(O))return(await m(O)).byteLength},R=async(O,M)=>{const k=Q.toFiniteNumber(O.getContentLength());return k??A(M)};return async O=>{let{url:M,method:k,data:_,signal:N,cancelToken:T,timeout:B,onDownloadProgress:V,onUploadProgress:X,responseType:U,headers:Z,withCredentials:W="same-origin",fetchOptions:de}=yy(O),Se=t||fetch;U=U?(U+"").toLowerCase():"text";let ie=iS([N,T&&T.toAbortSignal()],B),re=null;const le=ie&&ie.unsubscribe&&(()=>{ie.unsubscribe()});let G;try{if(X&&p&&k!=="get"&&k!=="head"&&(G=await R(Z,_))!==0){let me=new n(M,{method:"POST",body:_,duplex:"half"}),Ae;if(Q.isFormData(_)&&(Ae=me.headers.get("content-type"))&&Z.setContentType(Ae),me.body){const[Tt,je]=Xp(G,Oc(Yp(X)));_=Kp(me.body,Zp,Tt,je)}}Q.isString(W)||(W=W?"include":"omit");const pe=l&&"credentials"in n.prototype,ge={...de,signal:ie,method:k.toUpperCase(),headers:Z.normalize().toJSON(),body:_,duplex:"half",credentials:pe?W:void 0};re=l&&new n(M,ge);let ne=await(l?Se(re,de):Se(M,ge));const fe=w&&(U==="stream"||U==="response");if(w&&(V||fe&&le)){const me={};["status","statusText","headers"].forEach(En=>{me[En]=ne[En]});const Ae=Q.toFiniteNumber(ne.headers.get("content-length")),[Tt,je]=V&&Xp(Ae,Oc(Yp(V),!0))||[];ne=new s(Kp(ne.body,Zp,Tt,()=>{je&&je(),le&&le()}),me)}U=U||"text";let ye=await C[Q.findKey(C,U)||"text"](ne,O);return!fe&&le&&le(),await new Promise((me,Ae)=>{my(me,Ae,{data:ye,headers:cr.from(ne.headers),status:ne.status,statusText:ne.statusText,config:O,request:re})})}catch(pe){throw le&&le(),pe&&pe.name==="TypeError"&&/Load failed|fetch/i.test(pe.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,O,re),{cause:pe.cause||pe}):Te.from(pe,pe&&pe.code,O,re)}}},dS=new Map,wy=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:o}=t,l=[s,o,n];let f=l.length,g=f,m,p,w=dS;for(;g--;)m=l[g],p=w.get(m),p===void 0&&w.set(m,p=g?new Map:uS(t)),w=p;return p};wy();const y0={http:TA,xhr:rS,fetch:{get:wy}};Q.forEach(y0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const eg=e=>`- ${e}`,fS=e=>Q.isFunction(e)||e===null||e===!1;function hS(e,t){e=Q.isArray(e)?e:[e];const{length:n}=e;let s,o;const l={};for(let f=0;f<n;f++){s=e[f];let g;if(o=s,!fS(s)&&(o=y0[(g=String(s)).toLowerCase()],o===void 0))throw new Te(`Unknown adapter '${g}'`);if(o&&(Q.isFunction(o)||(o=o.get(t))))break;l[g||"#"+f]=o}if(!o){const f=Object.entries(l).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let g=n?f.length>1?`since :
`+f.map(eg).join(`
`):" "+eg(f[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+g,"ERR_NOT_SUPPORT")}return o}const vy={getAdapter:hS,adapters:y0};function Sd(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new vo(null,e)}function tg(e){return Sd(e),e.headers=cr.from(e.headers),e.data=Ad.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),vy.getAdapter(e.adapter||x0.adapter,e)(e).then(function(s){return Sd(e),s.data=Ad.call(e,e.transformResponse,s),s.headers=cr.from(s.headers),s},function(s){return gy(s)||(Sd(e),s&&s.response&&(s.response.data=Ad.call(e,e.transformResponse,s.response),s.response.headers=cr.from(s.response.headers))),Promise.reject(s)})}const Cy="1.13.2",gu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gu[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ng={};gu.transitional=function(t,n,s){function o(l,f){return"[Axios v"+Cy+"] Transitional option '"+l+"'"+f+(s?". "+s:"")}return(l,f,g)=>{if(t===!1)throw new Te(o(f," has been removed"+(n?" in "+n:"")),Te.ERR_DEPRECATED);return n&&!ng[f]&&(ng[f]=!0,console.warn(o(f," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,f,g):!0}};gu.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function pS(e,t,n){if(typeof e!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const l=s[o],f=t[l];if(f){const g=e[l],m=g===void 0||f(g,l,e);if(m!==!0)throw new Te("option "+l+" must be "+m,Te.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Te("Unknown option "+l,Te.ERR_BAD_OPTION)}}const Zl={assertOptions:pS,validators:gu},Cr=Zl.validators;class Mc{constructor(t){this.defaults=t||{},this.interceptors={request:new Wp,response:new Wp}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=gi(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:l}=n;s!==void 0&&Zl.assertOptions(s,{silentJSONParsing:Cr.transitional(Cr.boolean),forcedJSONParsing:Cr.transitional(Cr.boolean),clarifyTimeoutError:Cr.transitional(Cr.boolean)},!1),o!=null&&(Q.isFunction(o)?n.paramsSerializer={serialize:o}:Zl.assertOptions(o,{encode:Cr.function,serialize:Cr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Zl.assertOptions(n,{baseUrl:Cr.spelling("baseURL"),withXsrfToken:Cr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let f=l&&Q.merge(l.common,l[n.method]);l&&Q.forEach(["delete","get","head","post","put","patch","common"],O=>{delete l[O]}),n.headers=cr.concat(f,l);const g=[];let m=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(n)===!1||(m=m&&M.synchronous,g.unshift(M.fulfilled,M.rejected))});const p=[];this.interceptors.response.forEach(function(M){p.push(M.fulfilled,M.rejected)});let w,C=0,A;if(!m){const O=[tg.bind(this),void 0];for(O.unshift(...g),O.push(...p),A=O.length,w=Promise.resolve(n);C<A;)w=w.then(O[C++],O[C++]);return w}A=g.length;let R=n;for(;C<A;){const O=g[C++],M=g[C++];try{R=O(R)}catch(k){M.call(this,k);break}}try{w=tg.call(this,R)}catch(O){return Promise.reject(O)}for(C=0,A=p.length;C<A;)w=w.then(p[C++],p[C++]);return w}getUri(t){t=gi(this.defaults,t);const n=xy(t.baseURL,t.url,t.allowAbsoluteUrls);return fy(n,t.params,t.paramsSerializer)}}Q.forEach(["delete","get","head","options"],function(t){Mc.prototype[t]=function(n,s){return this.request(gi(s||{},{method:t,url:n,data:(s||{}).data}))}});Q.forEach(["post","put","patch"],function(t){function n(s){return function(l,f,g){return this.request(gi(g||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:f}))}}Mc.prototype[t]=n(),Mc.prototype[t+"Form"]=n(!0)});const ql=Mc;class w0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const f=new Promise(g=>{s.subscribe(g),l=g}).then(o);return f.cancel=function(){s.unsubscribe(l)},f},t(function(l,f,g){s.reason||(s.reason=new vo(l,f,g),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new w0(function(o){t=o}),cancel:t}}}const gS=w0;function mS(e){return function(n){return e.apply(null,n)}}function xS(e){return Q.isObject(e)&&e.isAxiosError===!0}const Xf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Xf).forEach(([e,t])=>{Xf[t]=e});const yS=Xf;function Ey(e){const t=new ql(e),n=ey(ql.prototype.request,t);return Q.extend(n,ql.prototype,t,{allOwnKeys:!0}),Q.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Ey(gi(e,o))},n}const bt=Ey(x0);bt.Axios=ql;bt.CanceledError=vo;bt.CancelToken=gS;bt.isCancel=gy;bt.VERSION=Cy;bt.toFormData=hu;bt.AxiosError=Te;bt.Cancel=bt.CanceledError;bt.all=function(t){return Promise.all(t)};bt.spread=mS;bt.isAxiosError=xS;bt.mergeConfig=gi;bt.AxiosHeaders=cr;bt.formToJSON=e=>py(Q.isHTMLForm(e)?new FormData(e):e);bt.getAdapter=vy.getAdapter;bt.HttpStatusCode=yS;bt.default=bt;const wS=bt,_e=wS.create({baseURL:"https://qr-smart-attendance.vercel.app/api",headers:{"Content-Type":"application/json"}});_e.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e});const Ay=P.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),mu=P.createContext({}),xu=P.createContext(null),yu=typeof document<"u",v0=yu?P.useLayoutEffect:P.useEffect,Sy=P.createContext({strict:!1}),C0=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),vS="framerAppearId",by="data-"+C0(vS);function CS(e,t,n,s){const{visualElement:o}=P.useContext(mu),l=P.useContext(Sy),f=P.useContext(xu),g=P.useContext(Ay).reducedMotion,m=P.useRef();s=s||l.renderer,!m.current&&s&&(m.current=s(e,{visualState:t,parent:o,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:g}));const p=m.current;P.useInsertionEffect(()=>{p&&p.update(n,f)});const w=P.useRef(!!(n[by]&&!window.HandoffComplete));return v0(()=>{p&&(p.render(),w.current&&p.animationState&&p.animationState.animateChanges())}),P.useEffect(()=>{p&&(p.updateFeatures(),!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(w.current=!1,window.HandoffComplete=!0))}),p}function Hi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ES(e,t,n){return P.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Hi(n)&&(n.current=s))},[t])}function Ma(e){return typeof e=="string"||Array.isArray(e)}function wu(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const E0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A0=["initial",...E0];function vu(e){return wu(e.animate)||A0.some(t=>Ma(e[t]))}function Ty(e){return!!(vu(e)||e.variants)}function AS(e,t){if(vu(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ma(n)?n:void 0,animate:Ma(s)?s:void 0}}return e.inherit!==!1?t:{}}function SS(e){const{initial:t,animate:n}=AS(e,P.useContext(mu));return P.useMemo(()=>({initial:t,animate:n}),[rg(t),rg(n)])}function rg(e){return Array.isArray(e)?e.join(" "):e}const sg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Da={};for(const e in sg)Da[e]={isEnabled:t=>sg[e].some(n=>!!t[n])};function bS(e){for(const t in e)Da[t]={...Da[t],...e[t]}}const S0=P.createContext({}),Ny=P.createContext({}),TS=Symbol.for("motionComponentSymbol");function NS({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:o}){e&&bS(e);function l(g,m){let p;const w={...P.useContext(Ay),...g,layoutId:IS(g)},{isStatic:C}=w,A=SS(g),R=s(g,C);if(!C&&yu){A.visualElement=CS(o,R,w,t);const O=P.useContext(Ny),M=P.useContext(Sy).strict;A.visualElement&&(p=A.visualElement.loadFeatures(w,M,e,O))}return P.createElement(mu.Provider,{value:A},p&&A.visualElement?P.createElement(p,{visualElement:A.visualElement,...w}):null,n(o,g,ES(R,A.visualElement,m),R,C,A.visualElement))}const f=P.forwardRef(l);return f[TS]=o,f}function IS({layoutId:e}){const t=P.useContext(S0).id;return t&&e!==void 0?t+"-"+e:e}function _S(e){function t(s,o={}){return NS(e(s,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const RS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b0(e){return typeof e!="string"||e.includes("-")?!1:!!(RS.indexOf(e)>-1||/[A-Z]/.test(e))}const Dc={};function OS(e){Object.assign(Dc,e)}const Wa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yi=new Set(Wa);function Iy(e,{layout:t,layoutId:n}){return yi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Dc[e]||e==="opacity")}const Cn=e=>!!(e&&e.getVelocity),MS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DS=Wa.length;function kS(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,o){let l="";for(let f=0;f<DS;f++){const g=Wa[f];if(e[g]!==void 0){const m=MS[g]||g;l+=`${m}(${e[g]}) `}}return t&&!e.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(e,s?"":l):n&&s&&(l="none"),l}const _y=e=>t=>typeof t=="string"&&t.startsWith(e),Ry=_y("--"),Yf=_y("var(--"),LS=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,PS=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ms=(e,t,n)=>Math.min(Math.max(n,e),t),wi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ca={...wi,transform:e=>Ms(0,1,e)},Il={...wi,default:1},ua=e=>Math.round(e*1e5)/1e5,Cu=/(-)?([\d]*\.?[\d])+/g,Oy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,BS=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Ga(e){return typeof e=="string"}const Xa=e=>({test:t=>Ga(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),cs=Xa("deg"),_r=Xa("%"),Ee=Xa("px"),jS=Xa("vh"),FS=Xa("vw"),ig={..._r,parse:e=>_r.parse(e)/100,transform:e=>_r.transform(e*100)},og={...wi,transform:Math.round},My={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,size:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,rotate:cs,rotateX:cs,rotateY:cs,rotateZ:cs,scale:Il,scaleX:Il,scaleY:Il,scaleZ:Il,skew:cs,skewX:cs,skewY:cs,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:ca,originX:ig,originY:ig,originZ:Ee,zIndex:og,fillOpacity:ca,strokeOpacity:ca,numOctaves:og};function T0(e,t,n,s){const{style:o,vars:l,transform:f,transformOrigin:g}=e;let m=!1,p=!1,w=!0;for(const C in t){const A=t[C];if(Ry(C)){l[C]=A;continue}const R=My[C],O=PS(A,R);if(yi.has(C)){if(m=!0,f[C]=O,!w)continue;A!==(R.default||0)&&(w=!1)}else C.startsWith("origin")?(p=!0,g[C]=O):o[C]=O}if(t.transform||(m||s?o.transform=kS(e.transform,n,w,s):o.transform&&(o.transform="none")),p){const{originX:C="50%",originY:A="50%",originZ:R=0}=g;o.transformOrigin=`${C} ${A} ${R}`}}const N0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dy(e,t,n){for(const s in t)!Cn(t[s])&&!Iy(s,n)&&(e[s]=t[s])}function US({transformTemplate:e},t,n){return P.useMemo(()=>{const s=N0();return T0(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function VS(e,t,n){const s=e.style||{},o={};return Dy(o,s,e),Object.assign(o,US(e,t,n)),e.transformValues?e.transformValues(o):o}function zS(e,t,n){const s={},o=VS(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=o,s}const HS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HS.has(e)}let ky=e=>!kc(e);function WS(e){e&&(ky=t=>t.startsWith("on")?!kc(t):e(t))}try{WS(require("@emotion/is-prop-valid").default)}catch{}function GS(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(ky(o)||n===!0&&kc(o)||!t&&!kc(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}function ag(e,t,n){return typeof e=="string"?e:Ee.transform(t+n*e)}function XS(e,t,n){const s=ag(t,e.x,e.width),o=ag(n,e.y,e.height);return`${s} ${o}`}const YS={offset:"stroke-dashoffset",array:"stroke-dasharray"},QS={offset:"strokeDashoffset",array:"strokeDasharray"};function KS(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?YS:QS;e[l.offset]=Ee.transform(-s);const f=Ee.transform(t),g=Ee.transform(n);e[l.array]=`${f} ${g}`}function I0(e,{attrX:t,attrY:n,attrScale:s,originX:o,originY:l,pathLength:f,pathSpacing:g=1,pathOffset:m=0,...p},w,C,A){if(T0(e,p,w,A),C){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:R,style:O,dimensions:M}=e;R.transform&&(M&&(O.transform=R.transform),delete R.transform),M&&(o!==void 0||l!==void 0||O.transform)&&(O.transformOrigin=XS(M,o!==void 0?o:.5,l!==void 0?l:.5)),t!==void 0&&(R.x=t),n!==void 0&&(R.y=n),s!==void 0&&(R.scale=s),f!==void 0&&KS(R,f,g,m,!1)}const Ly=()=>({...N0(),attrs:{}}),_0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZS(e,t,n,s){const o=P.useMemo(()=>{const l=Ly();return I0(l,t,{enableHardwareAcceleration:!1},_0(s),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Dy(l,e.style,e),o.style={...l,...o.style}}return o}function qS(e=!1){return(n,s,o,{latestValues:l},f)=>{const m=(b0(n)?ZS:zS)(s,l,f,n),w={...GS(s,typeof n=="string",e),...m,ref:o},{children:C}=s,A=P.useMemo(()=>Cn(C)?C.get():C,[C]);return P.createElement(n,{...w,children:A})}}function Py(e,{style:t,vars:n},s,o){Object.assign(e.style,t,o&&o.getProjectionStyles(s));for(const l in n)e.style.setProperty(l,n[l])}const By=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jy(e,t,n,s){Py(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(By.has(o)?o:C0(o),t.attrs[o])}function R0(e,t){const{style:n}=e,s={};for(const o in n)(Cn(n[o])||t.style&&Cn(t.style[o])||Iy(o,e))&&(s[o]=n[o]);return s}function Fy(e,t){const n=R0(e,t);for(const s in e)if(Cn(e[s])||Cn(t[s])){const o=Wa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[o]=e[s]}return n}function O0(e,t,n,s={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,o)),t}function Uy(e){const t=P.useRef(null);return t.current===null&&(t.current=e()),t.current}const Lc=e=>Array.isArray(e),$S=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),JS=e=>Lc(e)?e[e.length-1]||0:e;function $l(e){const t=Cn(e)?e.get():e;return $S(t)?t.toValue():t}function eb({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,o,l){const f={latestValues:tb(s,o,l,e),renderState:t()};return n&&(f.mount=g=>n(s,g,f)),f}const Vy=e=>(t,n)=>{const s=P.useContext(mu),o=P.useContext(xu),l=()=>eb(e,t,s,o);return n?l():Uy(l)};function tb(e,t,n,s){const o={},l=s(e,{});for(const A in l)o[A]=$l(l[A]);let{initial:f,animate:g}=e;const m=vu(e),p=Ty(e);t&&p&&!m&&e.inherit!==!1&&(f===void 0&&(f=t.initial),g===void 0&&(g=t.animate));let w=n?n.initial===!1:!1;w=w||f===!1;const C=w?g:f;return C&&typeof C!="boolean"&&!wu(C)&&(Array.isArray(C)?C:[C]).forEach(R=>{const O=O0(e,R);if(!O)return;const{transitionEnd:M,transition:k,..._}=O;for(const N in _){let T=_[N];if(Array.isArray(T)){const B=w?T.length-1:0;T=T[B]}T!==null&&(o[N]=T)}for(const N in M)o[N]=M[N]}),o}const mt=e=>e;class lg{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function nb(e){let t=new lg,n=new lg,s=0,o=!1,l=!1;const f=new WeakSet,g={schedule:(m,p=!1,w=!1)=>{const C=w&&o,A=C?t:n;return p&&f.add(m),A.add(m)&&C&&o&&(s=t.order.length),m},cancel:m=>{n.remove(m),f.delete(m)},process:m=>{if(o){l=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let p=0;p<s;p++){const w=t.order[p];w(m),f.has(w)&&(g.schedule(w),e())}o=!1,l&&(l=!1,g.process(m))}};return g}const _l=["prepare","read","update","preRender","render","postRender"],rb=40;function sb(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=_l.reduce((C,A)=>(C[A]=nb(()=>n=!0),C),{}),f=C=>l[C].process(o),g=()=>{const C=performance.now();n=!1,o.delta=s?1e3/60:Math.max(Math.min(C-o.timestamp,rb),1),o.timestamp=C,o.isProcessing=!0,_l.forEach(f),o.isProcessing=!1,n&&t&&(s=!1,e(g))},m=()=>{n=!0,s=!0,o.isProcessing||e(g)};return{schedule:_l.reduce((C,A)=>{const R=l[A];return C[A]=(O,M=!1,k=!1)=>(n||m(),R.schedule(O,M,k)),C},{}),cancel:C=>_l.forEach(A=>l[A].cancel(C)),state:o,steps:l}}const{schedule:$e,cancel:Zr,state:qt,steps:bd}=sb(typeof requestAnimationFrame<"u"?requestAnimationFrame:mt,!0),ib={useVisualState:Vy({scrapeMotionValuesFromProps:Fy,createRenderState:Ly,onMount:(e,t,{renderState:n,latestValues:s})=>{$e.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),$e.render(()=>{I0(n,s,{enableHardwareAcceleration:!1},_0(t.tagName),e.transformTemplate),jy(t,n)})}})},ob={useVisualState:Vy({scrapeMotionValuesFromProps:R0,createRenderState:N0})};function ab(e,{forwardMotionProps:t=!1},n,s){return{...b0(e)?ib:ob,preloadedFeatures:n,useRender:qS(t),createVisualElement:s,Component:e}}function Vr(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const zy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Eu(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const lb=e=>t=>zy(t)&&e(t,Eu(t));function Wr(e,t,n,s){return Vr(e,t,lb(n),s)}const cb=(e,t)=>n=>t(e(n)),Ns=(...e)=>e.reduce(cb);function Hy(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const cg=Hy("dragHorizontal"),ug=Hy("dragVertical");function Wy(e){let t=!1;if(e==="y")t=ug();else if(e==="x")t=cg();else{const n=cg(),s=ug();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function Gy(){const e=Wy(!0);return e?(e(),!1):!0}class Vs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function dg(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),o=(l,f)=>{if(l.pointerType==="touch"||Gy())return;const g=e.getProps();e.animationState&&g.whileHover&&e.animationState.setActive("whileHover",t),g[s]&&$e.update(()=>g[s](l,f))};return Wr(e.current,n,o,{passive:!e.getProps()[s]})}class ub extends Vs{mount(){this.unmount=Ns(dg(this.node,!0),dg(this.node,!1))}unmount(){}}class db extends Vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ns(Vr(this.node.current,"focus",()=>this.onFocus()),Vr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Xy=(e,t)=>t?e===t?!0:Xy(e,t.parentElement):!1;function Td(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Eu(n))}class fb extends Vs{constructor(){super(...arguments),this.removeStartListeners=mt,this.removeEndListeners=mt,this.removeAccessibleListeners=mt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),l=Wr(window,"pointerup",(g,m)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:w,globalTapTarget:C}=this.node.getProps();$e.update(()=>{!C&&!Xy(this.node.current,g.target)?w&&w(g,m):p&&p(g,m)})},{passive:!(s.onTap||s.onPointerUp)}),f=Wr(window,"pointercancel",(g,m)=>this.cancelPress(g,m),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Ns(l,f),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=l=>{if(l.key!=="Enter"||this.isPressing)return;const f=g=>{g.key!=="Enter"||!this.checkPressEnd()||Td("up",(m,p)=>{const{onTap:w}=this.node.getProps();w&&$e.update(()=>w(m,p))})};this.removeEndListeners(),this.removeEndListeners=Vr(this.node.current,"keyup",f),Td("down",(g,m)=>{this.startPress(g,m)})},n=Vr(this.node.current,"keydown",t),s=()=>{this.isPressing&&Td("cancel",(l,f)=>this.cancelPress(l,f))},o=Vr(this.node.current,"blur",s);this.removeAccessibleListeners=Ns(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&$e.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Gy()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&$e.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=Wr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=Vr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ns(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Qf=new WeakMap,Nd=new WeakMap,hb=e=>{const t=Qf.get(e.target);t&&t(e)},pb=e=>{e.forEach(hb)};function gb({root:e,...t}){const n=e||document;Nd.has(n)||Nd.set(n,{});const s=Nd.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(pb,{root:e,...t})),s[o]}function mb(e,t,n){const s=gb(t);return Qf.set(e,n),s.observe(e),()=>{Qf.delete(e),s.unobserve(e)}}const xb={some:0,all:1};class yb extends Vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,f={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:xb[o]},g=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:w,onViewportLeave:C}=this.node.getProps(),A=p?w:C;A&&A(m)};return mb(this.node.current,f,g)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(wb(t,n))&&this.startObserver()}unmount(){}}function wb({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const vb={inView:{Feature:yb},tap:{Feature:fb},focus:{Feature:db},hover:{Feature:ub}};function Yy(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function Cb(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function Eb(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function Au(e,t,n){const s=e.getProps();return O0(s,t,n!==void 0?n:s.custom,Cb(e),Eb(e))}let Ab=mt,M0=mt;const Is=e=>e*1e3,Gr=e=>e/1e3,Sb={current:!1},Qy=e=>Array.isArray(e)&&typeof e[0]=="number";function Ky(e){return!!(!e||typeof e=="string"&&Zy[e]||Qy(e)||Array.isArray(e)&&e.every(Ky))}const $o=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,Zy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$o([0,.65,.55,1]),circOut:$o([.55,0,1,.45]),backIn:$o([.31,.01,.66,-.59]),backOut:$o([.33,1.53,.69,.99])};function qy(e){if(e)return Qy(e)?$o(e):Array.isArray(e)?e.map(qy):Zy[e]}function bb(e,t,n,{delay:s=0,duration:o,repeat:l=0,repeatType:f="loop",ease:g,times:m}={}){const p={[t]:n};m&&(p.offset=m);const w=qy(g);return Array.isArray(w)&&(p.easing=w),e.animate(p,{delay:s,duration:o,easing:Array.isArray(w)?"linear":w,fill:"both",iterations:l+1,direction:f==="reverse"?"alternate":"normal"})}function Tb(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const $y=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Nb=1e-7,Ib=12;function _b(e,t,n,s,o){let l,f,g=0;do f=t+(n-t)/2,l=$y(f,s,o)-e,l>0?n=f:t=f;while(Math.abs(l)>Nb&&++g<Ib);return f}function Ya(e,t,n,s){if(e===t&&n===s)return mt;const o=l=>_b(l,0,1,e,n);return l=>l===0||l===1?l:$y(o(l),t,s)}const Rb=Ya(.42,0,1,1),Ob=Ya(0,0,.58,1),Jy=Ya(.42,0,.58,1),Mb=e=>Array.isArray(e)&&typeof e[0]!="number",ew=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tw=e=>t=>1-e(1-t),D0=e=>1-Math.sin(Math.acos(e)),nw=tw(D0),Db=ew(D0),rw=Ya(.33,1.53,.69,.99),k0=tw(rw),kb=ew(k0),Lb=e=>(e*=2)<1?.5*k0(e):.5*(2-Math.pow(2,-10*(e-1))),Pb={linear:mt,easeIn:Rb,easeInOut:Jy,easeOut:Ob,circIn:D0,circInOut:Db,circOut:nw,backIn:k0,backInOut:kb,backOut:rw,anticipate:Lb},fg=e=>{if(Array.isArray(e)){M0(e.length===4);const[t,n,s,o]=e;return Ya(t,n,s,o)}else if(typeof e=="string")return Pb[e];return e},L0=(e,t)=>n=>!!(Ga(n)&&BS.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),sw=(e,t,n)=>s=>{if(!Ga(s))return s;const[o,l,f,g]=s.match(Cu);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(f),alpha:g!==void 0?parseFloat(g):1}},Bb=e=>Ms(0,255,e),Id={...wi,transform:e=>Math.round(Bb(e))},ai={test:L0("rgb","red"),parse:sw("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Id.transform(e)+", "+Id.transform(t)+", "+Id.transform(n)+", "+ua(ca.transform(s))+")"};function jb(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Kf={test:L0("#"),parse:jb,transform:ai.transform},Wi={test:L0("hsl","hue"),parse:sw("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+_r.transform(ua(t))+", "+_r.transform(ua(n))+", "+ua(ca.transform(s))+")"},rn={test:e=>ai.test(e)||Kf.test(e)||Wi.test(e),parse:e=>ai.test(e)?ai.parse(e):Wi.test(e)?Wi.parse(e):Kf.parse(e),transform:e=>Ga(e)?e:e.hasOwnProperty("red")?ai.transform(e):Wi.transform(e)},at=(e,t,n)=>-n*e+n*t+e;function _d(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Fb({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,f=0;if(!t)o=l=f=n;else{const g=n<.5?n*(1+t):n+t-n*t,m=2*n-g;o=_d(m,g,e+1/3),l=_d(m,g,e),f=_d(m,g,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(f*255),alpha:s}}const Rd=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},Ub=[Kf,ai,Wi],Vb=e=>Ub.find(t=>t.test(e));function hg(e){const t=Vb(e);let n=t.parse(e);return t===Wi&&(n=Fb(n)),n}const iw=(e,t)=>{const n=hg(e),s=hg(t),o={...n};return l=>(o.red=Rd(n.red,s.red,l),o.green=Rd(n.green,s.green,l),o.blue=Rd(n.blue,s.blue,l),o.alpha=at(n.alpha,s.alpha,l),ai.transform(o))};function zb(e){var t,n;return isNaN(e)&&Ga(e)&&(((t=e.match(Cu))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Oy))===null||n===void 0?void 0:n.length)||0)>0}const ow={regex:LS,countKey:"Vars",token:"${v}",parse:mt},aw={regex:Oy,countKey:"Colors",token:"${c}",parse:rn.parse},lw={regex:Cu,countKey:"Numbers",token:"${n}",parse:wi.parse};function Od(e,{regex:t,countKey:n,token:s,parse:o}){const l=e.tokenised.match(t);l&&(e["num"+n]=l.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...l.map(o)))}function Pc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Od(n,ow),Od(n,aw),Od(n,lw),n}function cw(e){return Pc(e).values}function uw(e){const{values:t,numColors:n,numVars:s,tokenised:o}=Pc(e),l=t.length;return f=>{let g=o;for(let m=0;m<l;m++)m<s?g=g.replace(ow.token,f[m]):m<s+n?g=g.replace(aw.token,rn.transform(f[m])):g=g.replace(lw.token,ua(f[m]));return g}}const Hb=e=>typeof e=="number"?0:e;function Wb(e){const t=cw(e);return uw(e)(t.map(Hb))}const Ds={test:zb,parse:cw,createTransformer:uw,getAnimatableNone:Wb},dw=(e,t)=>n=>`${n>0?t:e}`;function fw(e,t){return typeof e=="number"?n=>at(e,t,n):rn.test(e)?iw(e,t):e.startsWith("var(")?dw(e,t):pw(e,t)}const hw=(e,t)=>{const n=[...e],s=n.length,o=e.map((l,f)=>fw(l,t[f]));return l=>{for(let f=0;f<s;f++)n[f]=o[f](l);return n}},Gb=(e,t)=>{const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=fw(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}},pw=(e,t)=>{const n=Ds.createTransformer(t),s=Pc(e),o=Pc(t);return s.numVars===o.numVars&&s.numColors===o.numColors&&s.numNumbers>=o.numNumbers?Ns(hw(s.values,o.values),n):dw(e,t)},ka=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},pg=(e,t)=>n=>at(e,t,n);function Xb(e){return typeof e=="number"?pg:typeof e=="string"?rn.test(e)?iw:pw:Array.isArray(e)?hw:typeof e=="object"?Gb:pg}function Yb(e,t,n){const s=[],o=n||Xb(e[0]),l=e.length-1;for(let f=0;f<l;f++){let g=o(e[f],e[f+1]);if(t){const m=Array.isArray(t)?t[f]||mt:t;g=Ns(m,g)}s.push(g)}return s}function gw(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(M0(l===t.length),l===1)return()=>t[0];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=Yb(t,s,o),g=f.length,m=p=>{let w=0;if(g>1)for(;w<e.length-2&&!(p<e[w+1]);w++);const C=ka(e[w],e[w+1],p);return f[w](C)};return n?p=>m(Ms(e[0],e[l-1],p)):m}function Qb(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=ka(0,t,s);e.push(at(n,1,o))}}function Kb(e){const t=[0];return Qb(t,e.length-1),t}function Zb(e,t){return e.map(n=>n*t)}function qb(e,t){return e.map(()=>t||Jy).splice(0,e.length-1)}function Bc({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=Mb(s)?s.map(fg):fg(s),l={done:!1,value:t[0]},f=Zb(n&&n.length===t.length?n:Kb(t),e),g=gw(f,t,{ease:Array.isArray(o)?o:qb(t,o)});return{calculatedDuration:e,next:m=>(l.value=g(m),l.done=m>=e,l)}}function mw(e,t){return t?e*(1e3/t):0}const $b=5;function xw(e,t,n){const s=Math.max(t-$b,0);return mw(n-e(s),t-s)}const Md=.001,Jb=.01,gg=10,eT=.05,tT=1;function nT({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let o,l;Ab(e<=Is(gg));let f=1-t;f=Ms(eT,tT,f),e=Ms(Jb,gg,Gr(e)),f<1?(o=p=>{const w=p*f,C=w*e,A=w-n,R=Zf(p,f),O=Math.exp(-C);return Md-A/R*O},l=p=>{const C=p*f*e,A=C*n+n,R=Math.pow(f,2)*Math.pow(p,2)*e,O=Math.exp(-C),M=Zf(Math.pow(p,2),f);return(-o(p)+Md>0?-1:1)*((A-R)*O)/M}):(o=p=>{const w=Math.exp(-p*e),C=(p-n)*e+1;return-Md+w*C},l=p=>{const w=Math.exp(-p*e),C=(n-p)*(e*e);return w*C});const g=5/e,m=sT(o,l,g);if(e=Is(e),isNaN(m))return{stiffness:100,damping:10,duration:e};{const p=Math.pow(m,2)*s;return{stiffness:p,damping:f*2*Math.sqrt(s*p),duration:e}}}const rT=12;function sT(e,t,n){let s=n;for(let o=1;o<rT;o++)s=s-e(s)/t(s);return s}function Zf(e,t){return e*Math.sqrt(1-t*t)}const iT=["duration","bounce"],oT=["stiffness","damping","mass"];function mg(e,t){return t.some(n=>e[n]!==void 0)}function aT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!mg(e,oT)&&mg(e,iT)){const n=nT(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function yw({keyframes:e,restDelta:t,restSpeed:n,...s}){const o=e[0],l=e[e.length-1],f={done:!1,value:o},{stiffness:g,damping:m,mass:p,duration:w,velocity:C,isResolvedFromDuration:A}=aT({...s,velocity:-Gr(s.velocity||0)}),R=C||0,O=m/(2*Math.sqrt(g*p)),M=l-o,k=Gr(Math.sqrt(g/p)),_=Math.abs(M)<5;n||(n=_?.01:2),t||(t=_?.005:.5);let N;if(O<1){const T=Zf(k,O);N=B=>{const V=Math.exp(-O*k*B);return l-V*((R+O*k*M)/T*Math.sin(T*B)+M*Math.cos(T*B))}}else if(O===1)N=T=>l-Math.exp(-k*T)*(M+(R+k*M)*T);else{const T=k*Math.sqrt(O*O-1);N=B=>{const V=Math.exp(-O*k*B),X=Math.min(T*B,300);return l-V*((R+O*k*M)*Math.sinh(X)+T*M*Math.cosh(X))/T}}return{calculatedDuration:A&&w||null,next:T=>{const B=N(T);if(A)f.done=T>=w;else{let V=R;T!==0&&(O<1?V=xw(N,T,B):V=0);const X=Math.abs(V)<=n,U=Math.abs(l-B)<=t;f.done=X&&U}return f.value=f.done?l:B,f}}}function xg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:f,min:g,max:m,restDelta:p=.5,restSpeed:w}){const C=e[0],A={done:!1,value:C},R=Z=>g!==void 0&&Z<g||m!==void 0&&Z>m,O=Z=>g===void 0?m:m===void 0||Math.abs(g-Z)<Math.abs(m-Z)?g:m;let M=n*t;const k=C+M,_=f===void 0?k:f(k);_!==k&&(M=_-C);const N=Z=>-M*Math.exp(-Z/s),T=Z=>_+N(Z),B=Z=>{const W=N(Z),de=T(Z);A.done=Math.abs(W)<=p,A.value=A.done?_:de};let V,X;const U=Z=>{R(A.value)&&(V=Z,X=yw({keyframes:[A.value,O(A.value)],velocity:xw(T,Z,A.value),damping:o,stiffness:l,restDelta:p,restSpeed:w}))};return U(0),{calculatedDuration:null,next:Z=>{let W=!1;return!X&&V===void 0&&(W=!0,B(Z),U(Z)),V!==void 0&&Z>V?X.next(Z-V):(!W&&B(Z),A)}}}const lT=e=>{const t=({timestamp:n})=>e(n);return{start:()=>$e.update(t,!0),stop:()=>Zr(t),now:()=>qt.isProcessing?qt.timestamp:performance.now()}},yg=2e4;function wg(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<yg;)t+=n,s=e.next(t);return t>=yg?1/0:t}const cT={decay:xg,inertia:xg,tween:Bc,keyframes:Bc,spring:yw};function jc({autoplay:e=!0,delay:t=0,driver:n=lT,keyframes:s,type:o="keyframes",repeat:l=0,repeatDelay:f=0,repeatType:g="loop",onPlay:m,onStop:p,onComplete:w,onUpdate:C,...A}){let R=1,O=!1,M,k;const _=()=>{k=new Promise(me=>{M=me})};_();let N;const T=cT[o]||Bc;let B;T!==Bc&&typeof s[0]!="number"&&(B=gw([0,100],s,{clamp:!1}),s=[0,100]);const V=T({...A,keyframes:s});let X;g==="mirror"&&(X=T({...A,keyframes:[...s].reverse(),velocity:-(A.velocity||0)}));let U="idle",Z=null,W=null,de=null;V.calculatedDuration===null&&l&&(V.calculatedDuration=wg(V));const{calculatedDuration:Se}=V;let ie=1/0,re=1/0;Se!==null&&(ie=Se+f,re=ie*(l+1)-f);let le=0;const G=me=>{if(W===null)return;R>0&&(W=Math.min(W,me)),R<0&&(W=Math.min(me-re/R,W)),Z!==null?le=Z:le=Math.round(me-W)*R;const Ae=le-t*(R>=0?1:-1),Tt=R>=0?Ae<0:Ae>re;le=Math.max(Ae,0),U==="finished"&&Z===null&&(le=re);let je=le,En=V;if(l){const Dr=Math.min(le,re)/ie;let fr=Math.floor(Dr),ut=Dr%1;!ut&&Dr>=1&&(ut=1),ut===1&&fr--,fr=Math.min(fr,l+1),!!(fr%2)&&(g==="reverse"?(ut=1-ut,f&&(ut-=f/ie)):g==="mirror"&&(En=X)),je=Ms(0,1,ut)*ie}const ue=Tt?{done:!1,value:s[0]}:En.next(je);B&&(ue.value=B(ue.value));let{done:Zn}=ue;!Tt&&Se!==null&&(Zn=R>=0?le>=re:le<=0);const vt=Z===null&&(U==="finished"||U==="running"&&Zn);return C&&C(ue.value),vt&&ne(),ue},pe=()=>{N&&N.stop(),N=void 0},ge=()=>{U="idle",pe(),M(),_(),W=de=null},ne=()=>{U="finished",w&&w(),pe(),M()},fe=()=>{if(O)return;N||(N=n(G));const me=N.now();m&&m(),Z!==null?W=me-Z:(!W||U==="finished")&&(W=me),U==="finished"&&_(),de=W,Z=null,U="running",N.start()};e&&fe();const ye={then(me,Ae){return k.then(me,Ae)},get time(){return Gr(le)},set time(me){me=Is(me),le=me,Z!==null||!N||R===0?Z=me:W=N.now()-me/R},get duration(){const me=V.calculatedDuration===null?wg(V):V.calculatedDuration;return Gr(me)},get speed(){return R},set speed(me){me===R||!N||(R=me,ye.time=Gr(le))},get state(){return U},play:fe,pause:()=>{U="paused",Z=le},stop:()=>{O=!0,U!=="idle"&&(U="idle",p&&p(),ge())},cancel:()=>{de!==null&&G(de),ge()},complete:()=>{U="finished"},sample:me=>(W=0,G(me))};return ye}function uT(e){let t;return()=>(t===void 0&&(t=e()),t)}const dT=uT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Rl=10,hT=2e4,pT=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Ky(t.ease);function gT(e,t,{onUpdate:n,onComplete:s,...o}){if(!(dT()&&fT.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let f=!1,g,m,p=!1;const w=()=>{m=new Promise(T=>{g=T})};w();let{keyframes:C,duration:A=300,ease:R,times:O}=o;if(pT(t,o)){const T=jc({...o,repeat:0,delay:0});let B={done:!1,value:C[0]};const V=[];let X=0;for(;!B.done&&X<hT;)B=T.sample(X),V.push(B.value),X+=Rl;O=void 0,C=V,A=X-Rl,R="linear"}const M=bb(e.owner.current,t,C,{...o,duration:A,ease:R,times:O}),k=()=>{p=!1,M.cancel()},_=()=>{p=!0,$e.update(k),g(),w()};return M.onfinish=()=>{p||(e.set(Tb(C,o)),s&&s(),_())},{then(T,B){return m.then(T,B)},attachTimeline(T){return M.timeline=T,M.onfinish=null,mt},get time(){return Gr(M.currentTime||0)},set time(T){M.currentTime=Is(T)},get speed(){return M.playbackRate},set speed(T){M.playbackRate=T},get duration(){return Gr(A)},play:()=>{f||(M.play(),Zr(k))},pause:()=>M.pause(),stop:()=>{if(f=!0,M.playState==="idle")return;const{currentTime:T}=M;if(T){const B=jc({...o,autoplay:!1});e.setWithVelocity(B.sample(T-Rl).value,B.sample(T).value,Rl)}_()},complete:()=>{p||M.finish()},cancel:_}}function mT({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const o=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:mt,pause:mt,stop:mt,then:l=>(l(),Promise.resolve()),cancel:mt,complete:mt});return t?jc({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const xT={type:"spring",stiffness:500,damping:25,restSpeed:10},yT=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),wT={type:"keyframes",duration:.8},vT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CT=(e,{keyframes:t})=>t.length>2?wT:yi.has(e)?e.startsWith("scale")?yT(t[1]):xT:vT,qf=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ds.test(t)||t==="0")&&!t.startsWith("url(")),ET=new Set(["brightness","contrast","saturate","opacity"]);function AT(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Cu)||[];if(!s)return e;const o=n.replace(s,"");let l=ET.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const ST=/([a-z-]*)\(.*?\)/g,$f={...Ds,getAnimatableNone:e=>{const t=e.match(ST);return t?t.map(AT).join(" "):e}},bT={...My,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:$f,WebkitFilter:$f},P0=e=>bT[e];function ww(e,t){let n=P0(e);return n!==$f&&(n=Ds),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const vw=e=>/^0[^.\s]+$/.test(e);function TT(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||vw(e)}function NT(e,t,n,s){const o=qf(t,n);let l;Array.isArray(n)?l=[...n]:l=[null,n];const f=s.from!==void 0?s.from:e.get();let g;const m=[];for(let p=0;p<l.length;p++)l[p]===null&&(l[p]=p===0?f:l[p-1]),TT(l[p])&&m.push(p),typeof l[p]=="string"&&l[p]!=="none"&&l[p]!=="0"&&(g=l[p]);if(o&&m.length&&g)for(let p=0;p<m.length;p++){const w=m[p];l[w]=ww(t,g)}return l}function IT({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:f,repeatDelay:g,from:m,elapsed:p,...w}){return!!Object.keys(w).length}function B0(e,t){return e[t]||e.default||e}const _T={skipAnimations:!1},j0=(e,t,n,s={})=>o=>{const l=B0(s,e)||{},f=l.delay||s.delay||0;let{elapsed:g=0}=s;g=g-Is(f);const m=NT(t,e,n,l),p=m[0],w=m[m.length-1],C=qf(e,p),A=qf(e,w);let R={keyframes:m,velocity:t.getVelocity(),ease:"easeOut",...l,delay:-g,onUpdate:O=>{t.set(O),l.onUpdate&&l.onUpdate(O)},onComplete:()=>{o(),l.onComplete&&l.onComplete()}};if(IT(l)||(R={...R,...CT(e,R)}),R.duration&&(R.duration=Is(R.duration)),R.repeatDelay&&(R.repeatDelay=Is(R.repeatDelay)),!C||!A||Sb.current||l.type===!1||_T.skipAnimations)return mT(R);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const O=gT(t,e,R);if(O)return O}return jc(R)};function Fc(e){return!!(Cn(e)&&e.add)}const Cw=e=>/^\-?\d*\.?\d+$/.test(e);function F0(e,t){e.indexOf(t)===-1&&e.push(t)}function U0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class V0{constructor(){this.subscriptions=[]}add(t){return F0(this.subscriptions,t),()=>U0(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const f=this.subscriptions[l];f&&f(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const RT=e=>!isNaN(parseFloat(e));class OT{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,o=!0)=>{this.prev=this.current,this.current=s;const{delta:l,timestamp:f}=qt;this.lastUpdated!==f&&(this.timeDelta=l,this.lastUpdated=f,$e.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>$e.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=RT(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new V0);const s=this.events[t].add(n);return t==="change"?()=>{s(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mw(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uo(e,t){return new OT(e,t)}const Ew=e=>t=>t.test(e),MT={test:e=>e==="auto",parse:e=>e},Aw=[wi,Ee,_r,cs,FS,jS,MT],Go=e=>Aw.find(Ew(e)),DT=[...Aw,rn,Ds],kT=e=>DT.find(Ew(e));function LT(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,uo(n))}function PT(e,t){const n=Au(e,t);let{transitionEnd:s={},transition:o={},...l}=n?e.makeTargetAnimatable(n,!1):{};l={...l,...s};for(const f in l){const g=JS(l[f]);LT(e,f,g)}}function BT(e,t,n){var s,o;const l=Object.keys(t).filter(g=>!e.hasValue(g)),f=l.length;if(f)for(let g=0;g<f;g++){const m=l[g],p=t[m];let w=null;Array.isArray(p)&&(w=p[0]),w===null&&(w=(o=(s=n[m])!==null&&s!==void 0?s:e.readValue(m))!==null&&o!==void 0?o:t[m]),w!=null&&(typeof w=="string"&&(Cw(w)||vw(w))?w=parseFloat(w):!kT(w)&&Ds.test(p)&&(w=ww(m,p)),e.addValue(m,uo(w,{owner:e})),n[m]===void 0&&(n[m]=w),w!==null&&e.setBaseTarget(m,w))}}function jT(e,t){return t?(t[e]||t.default||t).from:void 0}function FT(e,t,n){const s={};for(const o in e){const l=jT(o,t);if(l!==void 0)s[o]=l;else{const f=n.getValue(o);f&&(s[o]=f.get())}}return s}function UT({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function VT(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function Sw(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:f,...g}=e.makeTargetAnimatable(t);const m=e.getValue("willChange");s&&(l=s);const p=[],w=o&&e.animationState&&e.animationState.getState()[o];for(const C in g){const A=e.getValue(C),R=g[C];if(!A||R===void 0||w&&UT(w,C))continue;const O={delay:n,elapsed:0,...B0(l||{},C)};if(window.HandoffAppearAnimations){const _=e.getProps()[by];if(_){const N=window.HandoffAppearAnimations(_,C,A,$e);N!==null&&(O.elapsed=N,O.isHandoff=!0)}}let M=!O.isHandoff&&!VT(A,R);if(O.type==="spring"&&(A.getVelocity()||O.velocity)&&(M=!1),A.animation&&(M=!1),M)continue;A.start(j0(C,A,R,e.shouldReduceMotion&&yi.has(C)?{type:!1}:O));const k=A.animation;Fc(m)&&(m.add(C),k.then(()=>m.remove(C))),p.push(k)}return f&&Promise.all(p).then(()=>{f&&PT(e,f)}),p}function Jf(e,t,n={}){const s=Au(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(Sw(e,s,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:w,staggerDirection:C}=o;return zT(e,t,p+m,w,C,n)}:()=>Promise.resolve(),{when:g}=o;if(g){const[m,p]=g==="beforeChildren"?[l,f]:[f,l];return m().then(()=>p())}else return Promise.all([l(),f(n.delay)])}function zT(e,t,n=0,s=0,o=1,l){const f=[],g=(e.variantChildren.size-1)*s,m=o===1?(p=0)=>p*s:(p=0)=>g-p*s;return Array.from(e.variantChildren).sort(HT).forEach((p,w)=>{p.notify("AnimationStart",t),f.push(Jf(p,t,{...l,delay:n+m(w)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(f)}function HT(e,t){return e.sortNodePosition(t)}function WT(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>Jf(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=Jf(e,t,n);else{const o=typeof t=="function"?Au(e,t,n.custom):t;s=Promise.all(Sw(e,o,n))}return s.then(()=>e.notify("AnimationComplete",t))}const GT=[...E0].reverse(),XT=E0.length;function YT(e){return t=>Promise.all(t.map(({animation:n,options:s})=>WT(e,n,s)))}function QT(e){let t=YT(e);const n=ZT();let s=!0;const o=(m,p)=>{const w=Au(e,p);if(w){const{transition:C,transitionEnd:A,...R}=w;m={...m,...R,...A}}return m};function l(m){t=m(e)}function f(m,p){const w=e.getProps(),C=e.getVariantContext(!0)||{},A=[],R=new Set;let O={},M=1/0;for(let _=0;_<XT;_++){const N=GT[_],T=n[N],B=w[N]!==void 0?w[N]:C[N],V=Ma(B),X=N===p?T.isActive:null;X===!1&&(M=_);let U=B===C[N]&&B!==w[N]&&V;if(U&&s&&e.manuallyAnimateOnMount&&(U=!1),T.protectedKeys={...O},!T.isActive&&X===null||!B&&!T.prevProp||wu(B)||typeof B=="boolean")continue;let W=KT(T.prevProp,B)||N===p&&T.isActive&&!U&&V||_>M&&V,de=!1;const Se=Array.isArray(B)?B:[B];let ie=Se.reduce(o,{});X===!1&&(ie={});const{prevResolvedValues:re={}}=T,le={...re,...ie},G=pe=>{W=!0,R.has(pe)&&(de=!0,R.delete(pe)),T.needsAnimating[pe]=!0};for(const pe in le){const ge=ie[pe],ne=re[pe];if(O.hasOwnProperty(pe))continue;let fe=!1;Lc(ge)&&Lc(ne)?fe=!Yy(ge,ne):fe=ge!==ne,fe?ge!==void 0?G(pe):R.add(pe):ge!==void 0&&R.has(pe)?G(pe):T.protectedKeys[pe]=!0}T.prevProp=B,T.prevResolvedValues=ie,T.isActive&&(O={...O,...ie}),s&&e.blockInitialAnimation&&(W=!1),W&&(!U||de)&&A.push(...Se.map(pe=>({animation:pe,options:{type:N,...m}})))}if(R.size){const _={};R.forEach(N=>{const T=e.getBaseTarget(N);T!==void 0&&(_[N]=T)}),A.push({animation:_})}let k=!!A.length;return s&&(w.initial===!1||w.initial===w.animate)&&!e.manuallyAnimateOnMount&&(k=!1),s=!1,k?t(A):Promise.resolve()}function g(m,p,w){var C;if(n[m].isActive===p)return Promise.resolve();(C=e.variantChildren)===null||C===void 0||C.forEach(R=>{var O;return(O=R.animationState)===null||O===void 0?void 0:O.setActive(m,p)}),n[m].isActive=p;const A=f(w,m);for(const R in n)n[R].protectedKeys={};return A}return{animateChanges:f,setActive:g,setAnimateFunction:l,getState:()=>n}}function KT(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Yy(t,e):!1}function Ks(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZT(){return{animate:Ks(!0),whileInView:Ks(),whileHover:Ks(),whileTap:Ks(),whileDrag:Ks(),whileFocus:Ks(),exit:Ks()}}class qT extends Vs{constructor(t){super(t),t.animationState||(t.animationState=QT(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),wu(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let $T=0;class JT extends Vs{constructor(){super(...arguments),this.id=$T++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const l=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&l.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const e8={animation:{Feature:qT},exit:{Feature:JT}},vg=(e,t)=>Math.abs(e-t);function t8(e,t){const n=vg(e.x,t.x),s=vg(e.y,t.y);return Math.sqrt(n**2+s**2)}class bw{constructor(t,n,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=kd(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,R=t8(C.offset,{x:0,y:0})>=3;if(!A&&!R)return;const{point:O}=C,{timestamp:M}=qt;this.history.push({...O,timestamp:M});const{onStart:k,onMove:_}=this.handlers;A||(k&&k(this.lastMoveEvent,C),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,C)},this.handlePointerMove=(C,A)=>{this.lastMoveEvent=C,this.lastMoveEventInfo=Dd(A,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(C,A)=>{this.end();const{onEnd:R,onSessionEnd:O,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=kd(C.type==="pointercancel"?this.lastMoveEventInfo:Dd(A,this.transformPagePoint),this.history);this.startEvent&&R&&R(C,k),O&&O(C,k)},!zy(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.contextWindow=o||window;const f=Eu(t),g=Dd(f,this.transformPagePoint),{point:m}=g,{timestamp:p}=qt;this.history=[{...m,timestamp:p}];const{onSessionStart:w}=n;w&&w(t,kd(g,this.history)),this.removeListeners=Ns(Wr(this.contextWindow,"pointermove",this.handlePointerMove),Wr(this.contextWindow,"pointerup",this.handlePointerUp),Wr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zr(this.updatePoint)}}function Dd(e,t){return t?{point:t(e.point)}:e}function Cg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function kd({point:e},t){return{point:e,delta:Cg(e,Tw(t)),offset:Cg(e,n8(t)),velocity:r8(t,.1)}}function n8(e){return e[0]}function Tw(e){return e[e.length-1]}function r8(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=Tw(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>Is(t)));)n--;if(!s)return{x:0,y:0};const l=Gr(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const f={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return f.x===1/0&&(f.x=0),f.y===1/0&&(f.y=0),f}function On(e){return e.max-e.min}function eh(e,t=0,n=.01){return Math.abs(e-t)<=n}function Eg(e,t,n,s=.5){e.origin=s,e.originPoint=at(t.min,t.max,e.origin),e.scale=On(n)/On(t),(eh(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=at(n.min,n.max,e.origin)-e.originPoint,(eh(e.translate)||isNaN(e.translate))&&(e.translate=0)}function da(e,t,n,s){Eg(e.x,t.x,n.x,s?s.originX:void 0),Eg(e.y,t.y,n.y,s?s.originY:void 0)}function Ag(e,t,n){e.min=n.min+t.min,e.max=e.min+On(t)}function s8(e,t,n){Ag(e.x,t.x,n.x),Ag(e.y,t.y,n.y)}function Sg(e,t,n){e.min=t.min-n.min,e.max=e.min+On(t)}function fa(e,t,n){Sg(e.x,t.x,n.x),Sg(e.y,t.y,n.y)}function i8(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?at(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?at(n,e,s.max):Math.min(e,n)),e}function bg(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function o8(e,{top:t,left:n,bottom:s,right:o}){return{x:bg(e.x,n,o),y:bg(e.y,t,s)}}function Tg(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function a8(e,t){return{x:Tg(e.x,t.x),y:Tg(e.y,t.y)}}function l8(e,t){let n=.5;const s=On(e),o=On(t);return o>s?n=ka(t.min,t.max-s,e.min):s>o&&(n=ka(e.min,e.max-o,t.min)),Ms(0,1,n)}function c8(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const th=.35;function u8(e=th){return e===!1?e=0:e===!0&&(e=th),{x:Ng(e,"left","right"),y:Ng(e,"top","bottom")}}function Ng(e,t,n){return{min:Ig(e,t),max:Ig(e,n)}}function Ig(e,t){return typeof e=="number"?e:e[t]||0}const _g=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gi=()=>({x:_g(),y:_g()}),Rg=()=>({min:0,max:0}),Et=()=>({x:Rg(),y:Rg()});function zn(e){return[e("x"),e("y")]}function Nw({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function d8({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function f8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ld(e){return e===void 0||e===1}function nh({scale:e,scaleX:t,scaleY:n}){return!Ld(e)||!Ld(t)||!Ld(n)}function Js(e){return nh(e)||Iw(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Iw(e){return Og(e.x)||Og(e.y)}function Og(e){return e&&e!=="0%"}function Uc(e,t,n){const s=e-n,o=t*s;return n+o}function Mg(e,t,n,s,o){return o!==void 0&&(e=Uc(e,o,s)),Uc(e,n,s)+t}function rh(e,t=0,n=1,s,o){e.min=Mg(e.min,t,n,s,o),e.max=Mg(e.max,t,n,s,o)}function _w(e,{x:t,y:n}){rh(e.x,t.translate,t.scale,t.originPoint),rh(e.y,n.translate,n.scale,n.originPoint)}function h8(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,f;for(let g=0;g<o;g++){l=n[g],f=l.projectionDelta;const m=l.instance;m&&m.style&&m.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Xi(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),f&&(t.x*=f.x.scale,t.y*=f.y.scale,_w(e,f)),s&&Js(l.latestValues)&&Xi(e,l.latestValues))}t.x=Dg(t.x),t.y=Dg(t.y)}function Dg(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function fs(e,t){e.min=e.min+t,e.max=e.max+t}function kg(e,t,[n,s,o]){const l=t[o]!==void 0?t[o]:.5,f=at(e.min,e.max,l);rh(e,t[n],t[s],f,t.scale)}const p8=["x","scaleX","originX"],g8=["y","scaleY","originY"];function Xi(e,t){kg(e.x,t,p8),kg(e.y,t,g8)}function Rw(e,t){return Nw(f8(e.getBoundingClientRect(),t))}function m8(e,t,n){const s=Rw(e,n),{scroll:o}=t;return o&&(fs(s.x,o.offset.x),fs(s.y,o.offset.y)),s}const Ow=({current:e})=>e?e.ownerDocument.defaultView:null,x8=new WeakMap;class y8{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Et(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=w=>{const{dragSnapToOrigin:C}=this.getProps();C?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Eu(w,"page").point)},l=(w,C)=>{const{drag:A,dragPropagation:R,onDragStart:O}=this.getProps();if(A&&!R&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Wy(A),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zn(k=>{let _=this.getAxisMotionValue(k).get()||0;if(_r.test(_)){const{projection:N}=this.visualElement;if(N&&N.layout){const T=N.layout.layoutBox[k];T&&(_=On(T)*(parseFloat(_)/100))}}this.originPoint[k]=_}),O&&$e.update(()=>O(w,C),!1,!0);const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},f=(w,C)=>{const{dragPropagation:A,dragDirectionLock:R,onDirectionLock:O,onDrag:M}=this.getProps();if(!A&&!this.openGlobalLock)return;const{offset:k}=C;if(R&&this.currentDirection===null){this.currentDirection=w8(k),this.currentDirection!==null&&O&&O(this.currentDirection);return}this.updateAxis("x",C.point,k),this.updateAxis("y",C.point,k),this.visualElement.render(),M&&M(w,C)},g=(w,C)=>this.stop(w,C),m=()=>zn(w=>{var C;return this.getAnimationState(w)==="paused"&&((C=this.getAxisMotionValue(w).animation)===null||C===void 0?void 0:C.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new bw(t,{onSessionStart:o,onStart:l,onMove:f,onSessionEnd:g,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Ow(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&$e.update(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Ol(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let f=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(f=i8(f,this.constraints[t],this.elastic[t])),l.set(f)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;n&&Hi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=o8(o.layoutBox,n):this.constraints=!1,this.elastic=u8(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&zn(f=>{this.getAxisMotionValue(f)&&(this.constraints[f]=c8(o.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Hi(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=m8(s,o.root,this.visualElement.getTransformPagePoint());let f=a8(o.layout.layoutBox,l);if(n){const g=n(d8(f));this.hasMutatedConstraints=!!g,g&&(f=Nw(g))}return f}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:f,onDragTransitionEnd:g}=this.getProps(),m=this.constraints||{},p=zn(w=>{if(!Ol(w,n,this.currentDirection))return;let C=m&&m[w]||{};f&&(C={min:0,max:0});const A=o?200:1e6,R=o?40:1e7,O={type:"inertia",velocity:s?t[w]:0,bounceStiffness:A,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...l,...C};return this.startAxisValueAnimation(w,O)});return Promise.all(p).then(g)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(j0(t,s,0,n))}stopAnimation(){zn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){zn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){zn(n=>{const{drag:s}=this.getProps();if(!Ol(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:f,max:g}=o.layout.layoutBox[n];l.set(t[n]-at(f,g,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Hi(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};zn(f=>{const g=this.getAxisMotionValue(f);if(g){const m=g.get();o[f]=l8({min:m,max:m},this.constraints[f])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),zn(f=>{if(!Ol(f,t,null))return;const g=this.getAxisMotionValue(f),{min:m,max:p}=this.constraints[f];g.set(at(m,p,o[f]))})}addListeners(){if(!this.visualElement.current)return;x8.set(this.visualElement,this);const t=this.visualElement.current,n=Wr(t,"pointerdown",m=>{const{drag:p,dragListener:w=!0}=this.getProps();p&&w&&this.start(m)}),s=()=>{const{dragConstraints:m}=this.getProps();Hi(m)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),s();const f=Vr(window,"resize",()=>this.scalePositionWithinConstraints()),g=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(zn(w=>{const C=this.getAxisMotionValue(w);C&&(this.originPoint[w]+=m[w].translate,C.set(C.get()+m[w].translate))}),this.visualElement.render())});return()=>{f(),n(),l(),g&&g()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:f=th,dragMomentum:g=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:f,dragMomentum:g}}}function Ol(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function w8(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class v8 extends Vs{constructor(t){super(t),this.removeGroupControls=mt,this.removeListeners=mt,this.controls=new y8(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lg=e=>(t,n)=>{e&&$e.update(()=>e(t,n))};class C8 extends Vs{constructor(){super(...arguments),this.removePointerDownListener=mt}onPointerDown(t){this.session=new bw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ow(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Lg(t),onStart:Lg(n),onMove:s,onEnd:(l,f)=>{delete this.session,o&&$e.update(()=>o(l,f))}}}mount(){this.removePointerDownListener=Wr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function E8(){const e=P.useContext(xu);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,o=P.useId();return P.useEffect(()=>s(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const Jl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Pg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Xo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ee.test(e))e=parseFloat(e);else return e;const n=Pg(e,t.target.x),s=Pg(e,t.target.y);return`${n}% ${s}%`}},A8={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Ds.parse(e);if(o.length>5)return s;const l=Ds.createTransformer(e),f=typeof o[0]!="number"?1:0,g=n.x.scale*t.x,m=n.y.scale*t.y;o[0+f]/=g,o[1+f]/=m;const p=at(g,m,.5);return typeof o[2+f]=="number"&&(o[2+f]/=p),typeof o[3+f]=="number"&&(o[3+f]/=p),l(o)}};class S8 extends Xc.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;OS(b8),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Jl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,f=s.projection;return f&&(f.isPresent=l,o||t.layoutDependency!==n||n===void 0?f.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?f.promote():f.relegate()||$e.postRender(()=>{const g=f.getStack();(!g||!g.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Mw(e){const[t,n]=E8(),s=P.useContext(S0);return Xc.createElement(S8,{...e,layoutGroup:s,switchLayoutGroup:P.useContext(Ny),isPresent:t,safeToRemove:n})}const b8={borderRadius:{...Xo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xo,borderTopRightRadius:Xo,borderBottomLeftRadius:Xo,borderBottomRightRadius:Xo,boxShadow:A8},Dw=["TopLeft","TopRight","BottomLeft","BottomRight"],T8=Dw.length,Bg=e=>typeof e=="string"?parseFloat(e):e,jg=e=>typeof e=="number"||Ee.test(e);function N8(e,t,n,s,o,l){o?(e.opacity=at(0,n.opacity!==void 0?n.opacity:1,I8(s)),e.opacityExit=at(t.opacity!==void 0?t.opacity:1,0,_8(s))):l&&(e.opacity=at(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let f=0;f<T8;f++){const g=`border${Dw[f]}Radius`;let m=Fg(t,g),p=Fg(n,g);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||jg(m)===jg(p)?(e[g]=Math.max(at(Bg(m),Bg(p),s),0),(_r.test(p)||_r.test(m))&&(e[g]+="%")):e[g]=p}(t.rotate||n.rotate)&&(e.rotate=at(t.rotate||0,n.rotate||0,s))}function Fg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const I8=kw(0,.5,nw),_8=kw(.5,.95,mt);function kw(e,t,n){return s=>s<e?0:s>t?1:n(ka(e,t,s))}function Ug(e,t){e.min=t.min,e.max=t.max}function Fn(e,t){Ug(e.x,t.x),Ug(e.y,t.y)}function Vg(e,t,n,s,o){return e-=t,e=Uc(e,1/n,s),o!==void 0&&(e=Uc(e,1/o,s)),e}function R8(e,t=0,n=1,s=.5,o,l=e,f=e){if(_r.test(t)&&(t=parseFloat(t),t=at(f.min,f.max,t/100)-f.min),typeof t!="number")return;let g=at(l.min,l.max,s);e===l&&(g-=t),e.min=Vg(e.min,t,n,g,o),e.max=Vg(e.max,t,n,g,o)}function zg(e,t,[n,s,o],l,f){R8(e,t[n],t[s],t[o],t.scale,l,f)}const O8=["x","scaleX","originX"],M8=["y","scaleY","originY"];function Hg(e,t,n,s){zg(e.x,t,O8,n?n.x:void 0,s?s.x:void 0),zg(e.y,t,M8,n?n.y:void 0,s?s.y:void 0)}function Wg(e){return e.translate===0&&e.scale===1}function Lw(e){return Wg(e.x)&&Wg(e.y)}function D8(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Pw(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Gg(e){return On(e.x)/On(e.y)}class k8{constructor(){this.members=[]}add(t){F0(this.members,t),t.scheduleRender()}remove(t){if(U0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xg(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y;if((o||l)&&(s=`translate3d(${o}px, ${l}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:m,rotateX:p,rotateY:w}=n;m&&(s+=`rotate(${m}deg) `),p&&(s+=`rotateX(${p}deg) `),w&&(s+=`rotateY(${w}deg) `)}const f=e.x.scale*t.x,g=e.y.scale*t.y;return(f!==1||g!==1)&&(s+=`scale(${f}, ${g})`),s||"none"}const L8=(e,t)=>e.depth-t.depth;class P8{constructor(){this.children=[],this.isDirty=!1}add(t){F0(this.children,t),this.isDirty=!0}remove(t){U0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(L8),this.isDirty=!1,this.children.forEach(t)}}function B8(e,t){const n=performance.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(Zr(s),e(l-t))};return $e.read(s,!0),()=>Zr(s)}function j8(e){window.MotionDebug&&window.MotionDebug.record(e)}function F8(e){return e instanceof SVGElement&&e.tagName!=="svg"}function U8(e,t,n){const s=Cn(e)?e:uo(e);return s.start(j0("",s,t,n)),s.animation}const Yg=["","X","Y","Z"],V8={visibility:"hidden"},Qg=1e3;let z8=0;const ei={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Bw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(f={},g=t==null?void 0:t()){this.id=z8++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ei.totalNodes=ei.resolvedTargetDeltas=ei.recalculatedProjection=0,this.nodes.forEach(G8),this.nodes.forEach(Z8),this.nodes.forEach(q8),this.nodes.forEach(X8),j8(ei)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=f,this.root=g?g.root||g:this,this.path=g?[...g.path,g]:[],this.parent=g,this.depth=g?g.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new P8)}addEventListener(f,g){return this.eventHandlers.has(f)||this.eventHandlers.set(f,new V0),this.eventHandlers.get(f).add(g)}notifyListeners(f,...g){const m=this.eventHandlers.get(f);m&&m.notify(...g)}hasListeners(f){return this.eventHandlers.has(f)}mount(f,g=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=F8(f),this.instance=f;const{layoutId:m,layout:p,visualElement:w}=this.options;if(w&&!w.current&&w.mount(f),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),g&&(p||m)&&(this.isLayoutDirty=!0),e){let C;const A=()=>this.root.updateBlockedByResize=!1;e(f,()=>{this.root.updateBlockedByResize=!0,C&&C(),C=B8(A,250),Jl.hasAnimatedSinceResize&&(Jl.hasAnimatedSinceResize=!1,this.nodes.forEach(Zg))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&w&&(m||p)&&this.addEventListener("didUpdate",({delta:C,hasLayoutChanged:A,hasRelativeTargetChanged:R,layout:O})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||w.getDefaultTransition()||n6,{onLayoutAnimationStart:k,onLayoutAnimationComplete:_}=w.getProps(),N=!this.targetLayout||!Pw(this.targetLayout,O)||R,T=!A&&R;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||A&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(C,T);const B={...B0(M,"layout"),onPlay:k,onComplete:_};(w.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else A||Zg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=O})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const f=this.getStack();f&&f.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($8),this.animationId++)}getTransformTemplate(){const{visualElement:f}=this.options;return f&&f.getProps().transformTemplate}willUpdate(f=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let w=0;w<this.path.length;w++){const C=this.path[w];C.shouldResetTransform=!0,C.updateScroll("snapshot"),C.options.layoutRoot&&C.willUpdate(!1)}const{layoutId:g,layout:m}=this.options;if(g===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),f&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kg);return}this.isUpdating||this.nodes.forEach(Q8),this.isUpdating=!1,this.nodes.forEach(K8),this.nodes.forEach(H8),this.nodes.forEach(W8),this.clearAllSnapshots();const g=performance.now();qt.delta=Ms(0,1e3/60,g-qt.timestamp),qt.timestamp=g,qt.isProcessing=!0,bd.update.process(qt),bd.preRender.process(qt),bd.render.process(qt),qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Y8),this.sharedNodes.forEach(J8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const f=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:g}=this.options;g&&g.notify("LayoutMeasure",this.layout.layoutBox,f?f.layoutBox:void 0)}updateScroll(f="measure"){let g=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===f&&(g=!1),g&&(this.scroll={animationId:this.root.animationId,phase:f,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const f=this.isLayoutDirty||this.shouldResetTransform,g=this.projectionDelta&&!Lw(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,w=p!==this.prevTransformTemplateValue;f&&(g||Js(this.latestValues)||w)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(f=!0){const g=this.measurePageBox();let m=this.removeElementScroll(g);return f&&(m=this.removeTransform(m)),r6(m),{animationId:this.root.animationId,measuredBox:g,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:f}=this.options;if(!f)return Et();const g=f.measureViewportBox(),{scroll:m}=this.root;return m&&(fs(g.x,m.offset.x),fs(g.y,m.offset.y)),g}removeElementScroll(f){const g=Et();Fn(g,f);for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:w,options:C}=p;if(p!==this.root&&w&&C.layoutScroll){if(w.isRoot){Fn(g,f);const{scroll:A}=this.root;A&&(fs(g.x,-A.offset.x),fs(g.y,-A.offset.y))}fs(g.x,w.offset.x),fs(g.y,w.offset.y)}}return g}applyTransform(f,g=!1){const m=Et();Fn(m,f);for(let p=0;p<this.path.length;p++){const w=this.path[p];!g&&w.options.layoutScroll&&w.scroll&&w!==w.root&&Xi(m,{x:-w.scroll.offset.x,y:-w.scroll.offset.y}),Js(w.latestValues)&&Xi(m,w.latestValues)}return Js(this.latestValues)&&Xi(m,this.latestValues),m}removeTransform(f){const g=Et();Fn(g,f);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Js(p.latestValues))continue;nh(p.latestValues)&&p.updateSnapshot();const w=Et(),C=p.measurePageBox();Fn(w,C),Hg(g,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,w)}return Js(this.latestValues)&&Hg(g,this.latestValues),g}setTargetDelta(f){this.targetDelta=f,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(f){this.options={...this.options,...f,crossfade:f.crossfade!==void 0?f.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(f=!1){var g;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(f||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((g=this.parent)===null||g===void 0)&&g.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:C,layoutId:A}=this.options;if(!(!this.layout||!(C||A))){if(this.resolvedRelativeTargetAt=qt.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),fa(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Et(),this.targetWithTransforms=Et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),s8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),_w(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Et(),this.relativeTargetOrigin=Et(),fa(this.relativeTargetOrigin,this.target,R.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ei.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nh(this.parent.latestValues)||Iw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var f;const g=this.getLead(),m=!!this.resumingFrom||this!==g;let p=!0;if((this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===qt.timestamp&&(p=!1),p)return;const{layout:w,layoutId:C}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(w||C))return;Fn(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,R=this.treeScale.y;h8(this.layoutCorrected,this.treeScale,this.path,m),g.layout&&!g.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(g.target=g.layout.layoutBox);const{target:O}=g;if(!O){this.projectionTransform&&(this.projectionDelta=Gi(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Gi(),this.projectionDeltaWithTransform=Gi());const M=this.projectionTransform;da(this.projectionDelta,this.layoutCorrected,O,this.latestValues),this.projectionTransform=Xg(this.projectionDelta,this.treeScale),(this.projectionTransform!==M||this.treeScale.x!==A||this.treeScale.y!==R)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",O)),ei.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(f=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),f){const g=this.getStack();g&&g.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(f,g=!1){const m=this.snapshot,p=m?m.latestValues:{},w={...this.latestValues},C=Gi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!g;const A=Et(),R=m?m.source:void 0,O=this.layout?this.layout.source:void 0,M=R!==O,k=this.getStack(),_=!k||k.members.length<=1,N=!!(M&&!_&&this.options.crossfade===!0&&!this.path.some(t6));this.animationProgress=0;let T;this.mixTargetDelta=B=>{const V=B/1e3;qg(C.x,f.x,V),qg(C.y,f.y,V),this.setTargetDelta(C),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fa(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e6(this.relativeTarget,this.relativeTargetOrigin,A,V),T&&D8(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Et()),Fn(T,this.relativeTarget)),M&&(this.animationValues=w,N8(w,p,this.latestValues,V,N,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(f){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{Jl.hasAnimatedSinceResize=!0,this.currentAnimation=U8(0,Qg,{...f,onUpdate:g=>{this.mixTargetDelta(g),f.onUpdate&&f.onUpdate(g)},onComplete:()=>{f.onComplete&&f.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const f=this.getStack();f&&f.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Qg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const f=this.getLead();let{targetWithTransforms:g,target:m,layout:p,latestValues:w}=f;if(!(!g||!m||!p)){if(this!==f&&this.layout&&p&&jw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Et();const C=On(this.layout.layoutBox.x);m.x.min=f.target.x.min,m.x.max=m.x.min+C;const A=On(this.layout.layoutBox.y);m.y.min=f.target.y.min,m.y.max=m.y.min+A}Fn(g,m),Xi(g,w),da(this.projectionDeltaWithTransform,this.layoutCorrected,g,w)}}registerSharedNode(f,g){this.sharedNodes.has(f)||this.sharedNodes.set(f,new k8),this.sharedNodes.get(f).add(g);const p=g.options.initialPromotionConfig;g.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(g):void 0})}isLead(){const f=this.getStack();return f?f.lead===this:!0}getLead(){var f;const{layoutId:g}=this.options;return g?((f=this.getStack())===null||f===void 0?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:g}=this.options;return g?(f=this.getStack())===null||f===void 0?void 0:f.prevLead:void 0}getStack(){const{layoutId:f}=this.options;if(f)return this.root.sharedNodes.get(f)}promote({needsReset:f,transition:g,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),f&&(this.projectionDelta=void 0,this.needsReset=!0),g&&this.setOptions({transition:g})}relegate(){const f=this.getStack();return f?f.relegate(this):!1}resetRotation(){const{visualElement:f}=this.options;if(!f)return;let g=!1;const{latestValues:m}=f;if((m.rotate||m.rotateX||m.rotateY||m.rotateZ)&&(g=!0),!g)return;const p={};for(let w=0;w<Yg.length;w++){const C="rotate"+Yg[w];m[C]&&(p[C]=m[C],f.setStaticValue(C,0))}f.render();for(const w in p)f.setStaticValue(w,p[w]);f.scheduleRender()}getProjectionStyles(f){var g,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return V8;const p={visibility:""},w=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=$l(f==null?void 0:f.pointerEvents)||"",p.transform=w?w(this.latestValues,""):"none",p;const C=this.getLead();if(!this.projectionDelta||!this.layout||!C.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=$l(f==null?void 0:f.pointerEvents)||""),this.hasProjected&&!Js(this.latestValues)&&(M.transform=w?w({},""):"none",this.hasProjected=!1),M}const A=C.animationValues||C.latestValues;this.applyTransformsToTarget(),p.transform=Xg(this.projectionDeltaWithTransform,this.treeScale,A),w&&(p.transform=w(A,p.transform));const{x:R,y:O}=this.projectionDelta;p.transformOrigin=`${R.origin*100}% ${O.origin*100}% 0`,C.animationValues?p.opacity=C===this?(m=(g=A.opacity)!==null&&g!==void 0?g:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:p.opacity=C===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const M in Dc){if(A[M]===void 0)continue;const{correct:k,applyTo:_}=Dc[M],N=p.transform==="none"?A[M]:k(A[M],C);if(_){const T=_.length;for(let B=0;B<T;B++)p[_[B]]=N}else p[M]=N}return this.options.layoutId&&(p.pointerEvents=C===this?$l(f==null?void 0:f.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(f=>{var g;return(g=f.currentAnimation)===null||g===void 0?void 0:g.stop()}),this.root.nodes.forEach(Kg),this.root.sharedNodes.clear()}}}function H8(e){e.updateLayout()}function W8(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:l}=e.options,f=n.source!==e.layout.source;l==="size"?zn(C=>{const A=f?n.measuredBox[C]:n.layoutBox[C],R=On(A);A.min=s[C].min,A.max=A.min+R}):jw(l,n.layoutBox,s)&&zn(C=>{const A=f?n.measuredBox[C]:n.layoutBox[C],R=On(s[C]);A.max=A.min+R,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[C].max=e.relativeTarget[C].min+R)});const g=Gi();da(g,s,n.layoutBox);const m=Gi();f?da(m,e.applyTransform(o,!0),n.measuredBox):da(m,s,n.layoutBox);const p=!Lw(g);let w=!1;if(!e.resumeFrom){const C=e.getClosestProjectingParent();if(C&&!C.resumeFrom){const{snapshot:A,layout:R}=C;if(A&&R){const O=Et();fa(O,n.layoutBox,A.layoutBox);const M=Et();fa(M,s,R.layoutBox),Pw(O,M)||(w=!0),C.options.layoutRoot&&(e.relativeTarget=M,e.relativeTargetOrigin=O,e.relativeParent=C)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:m,layoutDelta:g,hasLayoutChanged:p,hasRelativeTargetChanged:w})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function G8(e){ei.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function X8(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Y8(e){e.clearSnapshot()}function Kg(e){e.clearMeasurements()}function Q8(e){e.isLayoutDirty=!1}function K8(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Zg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Z8(e){e.resolveTargetDelta()}function q8(e){e.calcProjection()}function $8(e){e.resetRotation()}function J8(e){e.removeLeadSnapshot()}function qg(e,t,n){e.translate=at(t.translate,0,n),e.scale=at(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $g(e,t,n,s){e.min=at(t.min,n.min,s),e.max=at(t.max,n.max,s)}function e6(e,t,n,s){$g(e.x,t.x,n.x,s),$g(e.y,t.y,n.y,s)}function t6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const n6={duration:.45,ease:[.4,0,.1,1]},Jg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),em=Jg("applewebkit/")&&!Jg("chrome/")?Math.round:mt;function tm(e){e.min=em(e.min),e.max=em(e.max)}function r6(e){tm(e.x),tm(e.y)}function jw(e,t,n){return e==="position"||e==="preserve-aspect"&&!eh(Gg(t),Gg(n),.2)}const s6=Bw({attachResizeListener:(e,t)=>Vr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pd={current:void 0},Fw=Bw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Pd.current){const e=new s6({});e.mount(window),e.setOptions({layoutScroll:!0}),Pd.current=e}return Pd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),i6={pan:{Feature:C8},drag:{Feature:v8,ProjectionNode:Fw,MeasureLayout:Mw}},o6=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function a6(e){const t=o6.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function sh(e,t,n=1){const[s,o]=a6(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const f=l.trim();return Cw(f)?parseFloat(f):f}else return Yf(o)?sh(o,t,n+1):o}function l6(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const l=o.get();if(!Yf(l))return;const f=sh(l,s);f&&o.set(f)});for(const o in t){const l=t[o];if(!Yf(l))continue;const f=sh(l,s);f&&(t[o]=f,n||(n={}),n[o]===void 0&&(n[o]=l))}return{target:t,transitionEnd:n}}const c6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Uw=e=>c6.has(e),u6=e=>Object.keys(e).some(Uw),nm=e=>e===wi||e===Ee,rm=(e,t)=>parseFloat(e.split(", ")[t]),sm=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/);if(o)return rm(o[1],t);{const l=s.match(/^matrix\((.+)\)$/);return l?rm(l[1],e):0}},d6=new Set(["x","y","z"]),f6=Wa.filter(e=>!d6.has(e));function h6(e){const t=[];return f6.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const fo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:sm(4,13),y:sm(5,14)};fo.translateX=fo.x;fo.translateY=fo.y;const p6=(e,t,n)=>{const s=t.measureViewportBox(),o=t.current,l=getComputedStyle(o),{display:f}=l,g={};f==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(p=>{g[p]=fo[p](s,l)}),t.render();const m=t.measureViewportBox();return n.forEach(p=>{const w=t.getValue(p);w&&w.jump(g[p]),e[p]=fo[p](m,l)}),e},g6=(e,t,n={},s={})=>{t={...t},s={...s};const o=Object.keys(t).filter(Uw);let l=[],f=!1;const g=[];if(o.forEach(m=>{const p=e.getValue(m);if(!e.hasValue(m))return;let w=n[m],C=Go(w);const A=t[m];let R;if(Lc(A)){const O=A.length,M=A[0]===null?1:0;w=A[M],C=Go(w);for(let k=M;k<O&&A[k]!==null;k++)R?M0(Go(A[k])===R):R=Go(A[k])}else R=Go(A);if(C!==R)if(nm(C)&&nm(R)){const O=p.get();typeof O=="string"&&p.set(parseFloat(O)),typeof A=="string"?t[m]=parseFloat(A):Array.isArray(A)&&R===Ee&&(t[m]=A.map(parseFloat))}else C!=null&&C.transform&&(R!=null&&R.transform)&&(w===0||A===0)?w===0?p.set(R.transform(w)):t[m]=C.transform(A):(f||(l=h6(e),f=!0),g.push(m),s[m]=s[m]!==void 0?s[m]:t[m],p.jump(A))}),g.length){const m=g.indexOf("height")>=0?window.pageYOffset:null,p=p6(t,e,g);return l.length&&l.forEach(([w,C])=>{e.getValue(w).set(C)}),e.render(),yu&&m!==null&&window.scrollTo({top:m}),{target:p,transitionEnd:s}}else return{target:t,transitionEnd:s}};function m6(e,t,n,s){return u6(t)?g6(e,t,n,s):{target:t,transitionEnd:s}}const x6=(e,t,n,s)=>{const o=l6(e,t,s);return t=o.target,s=o.transitionEnd,m6(e,t,n,s)},ih={current:null},Vw={current:!1};function y6(){if(Vw.current=!0,!!yu)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ih.current=e.matches;e.addListener(t),t()}else ih.current=!1}function w6(e,t,n){const{willChange:s}=t;for(const o in t){const l=t[o],f=n[o];if(Cn(l))e.addValue(o,l),Fc(s)&&s.add(o);else if(Cn(f))e.addValue(o,uo(l,{owner:e})),Fc(s)&&s.remove(o);else if(f!==l)if(e.hasValue(o)){const g=e.getValue(o);!g.hasAnimated&&g.set(l)}else{const g=e.getStaticValue(o);e.addValue(o,uo(g!==void 0?g:l,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const im=new WeakMap,zw=Object.keys(Da),v6=zw.length,om=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],C6=A0.length;class E6{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,visualState:l},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>$e.render(this.render,!1,!0);const{latestValues:g,renderState:m}=l;this.latestValues=g,this.baseTarget={...g},this.initialValues=n.initial?{...g}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.isControllingVariants=vu(n),this.isVariantNode=Ty(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...w}=this.scrapeMotionValuesFromProps(n,{});for(const C in w){const A=w[C];g[C]!==void 0&&Cn(A)&&(A.set(g[C],!1),Fc(p)&&p.add(C))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,im.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Vw.current||y6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ih.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){im.delete(this.current),this.projection&&this.projection.unmount(),Zr(this.notifyUpdate),Zr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=yi.has(t),o=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&$e.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),l()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,o,l){let f,g;for(let m=0;m<v6;m++){const p=zw[m],{isEnabled:w,Feature:C,ProjectionNode:A,MeasureLayout:R}=Da[p];A&&(f=A),w(n)&&(!this.features[p]&&C&&(this.features[p]=new C(this)),R&&(g=R))}if((this.type==="html"||this.type==="svg")&&!this.projection&&f){this.projection=new f(this.latestValues,this.parent&&this.parent.projection);const{layoutId:m,layout:p,drag:w,dragConstraints:C,layoutScroll:A,layoutRoot:R}=n;this.projection.setOptions({layoutId:m,layout:p,alwaysMeasureLayout:!!w||C&&Hi(C),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:l,layoutScroll:A,layoutRoot:R})}return g}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<om.length;s++){const o=om[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l=t["on"+o];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=w6(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<C6;s++){const o=A0[s],l=this.props[o];(Ma(l)||l===!1)&&(n[o]=l)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=uo(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,o=typeof s=="string"||typeof s=="object"?(n=O0(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Cn(l)?l:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new V0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Hw extends E6{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:o},l){let f=FT(s,t||{},this);if(o&&(n&&(n=o(n)),s&&(s=o(s)),f&&(f=o(f))),l){BT(this,s,f);const g=x6(this,s,f,n);n=g.transitionEnd,s=g.target}return{transition:t,transitionEnd:n,...s}}}function A6(e){return window.getComputedStyle(e)}class S6 extends Hw{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(yi.has(n)){const s=P0(n);return s&&s.default||0}else{const s=A6(t),o=(Ry(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Rw(t,n)}build(t,n,s,o){T0(t,n,s,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return R0(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Cn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,o){Py(t,n,s,o)}}class b6 extends Hw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(yi.has(n)){const s=P0(n);return s&&s.default||0}return n=By.has(n)?n:C0(n),t.getAttribute(n)}measureInstanceViewportBox(){return Et()}scrapeMotionValuesFromProps(t,n){return Fy(t,n)}build(t,n,s,o){I0(t,n,s,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,s,o){jy(t,n,s,o)}mount(t){this.isSVGTag=_0(t.tagName),super.mount(t)}}const T6=(e,t)=>b0(e)?new b6(t,{enableHardwareAcceleration:!1}):new S6(t,{enableHardwareAcceleration:!0}),N6={layout:{ProjectionNode:Fw,MeasureLayout:Mw}},I6={...e8,...vb,...i6,...N6},qr=_S((e,t)=>ab(e,t,I6,T6));function Ww(){const e=P.useRef(!1);return v0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function _6(){const e=Ww(),[t,n]=P.useState(0),s=P.useCallback(()=>{e.current&&n(t+1)},[t]);return[P.useCallback(()=>$e.postRender(s),[s]),t]}class R6 extends P.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function O6({children:e,isPresent:t}){const n=P.useId(),s=P.useRef(null),o=P.useRef({width:0,height:0,top:0,left:0});return P.useInsertionEffect(()=>{const{width:l,height:f,top:g,left:m}=o.current;if(t||!s.current||!l||!f)return;s.current.dataset.motionPopId=n;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${f}px !important;
            top: ${g}px !important;
            left: ${m}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),P.createElement(R6,{isPresent:t,childRef:s,sizeRef:o},P.cloneElement(e,{ref:s}))}const Bd=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:f})=>{const g=Uy(M6),m=P.useId(),p=P.useMemo(()=>({id:m,initial:t,isPresent:n,custom:o,onExitComplete:w=>{g.set(w,!0);for(const C of g.values())if(!C)return;s&&s()},register:w=>(g.set(w,!1),()=>g.delete(w))}),l?void 0:[n]);return P.useMemo(()=>{g.forEach((w,C)=>g.set(C,!1))},[n]),P.useEffect(()=>{!n&&!g.size&&s&&s()},[n]),f==="popLayout"&&(e=P.createElement(O6,{isPresent:n},e)),P.createElement(xu.Provider,{value:p},e)};function M6(){return new Map}function D6(e){return P.useEffect(()=>()=>e(),[])}const ti=e=>e.key||"";function k6(e,t){e.forEach(n=>{const s=ti(n);t.set(s,n)})}function L6(e){const t=[];return P.Children.forEach(e,n=>{P.isValidElement(n)&&t.push(n)}),t}const P6=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:o,presenceAffectsLayout:l=!0,mode:f="sync"})=>{const g=P.useContext(S0).forceRender||_6()[0],m=Ww(),p=L6(e);let w=p;const C=P.useRef(new Map).current,A=P.useRef(w),R=P.useRef(new Map).current,O=P.useRef(!0);if(v0(()=>{O.current=!1,k6(p,R),A.current=w}),D6(()=>{O.current=!0,R.clear(),C.clear()}),O.current)return P.createElement(P.Fragment,null,w.map(N=>P.createElement(Bd,{key:ti(N),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:l,mode:f},N)));w=[...w];const M=A.current.map(ti),k=p.map(ti),_=M.length;for(let N=0;N<_;N++){const T=M[N];k.indexOf(T)===-1&&!C.has(T)&&C.set(T,void 0)}return f==="wait"&&C.size&&(w=[]),C.forEach((N,T)=>{if(k.indexOf(T)!==-1)return;const B=R.get(T);if(!B)return;const V=M.indexOf(T);let X=N;if(!X){const U=()=>{C.delete(T);const Z=Array.from(R.keys()).filter(W=>!k.includes(W));if(Z.forEach(W=>R.delete(W)),A.current=p.filter(W=>{const de=ti(W);return de===T||Z.includes(de)}),!C.size){if(m.current===!1)return;g(),s&&s()}};X=P.createElement(Bd,{key:ti(B),isPresent:!1,onExitComplete:U,custom:t,presenceAffectsLayout:l,mode:f},B),C.set(T,X)}w.splice(V,0,X)}),w=w.map(N=>{const T=N.key;return C.has(T)?N:P.createElement(Bd,{key:ti(N),isPresent:!0,presenceAffectsLayout:l,mode:f},N)}),P.createElement(P.Fragment,null,C.size?w:w.map(N=>P.cloneElement(N)))};var B6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const j6=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ke=(e,t)=>{const n=P.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:f,children:g,...m},p)=>P.createElement("svg",{ref:p,...B6,width:o,height:o,stroke:s,strokeWidth:f?Number(l)*24/Number(o):l,className:`lucide lucide-${j6(e)}`,...m},[...t.map(([w,C])=>P.createElement(w,C)),...(Array.isArray(g)?g:[g])||[]]));return n.displayName=`${e}`,n},F6=ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Co=ke("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]),U6=ke("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),ks=ke("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),am=ke("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),lm=ke("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),La=ke("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Qa=ke("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Ka=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),V6=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),z6=ke("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),H6=ke("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),W6=ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Vc=ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Gw=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),G6=ke("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),X6=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Xw=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Y6=ke("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Q6=ke("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),K6=ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),jd=ke("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Z6=ke("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),q6=ke("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]),$6=ke("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),cm=ke("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),Yw=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Fd=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),J6=ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),eN=ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),tN=ke("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),z0=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),zc=ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Eo=ke("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]),H0=ke("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]]),nN=()=>{const[e,t]=P.useState({email:"",password:""}),[n,s]=P.useState(""),[o,l]=P.useState(!1),{login:f}=P.useContext(Us),g=Xt(),m=async p=>{var w,C;p.preventDefault(),s(""),l(!0);try{const A=await _e.post("/auth/login",e);f(A.data.token,A.data),A.data.role==="student"?g("/student/dashboard"):A.data.role==="teacher"?g("/teacher/dashboard"):A.data.role==="admin"&&g("/admin/dashboard")}catch(A){s(((C=(w=A.response)==null?void 0:w.data)==null?void 0:C.message)||"Login failed. Please try again.")}finally{l(!1)}};return v.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-gradient-to-br from-sky-300/30 to-emerald-300/30 rounded-full blur-3xl"}),v.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-gradient-to-br from-lime-300/30 to-teal-300/30 rounded-full blur-3xl"}),v.jsx("div",{className:"absolute top-[45%] left-[5%] w-72 h-72 bg-gradient-to-br from-cyan-200/25 to-sky-200/25 rounded-full blur-2xl"}),v.jsxs(qr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"glass-panel w-full max-w-md p-8 rounded-2xl relative z-10 border border-white/40 bg-white/70 backdrop-blur-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent mb-2",children:"Welcome back"}),v.jsx("p",{className:"text-slate-600",children:"Sign in to access your dashboard"})]}),n&&v.jsxs("div",{className:"bg-red-50/80 border border-red-200/80 text-red-700 p-3 rounded-xl mb-6 flex items-center gap-2 text-sm backdrop-blur-sm",children:[v.jsx(F6,{size:16}),n]}),v.jsxs("form",{onSubmit:m,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email address"}),v.jsxs("div",{className:"relative",children:[v.jsx(Xw,{className:"absolute left-3 top-3 text-slate-400",size:20}),v.jsx("input",{type:"email",required:!0,className:"w-full bg-white/60 border border-slate-200 text-slate-900 pl-10 pr-4 py-2.5 rounded-xl focus:ring-2 focus:ring-sky-400/40 focus:border-sky-400 outline-none transition-all placeholder-slate-500 backdrop-blur-sm",placeholder:"name@university.edu",value:e.email,onChange:p=>t({...e,email:p.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx(Gw,{className:"absolute left-3 top-3 text-slate-400",size:20}),v.jsx("input",{type:"password",required:!0,className:"w-full bg-white/60 border border-slate-200 text-slate-900 pl-10 pr-4 py-2.5 rounded-xl focus:ring-2 focus:ring-sky-400/40 focus:border-sky-400 outline-none transition-all placeholder-slate-500 backdrop-blur-sm",placeholder:"",value:e.password,onChange:p=>t({...e,password:p.target.value})})]})]}),v.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-sky-500 to-emerald-500 hover:from-sky-600 hover:to-emerald-600 text-white font-semibold py-3 rounded-xl transition-all duration-200 transform hover:scale-[1.02] shadow-lg shadow-sky-500/25 flex items-center justify-center gap-2",children:o?"Signing in...":v.jsxs(v.Fragment,{children:[v.jsx(G6,{size:20}),"Sign in"]})})]}),v.jsxs("div",{className:"mt-6 text-center text-sm text-slate-600",children:["Don't have an account?"," ",v.jsx(J2,{to:"/register",className:"text-sky-600 hover:text-sky-700 font-medium hover:underline",children:"Register here"})]})]})]})},rN=()=>{const e=Xt(),{login:t}=P.useContext(Us),[n,s]=P.useState("student"),[o,l]=P.useState(!1),[f,g]=P.useState(""),[m,p]=P.useState({name:"",email:"",password:"",rollNumber:"",department:"",semester:"",designation:"",phone:""}),w=A=>{p({...m,[A.target.name]:A.target.value})},C=async A=>{var R,O;A.preventDefault(),g(""),l(!0);try{const M={name:m.name,email:m.email,password:m.password,role:n,department:m.department,...n==="student"&&{rollNumber:m.rollNumber,semester:m.semester},...n==="teacher"&&{designation:m.designation,phone:m.phone}},k=await _e.post("/auth/register",M);t(k.data.token,k.data),e(n==="student"?"/student/dashboard":"/teacher/dashboard")}catch(M){g(((O=(R=M.response)==null?void 0:R.data)==null?void 0:O.message)||"Registration failed")}finally{l(!1)}};return v.jsxs("div",{className:"min-h-screen relative overflow-hidden bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 py-10 px-4 flex items-center justify-center",children:[v.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[v.jsx("div",{className:"absolute top-[10%] right-[10%] w-80 h-80 bg-gradient-to-br from-sky-300/30 to-emerald-300/30 rounded-full blur-3xl"}),v.jsx("div",{className:"absolute bottom-[10%] left-[10%] w-80 h-80 bg-gradient-to-br from-lime-300/30 to-teal-300/30 rounded-full blur-3xl"}),v.jsx("div",{className:"absolute top-[45%] left-[5%] w-72 h-72 bg-gradient-to-br from-cyan-200/25 to-sky-200/25 rounded-full blur-2xl"})]}),v.jsxs(qr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"glass-panel w-full max-w-2xl p-8 rounded-2xl relative z-10 border border-white/40 bg-white/70 backdrop-blur-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent mb-2",children:"Create Account"}),v.jsx("p",{className:"text-slate-600",children:"Join the Smart Attendance System"})]}),v.jsxs("div",{className:"flex bg-white/60 p-1 rounded-xl mb-8 max-w-xs mx-auto border border-slate-200 backdrop-blur-sm",children:[v.jsxs("button",{type:"button",onClick:()=>s("student"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg transition-all text-sm font-medium ${n==="student"?"bg-gradient-to-r from-sky-500 to-emerald-500 text-white shadow-lg":"text-slate-500 hover:text-slate-700"}`,children:[v.jsx(z6,{size:18})," Student"]}),v.jsxs("button",{type:"button",onClick:()=>s("teacher"),className:`flex-1 flex items-center justify-center gap-2 py-2 rounded-lg transition-all text-sm font-medium ${n==="teacher"?"bg-gradient-to-r from-sky-500 to-emerald-500 text-white shadow-lg":"text-slate-500 hover:text-slate-700"}`,children:[v.jsx(am,{size:18})," Teacher"]})]}),f&&v.jsx("div",{className:"bg-red-50/80 border border-red-200/80 text-red-700 p-3 rounded-xl mb-6 text-sm text-center backdrop-blur-sm",children:f}),v.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"col-span-1 md:col-span-2 space-y-4",children:[v.jsx(Lr,{icon:z0,type:"text",name:"name",placeholder:"Full Name",value:m.name,onChange:w}),v.jsx(Lr,{icon:Xw,type:"email",name:"email",placeholder:"Email Address",value:m.email,onChange:w}),v.jsx(Lr,{icon:Gw,type:"password",name:"password",placeholder:"Password",value:m.password,onChange:w})]}),v.jsx("div",{className:"col-span-1 md:col-span-2 border-t border-slate-200 my-2"}),n==="student"?v.jsxs(v.Fragment,{children:[v.jsx(Lr,{icon:H6,type:"text",name:"rollNumber",placeholder:"Roll Number",value:m.rollNumber,onChange:w}),v.jsx(Lr,{icon:lm,type:"text",name:"department",placeholder:"Department (e.g., CSE)",value:m.department,onChange:w}),v.jsx(Lr,{icon:ks,type:"number",name:"semester",placeholder:"Semester (1-8)",value:m.semester,onChange:w})]}):v.jsxs(v.Fragment,{children:[v.jsx(Lr,{icon:lm,type:"text",name:"department",placeholder:"Department",value:m.department,onChange:w}),v.jsx(Lr,{icon:am,type:"text",name:"designation",placeholder:"Designation",value:m.designation,onChange:w}),v.jsx(Lr,{icon:K6,type:"text",name:"phone",placeholder:"Phone Number",value:m.phone,onChange:w})]}),v.jsx("div",{className:"col-span-1 md:col-span-2 mt-4",children:v.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-sky-500 to-emerald-500 hover:from-sky-600 hover:to-emerald-600 text-white font-semibold py-3 rounded-xl transition-all duration-200 transform hover:scale-[1.02] shadow-lg shadow-sky-500/25",children:o?"Creating Account...":"Register Now"})})]}),v.jsxs("div",{className:"mt-6 text-center text-sm text-slate-600",children:["Already have an account?"," ",v.jsx(J2,{to:"/login",className:"text-sky-600 hover:text-sky-700 font-medium hover:underline",children:"Sign in"})]})]})]})},Lr=({icon:e,type:t,name:n,placeholder:s,value:o,onChange:l})=>v.jsxs("div",{className:"relative",children:[v.jsx(e,{className:"absolute left-3 top-3 text-slate-400",size:18}),v.jsx("input",{type:t,name:n,placeholder:s,required:!0,value:o,onChange:l,className:"w-full bg-white/60 border border-slate-200 text-slate-900 pl-10 pr-4 py-2.5 rounded-xl focus:ring-2 focus:ring-sky-400/40 focus:border-sky-400 outline-none transition-all placeholder-slate-500 backdrop-blur-sm text-sm"})]}),vn=({title:e})=>{const{user:t,logout:n}=P.useContext(Us),s=Xt(),o=()=>{n(),s("/login")};return v.jsxs("nav",{className:"glass-panel sticky top-4 z-50 mx-6 flex items-center justify-between px-7 py-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-2xl bg-gradient-to-r from-sky-500 to-emerald-500 shadow-lg shadow-sky-500/25",children:v.jsx($6,{className:"h-5 w-5 text-white"})}),v.jsx("span",{className:"text-lg font-semibold tracking-tight text-slate-900",children:e||"Smart Attendance"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"hidden md:flex flex-col items-end mr-3",children:[v.jsx("span",{className:"text-sm font-medium text-slate-700",children:t==null?void 0:t.name}),v.jsx("span",{className:"text-xs text-slate-400 capitalize",children:t==null?void 0:t.role})]}),v.jsx("button",{onClick:o,className:"inline-flex items-center justify-center rounded-xl border border-red-100 bg-white px-3 py-2 text-xs font-medium text-red-500 shadow-sm transition-all hover:bg-red-50 hover:shadow-md",title:"Logout",children:v.jsx(X6,{size:18})})]})]})};var ae;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ae||(ae={}));var um=new Map([[ae.QR_CODE,"QR_CODE"],[ae.AZTEC,"AZTEC"],[ae.CODABAR,"CODABAR"],[ae.CODE_39,"CODE_39"],[ae.CODE_93,"CODE_93"],[ae.CODE_128,"CODE_128"],[ae.DATA_MATRIX,"DATA_MATRIX"],[ae.MAXICODE,"MAXICODE"],[ae.ITF,"ITF"],[ae.EAN_13,"EAN_13"],[ae.EAN_8,"EAN_8"],[ae.PDF_417,"PDF_417"],[ae.RSS_14,"RSS_14"],[ae.RSS_EXPANDED,"RSS_EXPANDED"],[ae.UPC_A,"UPC_A"],[ae.UPC_E,"UPC_E"],[ae.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),dm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(dm||(dm={}));function sN(e){return Object.values(ae).includes(e)}var Ls;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Ls||(Ls={}));var rr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Ls.SCAN_TYPE_CAMERA,Ls.SCAN_TYPE_FILE],e}(),Qw=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!um.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,um.get(t))},e}(),fm=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),oh;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(oh||(oh={}));var Kw=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:oh.UNKWOWN_ERROR}},e}(),Zw=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Ar(e){return typeof e>"u"||e===null}function iN(e,t,n){return e>n?n:e<t?t:e}var Yi=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),He=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),hm=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),qw=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var s=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(s,"."),!0),!1}for(var o=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(o),f=Object.keys(t),g=0,m=f;g<m.length;g++){var p=m[g];if(l.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),ah={exports:{}};(function(e,t){(function(n,s){s(t)})(Lo,function(n){function s(S){return S==null}var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,r){S.__proto__=r}||function(S,r){for(var i in r)r.hasOwnProperty(i)&&(S[i]=r[i])};function l(S,r){o(S,r);function i(){this.constructor=S}S.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}function f(S,r){var i=Object.setPrototypeOf;i?i(S,r):S.__proto__=r}function g(S,r){r===void 0&&(r=S.constructor);var i=Error.captureStackTrace;i&&i(S,r)}var m=function(S){l(r,S);function r(i){var a=this.constructor,c=S.call(this,i)||this;return Object.defineProperty(c,"name",{value:a.name,enumerable:!1}),f(c,a.prototype),g(c),c}return r}(Error);class p extends m{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}p.kind="Exception";class w extends p{}w.kind="ArgumentException";class C extends p{}C.kind="IllegalArgumentException";class A{constructor(r){if(this.binarizer=r,r===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,i){return this.binarizer.getBlackRow(r,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,i,a,c){const u=this.binarizer.getLuminanceSource().crop(r,i,a,c);return new A(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class R extends p{static getChecksumInstance(){return new R}}R.kind="ChecksumException";class O{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class M{static arraycopy(r,i,a,c,u){for(;u--;)a[c++]=r[i++]}static currentTimeMillis(){return Date.now()}}class k extends p{}k.kind="IndexOutOfBoundsException";class _ extends k{constructor(r=void 0,i=void 0){super(i),this.index=r,this.message=i}}_.kind="ArrayIndexOutOfBoundsException";class N{static fill(r,i){for(let a=0,c=r.length;a<c;a++)r[a]=i}static fillWithin(r,i,a,c){N.rangeCheck(r.length,i,a);for(let u=i;u<a;u++)r[u]=c}static rangeCheck(r,i,a){if(i>a)throw new C("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new _(i);if(a>r)throw new _(a)}static asList(...r){return r}static create(r,i,a){return Array.from({length:r}).map(u=>Array.from({length:i}).fill(a))}static createInt32Array(r,i,a){return Array.from({length:r}).map(u=>Int32Array.from({length:i}).fill(a))}static equals(r,i){if(!r||!i||!r.length||!i.length||r.length!==i.length)return!1;for(let a=0,c=r.length;a<c;a++)if(r[a]!==i[a])return!1;return!0}static hashCode(r){if(r===null)return 0;let i=1;for(const a of r)i=31*i+a;return i}static fillUint8Array(r,i){for(let a=0;a!==r.length;a++)r[a]=i}static copyOf(r,i){return r.slice(0,i)}static copyOfUint8Array(r,i){if(r.length<=i){const a=new Uint8Array(i);return a.set(r),a}return r.slice(0,i)}static copyOfRange(r,i,a){const c=a-i,u=new Int32Array(c);return M.arraycopy(r,i,u,0,c),u}static binarySearch(r,i,a){a===void 0&&(a=N.numberComparator);let c=0,u=r.length-1;for(;c<=u;){const d=u+c>>1,h=a(i,r[d]);if(h>0)c=d+1;else if(h<0)u=d-1;else return d}return-c-1}static numberComparator(r,i){return r-i}}class T{static numberOfTrailingZeros(r){let i;if(r===0)return 32;let a=31;return i=r<<16,i!==0&&(a-=16,r=i),i=r<<8,i!==0&&(a-=8,r=i),i=r<<4,i!==0&&(a-=4,r=i),i=r<<2,i!==0&&(a-=2,r=i),a-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let i=1;return r>>>16||(i+=16,r<<=16),r>>>24||(i+=8,r<<=8),r>>>28||(i+=4,r<<=4),r>>>30||(i+=2,r<<=2),i-=r>>>31,i}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,i){return Math.trunc(r/i)}static parseInt(r,i=void 0){return parseInt(r,i)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class B{constructor(r,i){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,i==null?this.bits=B.makeArray(r):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const i=B.makeArray(r);M.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const i=this.size;if(r>=i)return i;const a=this.bits;let c=Math.floor(r/32),u=a[c];u&=~((1<<(r&31))-1);const d=a.length;for(;u===0;){if(++c===d)return i;u=a[c]}const h=c*32+T.numberOfTrailingZeros(u);return h>i?i:h}getNextUnset(r){const i=this.size;if(r>=i)return i;const a=this.bits;let c=Math.floor(r/32),u=~a[c];u&=~((1<<(r&31))-1);const d=a.length;for(;u===0;){if(++c===d)return i;u=~a[c]}const h=c*32+T.numberOfTrailingZeros(u);return h>i?i:h}setBulk(r,i){this.bits[Math.floor(r/32)]=i}setRange(r,i){if(i<r||r<0||i>this.size)throw new C;if(i===r)return;i--;const a=Math.floor(r/32),c=Math.floor(i/32),u=this.bits;for(let d=a;d<=c;d++){const h=d>a?0:r&31,y=(2<<(d<c?31:i&31))-(1<<h);u[d]|=y}}clear(){const r=this.bits.length,i=this.bits;for(let a=0;a<r;a++)i[a]=0}isRange(r,i,a){if(i<r||r<0||i>this.size)throw new C;if(i===r)return!0;i--;const c=Math.floor(r/32),u=Math.floor(i/32),d=this.bits;for(let h=c;h<=u;h++){const x=h>c?0:r&31,E=(2<<(h<u?31:i&31))-(1<<x)&4294967295;if((d[h]&E)!==(a?E:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,i){if(i<0||i>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((r>>a-1&1)===1)}appendBitArray(r){const i=r.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(r.get(a))}xor(r){if(this.size!==r.size)throw new C("Sizes don't match");const i=this.bits;for(let a=0,c=i.length;a<c;a++)i[a]^=r.bits[a]}toBytes(r,i,a,c){for(let u=0;u<c;u++){let d=0;for(let h=0;h<8;h++)this.get(r)&&(d|=1<<7-h),r++;i[a+u]=d}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,c=this.bits;for(let u=0;u<a;u++){let d=c[u];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,r[i-u]=d}if(this.size!==a*32){const u=a*32-this.size;let d=r[0]>>>u;for(let h=1;h<a;h++){const x=r[h];d|=x<<32-u,r[h-1]=d,d=x>>>u}r[a-1]=d}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof B))return!1;const i=r;return this.size===i.size&&N.equals(this.bits,i.bits)}hashCode(){return 31*this.size+N.hashCode(this.bits)}toString(){let r="";for(let i=0,a=this.size;i<a;i++)i&7||(r+=" "),r+=this.get(i)?"X":".";return r}clone(){return new B(this.size,this.bits.slice())}}var V;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(V||(V={}));var X=V;class U extends p{static getFormatInstance(){return new U}}U.kind="FormatException";var Z;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(Z||(Z={}));class W{constructor(r,i,a,...c){this.valueIdentifier=r,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=c,W.VALUE_IDENTIFIER_TO_ECI.set(r,this),W.NAME_TO_ECI.set(a,this);const u=this.values;for(let d=0,h=u.length;d!==h;d++){const x=u[d];W.VALUES_TO_ECI.set(x,this)}for(const d of c)W.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new U("incorect value");const i=W.VALUES_TO_ECI.get(r);if(i===void 0)throw new U("incorect value");return i}static getCharacterSetECIByName(r){const i=W.NAME_TO_ECI.get(r);if(i===void 0)throw new U("incorect value");return i}equals(r){if(!(r instanceof W))return!1;const i=r;return this.getName()===i.getName()}}W.VALUE_IDENTIFIER_TO_ECI=new Map,W.VALUES_TO_ECI=new Map,W.NAME_TO_ECI=new Map,W.Cp437=new W(Z.Cp437,Int32Array.from([0,2]),"Cp437"),W.ISO8859_1=new W(Z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),W.ISO8859_2=new W(Z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),W.ISO8859_3=new W(Z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),W.ISO8859_4=new W(Z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),W.ISO8859_5=new W(Z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),W.ISO8859_6=new W(Z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),W.ISO8859_7=new W(Z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),W.ISO8859_8=new W(Z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),W.ISO8859_9=new W(Z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),W.ISO8859_10=new W(Z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),W.ISO8859_11=new W(Z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),W.ISO8859_13=new W(Z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),W.ISO8859_14=new W(Z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),W.ISO8859_15=new W(Z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),W.ISO8859_16=new W(Z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),W.SJIS=new W(Z.SJIS,20,"SJIS","Shift_JIS"),W.Cp1250=new W(Z.Cp1250,21,"Cp1250","windows-1250"),W.Cp1251=new W(Z.Cp1251,22,"Cp1251","windows-1251"),W.Cp1252=new W(Z.Cp1252,23,"Cp1252","windows-1252"),W.Cp1256=new W(Z.Cp1256,24,"Cp1256","windows-1256"),W.UnicodeBigUnmarked=new W(Z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),W.UTF8=new W(Z.UTF8,26,"UTF8","UTF-8"),W.ASCII=new W(Z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),W.Big5=new W(Z.Big5,28,"Big5"),W.GB18030=new W(Z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),W.EUC_KR=new W(Z.EUC_KR,30,"EUC_KR","EUC-KR");class de extends p{}de.kind="UnsupportedOperationException";class Se{static decode(r,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(r,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(r,a):new TextDecoder(a).decode(r)}static shouldDecodeOnFallback(r){return!Se.isBrowser()&&r==="ISO-8859-1"}static encode(r,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(r,a):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof W?r:W.getCharacterSetECIByName(r)}static decodeFallback(r,i){const a=this.encodingCharacterSet(i);if(Se.isDecodeFallbackSupported(a)){let c="";for(let u=0,d=r.length;u<d;u++){let h=r[u].toString(16);h.length<2&&(h="0"+h),c+="%"+h}return decodeURIComponent(c)}if(a.equals(W.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new de(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals(W.UTF8)||r.equals(W.ISO8859_1)||r.equals(W.ASCII)}static encodeFallback(r){const a=btoa(unescape(encodeURIComponent(r))).split(""),c=[];for(let u=0;u<a.length;u++)c.push(a[u].charCodeAt(0));return new Uint8Array(c)}}class ie{static castAsNonUtf8Char(r,i=null){const a=i?i.getName():this.ISO88591;return Se.decode(new Uint8Array([r]),a)}static guessEncoding(r,i){if(i!=null&&i.get(X.CHARACTER_SET)!==void 0)return i.get(X.CHARACTER_SET).toString();const a=r.length;let c=!0,u=!0,d=!0,h=0,x=0,y=0,E=0,b=0,I=0,L=0,j=0,F=0,z=0,K=0;const ee=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let te=0;te<a&&(c||u||d);te++){const $=r[te]&255;d&&(h>0?$&128?h--:d=!1:$&128&&($&64?(h++,$&32?(h++,$&16?(h++,$&8?d=!1:E++):y++):x++):d=!1)),c&&($>127&&$<160?c=!1:$>159&&($<192||$===215||$===247)&&K++),u&&(b>0?$<64||$===127||$>252?u=!1:b--:$===128||$===160||$>239?u=!1:$>160&&$<224?(I++,j=0,L++,L>F&&(F=L)):$>127?(b++,L=0,j++,j>z&&(z=j)):(L=0,j=0))}return d&&h>0&&(d=!1),u&&b>0&&(u=!1),d&&(ee||x+y+E>0)?ie.UTF8:u&&(ie.ASSUME_SHIFT_JIS||F>=3||z>=3)?ie.SHIFT_JIS:c&&u?F===2&&I===2||K*10>=a?ie.SHIFT_JIS:ie.ISO88591:c?ie.ISO88591:u?ie.SHIFT_JIS:d?ie.UTF8:ie.PLATFORM_DEFAULT_ENCODING}static format(r,...i){let a=-1;function c(d,h,x,y,E,b){if(d==="%%")return"%";if(i[++a]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let I=E?parseInt(E.substr(1)):void 0,L;switch(b){case"s":L=i[a];break;case"c":L=i[a][0];break;case"f":L=parseFloat(i[a]).toFixed(d);break;case"p":L=parseFloat(i[a]).toPrecision(d);break;case"e":L=parseFloat(i[a]).toExponential(d);break;case"x":L=parseInt(i[a]).toString(I||16);break;case"d":L=parseFloat(parseInt(i[a],I||10).toPrecision(d)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let j=parseInt(x),F=x&&x[0]+""=="0"?"0":" ";for(;L.length<j;)L=h!==void 0?L+F:F+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}static getBytes(r,i){return Se.encode(r,i)}static getCharCode(r,i=0){return r.charCodeAt(i)}static getCharAt(r){return String.fromCharCode(r)}}ie.SHIFT_JIS=W.SJIS.getName(),ie.GB2312="GB2312",ie.ISO88591=W.ISO8859_1.getName(),ie.EUC_JP="EUC_JP",ie.UTF8=W.UTF8.getName(),ie.PLATFORM_DEFAULT_ENCODING=ie.UTF8,ie.ASSUME_SHIFT_JIS=!1;class re{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=ie.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,i,a){for(let c=i;i<i+a;c++)this.append(r[c]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+1)}substring(r,i){return this.value.substring(r,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,i){this.value=this.value.substr(0,r)+i+this.value.substr(r+i.length)}}class le{constructor(r,i,a,c){if(this.width=r,this.height=i,this.rowSize=a,this.bits=c,i==null&&(i=r),this.height=i,r<1||i<1)throw new C("Both dimensions must be greater than 0");a==null&&(a=Math.floor((r+31)/32)),this.rowSize=a,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const i=r.length,a=r[0].length,c=new le(a,i);for(let u=0;u<i;u++){const d=r[u];for(let h=0;h<a;h++)d[h]&&c.set(h,u)}return c}static parseFromString(r,i,a){if(r===null)throw new C("stringRepresentation cannot be null");const c=new Array(r.length);let u=0,d=0,h=-1,x=0,y=0;for(;y<r.length;)if(r.charAt(y)===`
`||r.charAt(y)==="\r"){if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new C("row lengths do not match");d=u,x++}y++}else if(r.substring(y,y+i.length)===i)y+=i.length,c[u]=!0,u++;else if(r.substring(y,y+a.length)===a)y+=a.length,c[u]=!1,u++;else throw new C("illegal character encountered: "+r.substring(y));if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new C("row lengths do not match");x++}const E=new le(h,x);for(let b=0;b<u;b++)c[b]&&E.set(Math.floor(b%h),Math.floor(b/h));return E}get(r,i){const a=i*this.rowSize+Math.floor(r/32);return(this.bits[a]>>>(r&31)&1)!==0}set(r,i){const a=i*this.rowSize+Math.floor(r/32);this.bits[a]|=1<<(r&31)&4294967295}unset(r,i){const a=i*this.rowSize+Math.floor(r/32);this.bits[a]&=~(1<<(r&31)&4294967295)}flip(r,i){const a=i*this.rowSize+Math.floor(r/32);this.bits[a]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new C("input matrix dimensions do not match");const i=new B(Math.floor(this.width/32)+1),a=this.rowSize,c=this.bits;for(let u=0,d=this.height;u<d;u++){const h=u*a,x=r.getRow(u,i).getBitArray();for(let y=0;y<a;y++)c[h+y]^=x[y]}}clear(){const r=this.bits,i=r.length;for(let a=0;a<i;a++)r[a]=0}setRegion(r,i,a,c){if(i<0||r<0)throw new C("Left and top must be nonnegative");if(c<1||a<1)throw new C("Height and width must be at least 1");const u=r+a,d=i+c;if(d>this.height||u>this.width)throw new C("The region must fit inside the matrix");const h=this.rowSize,x=this.bits;for(let y=i;y<d;y++){const E=y*h;for(let b=r;b<u;b++)x[E+Math.floor(b/32)]|=1<<(b&31)&4294967295}}getRow(r,i){i==null||i.getSize()<this.width?i=new B(this.width):i.clear();const a=this.rowSize,c=this.bits,u=r*a;for(let d=0;d<a;d++)i.setBulk(d*32,c[u+d]);return i}setRow(r,i){M.arraycopy(i.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),i=this.getHeight();let a=new B(r),c=new B(r);for(let u=0,d=Math.floor((i+1)/2);u<d;u++)a=this.getRow(u,a),c=this.getRow(i-1-u,c),a.reverse(),c.reverse(),this.setRow(u,c),this.setRow(i-1-u,a)}getEnclosingRectangle(){const r=this.width,i=this.height,a=this.rowSize,c=this.bits;let u=r,d=i,h=-1,x=-1;for(let y=0;y<i;y++)for(let E=0;E<a;E++){const b=c[y*a+E];if(b!==0){if(y<d&&(d=y),y>x&&(x=y),E*32<u){let I=0;for(;!(b<<31-I&4294967295);)I++;E*32+I<u&&(u=E*32+I)}if(E*32+31>h){let I=31;for(;!(b>>>I);)I--;E*32+I>h&&(h=E*32+I)}}}return h<u||x<d?null:Int32Array.from([u,d,h-u+1,x-d+1])}getTopLeftOnBit(){const r=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const c=a/r;let u=a%r*32;const d=i[a];let h=0;for(;!(d<<31-h&4294967295);)h++;return u+=h,Int32Array.from([u,c])}getBottomRightOnBit(){const r=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const c=Math.floor(a/r);let u=Math.floor(a%r)*32;const d=i[a];let h=31;for(;!(d>>>h);)h--;return u+=h,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof le))return!1;const i=r;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&N.equals(this.bits,i.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+N.hashCode(this.bits),r}toString(r="X ",i="  ",a=`
`){return this.buildToString(r,i,a)}buildToString(r,i,a){let c=new re;for(let u=0,d=this.height;u<d;u++){for(let h=0,x=this.width;h<x;h++)c.append(this.get(h,u)?r:i);c.append(a)}return c.toString()}clone(){return new le(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends p{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class pe extends O{constructor(r){super(r),this.luminances=pe.EMPTY,this.buckets=new Int32Array(pe.LUMINANCE_BUCKETS)}getBlackRow(r,i){const a=this.getLuminanceSource(),c=a.getWidth();i==null||i.getSize()<c?i=new B(c):i.clear(),this.initArrays(c);const u=a.getRow(r,this.luminances),d=this.buckets;for(let x=0;x<c;x++)d[(u[x]&255)>>pe.LUMINANCE_SHIFT]++;const h=pe.estimateBlackPoint(d);if(c<3)for(let x=0;x<c;x++)(u[x]&255)<h&&i.set(x);else{let x=u[0]&255,y=u[1]&255;for(let E=1;E<c-1;E++){const b=u[E+1]&255;(y*4-x-b)/2<h&&i.set(E),x=y,y=b}}return i}getBlackMatrix(){const r=this.getLuminanceSource(),i=r.getWidth(),a=r.getHeight(),c=new le(i,a);this.initArrays(i);const u=this.buckets;for(let x=1;x<5;x++){const y=Math.floor(a*x/5),E=r.getRow(y,this.luminances),b=Math.floor(i*4/5);for(let I=Math.floor(i/5);I<b;I++){const L=E[I]&255;u[L>>pe.LUMINANCE_SHIFT]++}}const d=pe.estimateBlackPoint(u),h=r.getMatrix();for(let x=0;x<a;x++){const y=x*i;for(let E=0;E<i;E++)(h[y+E]&255)<d&&c.set(E,x)}return c}createBinarizer(r){return new pe(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const i=this.buckets;for(let a=0;a<pe.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(r){const i=r.length;let a=0,c=0,u=0;for(let E=0;E<i;E++)r[E]>u&&(c=E,u=r[E]),r[E]>a&&(a=r[E]);let d=0,h=0;for(let E=0;E<i;E++){const b=E-c,I=r[E]*b*b;I>h&&(d=E,h=I)}if(c>d){const E=c;c=d,d=E}if(d-c<=i/16)throw new G;let x=d-1,y=-1;for(let E=d-1;E>c;E--){const b=E-c,I=b*b*(d-E)*(a-r[E]);I>y&&(x=E,y=I)}return x<<pe.LUMINANCE_SHIFT}}pe.LUMINANCE_BITS=5,pe.LUMINANCE_SHIFT=8-pe.LUMINANCE_BITS,pe.LUMINANCE_BUCKETS=1<<pe.LUMINANCE_BITS,pe.EMPTY=Uint8ClampedArray.from([0]);class ge extends pe{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),i=r.getWidth(),a=r.getHeight();if(i>=ge.MINIMUM_DIMENSION&&a>=ge.MINIMUM_DIMENSION){const c=r.getMatrix();let u=i>>ge.BLOCK_SIZE_POWER;i&ge.BLOCK_SIZE_MASK&&u++;let d=a>>ge.BLOCK_SIZE_POWER;a&ge.BLOCK_SIZE_MASK&&d++;const h=ge.calculateBlackPoints(c,u,d,i,a),x=new le(i,a);ge.calculateThresholdForBlock(c,u,d,i,a,h,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new ge(r)}static calculateThresholdForBlock(r,i,a,c,u,d,h){const x=u-ge.BLOCK_SIZE,y=c-ge.BLOCK_SIZE;for(let E=0;E<a;E++){let b=E<<ge.BLOCK_SIZE_POWER;b>x&&(b=x);const I=ge.cap(E,2,a-3);for(let L=0;L<i;L++){let j=L<<ge.BLOCK_SIZE_POWER;j>y&&(j=y);const F=ge.cap(L,2,i-3);let z=0;for(let ee=-2;ee<=2;ee++){const te=d[I+ee];z+=te[F-2]+te[F-1]+te[F]+te[F+1]+te[F+2]}const K=z/25;ge.thresholdBlock(r,j,b,K,c,h)}}}static cap(r,i,a){return r<i?i:r>a?a:r}static thresholdBlock(r,i,a,c,u,d){for(let h=0,x=a*u+i;h<ge.BLOCK_SIZE;h++,x+=u)for(let y=0;y<ge.BLOCK_SIZE;y++)(r[x+y]&255)<=c&&d.set(i+y,a+h)}static calculateBlackPoints(r,i,a,c,u){const d=u-ge.BLOCK_SIZE,h=c-ge.BLOCK_SIZE,x=new Array(a);for(let y=0;y<a;y++){x[y]=new Int32Array(i);let E=y<<ge.BLOCK_SIZE_POWER;E>d&&(E=d);for(let b=0;b<i;b++){let I=b<<ge.BLOCK_SIZE_POWER;I>h&&(I=h);let L=0,j=255,F=0;for(let K=0,ee=E*c+I;K<ge.BLOCK_SIZE;K++,ee+=c){for(let te=0;te<ge.BLOCK_SIZE;te++){const $=r[ee+te]&255;L+=$,$<j&&(j=$),$>F&&(F=$)}if(F-j>ge.MIN_DYNAMIC_RANGE)for(K++,ee+=c;K<ge.BLOCK_SIZE;K++,ee+=c)for(let te=0;te<ge.BLOCK_SIZE;te++)L+=r[ee+te]&255}let z=L>>ge.BLOCK_SIZE_POWER*2;if(F-j<=ge.MIN_DYNAMIC_RANGE&&(z=j/2,y>0&&b>0)){const K=(x[y-1][b]+2*x[y][b-1]+x[y-1][b-1])/4;j<K&&(z=K)}x[y][b]=z}}return x}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class ne{constructor(r,i){this.width=r,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,i,a,c){throw new de("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new de("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new de("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let i=new re;for(let a=0;a<this.height;a++){const c=this.getRow(a,r);for(let u=0;u<this.width;u++){const d=c[u]&255;let h;d<64?h="#":d<128?h="+":d<192?h=".":h=" ",i.append(h)}i.append(`
`)}return i.toString()}}class fe extends ne{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,i){const a=this.delegate.getRow(r,i),c=this.getWidth();for(let u=0;u<c;u++)a[u]=255-(a[u]&255);return a}getMatrix(){const r=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let c=0;c<i;c++)a[c]=255-(r[c]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(r,i,a,c){return new fe(this.delegate.crop(r,i,a,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new fe(this.delegate.rotateCounterClockwise45())}}class ye extends ne{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=ye.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const i=r.getContext("2d").getImageData(0,0,r.width,r.height);return ye.toGrayscaleBuffer(i.data,r.width,r.height)}static toGrayscaleBuffer(r,i,a){const c=new Uint8ClampedArray(i*a);for(let u=0,d=0,h=r.length;u<h;u+=4,d++){let x;if(r[u+3]===0)x=255;else{const E=r[u],b=r[u+1],I=r[u+2];x=306*E+601*b+117*I+512>>10}c[d]=x}return c}getRow(r,i){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const a=this.getWidth(),c=r*a;return i===null?i=this.buffer.slice(c,c+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(c,c+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,i,a,c){return super.crop(r,i,a,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const i=this.getTempCanvasElement(),a=i.getContext("2d"),c=r*ye.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*d),x=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*d);return i.width=h,i.height=x,a.translate(h/2,x/2),a.rotate(c),a.drawImage(this.canvas,u/-2,d/-2),this.buffer=ye.makeBufferFromCanvasImageData(i),this}invert(){return new fe(this)}}ye.DEGREE_TO_RADIANS=Math.PI/180;class me{constructor(r,i,a){this.deviceId=r,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Ae=(globalThis||Lo||self||window||void 0)&&(globalThis||Lo||self||window||void 0).__awaiter||function(S,r,i,a){function c(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function h(E){try{y(a.next(E))}catch(b){d(b)}}function x(E){try{y(a.throw(E))}catch(b){d(b)}}function y(E){E.done?u(E.value):c(E.value).then(h,x)}y((a=a.apply(S,r||[])).next())})};class Tt{constructor(r,i=500,a){this.reader=r,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return Ae(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of r){const c=a.kind==="video"?"videoinput":a.kind;if(c!=="videoinput")continue;const u=a.deviceId||a.id,d=a.label||`Video device ${i.length+1}`,h=a.groupId,x={deviceId:u,label:d,kind:c,groupId:h};i.push(x)}return i})}getVideoInputDevices(){return Ae(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new me(i.deviceId,i.label))})}findDeviceById(r){return Ae(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===r):null})}decodeFromInputVideoDevice(r,i){return Ae(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,i)})}decodeOnceFromVideoDevice(r,i){return Ae(this,void 0,void 0,function*(){this.reset();let a;r?a={deviceId:{exact:r}}:a={facingMode:"environment"};const c={video:a};return yield this.decodeOnceFromConstraints(c,i)})}decodeOnceFromConstraints(r,i){return Ae(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(r,i){return Ae(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(r,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(r,i,a){return Ae(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,i,a)})}decodeFromVideoDevice(r,i,a){return Ae(this,void 0,void 0,function*(){let c;r?c={deviceId:{exact:r}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,i,a)})}decodeFromConstraints(r,i,a){return Ae(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(c,i,a)})}decodeFromStream(r,i,a){return Ae(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(r,i);return yield this.decodeContinuously(c,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,i){return Ae(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,r),this.videoElement=a,this.stream=r,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(r){return new Promise((i,a)=>this.playVideoOnLoad(r,()=>i()))}playVideoOnLoad(r,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",i),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return Ae(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,i){const a=document.getElementById(r);if(!a)throw new w(`element with id '${r}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new w(`element with id '${r}' must be an ${i} element`);return a}decodeFromImage(r,i){if(!r&&!i)throw new w("either imageElement with a src set or an url must be provided");return i&&!r?this.decodeFromImageUrl(i):this.decodeFromImageElement(r)}decodeFromVideo(r,i){if(!r&&!i)throw new w("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,i,a){if(r===void 0&&i===void 0)throw new w("Either an element with a src set or an URL must be provided");return i&&!r?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(r,a)}decodeFromImageElement(r){if(!r)throw new w("An image element must be provided.");this.reset();const i=this.prepareImageElement(r);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(r){const i=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(r,i){const a=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(r){if(!r)throw new w("A video element must be provided.");this.reset();const i=this.prepareVideoElement(r);return this.videoElement=i,i}decodeFromImageUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=r,a}decodeFromVideoUrl(r){if(!r)throw new w("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=r,a}decodeFromVideoUrlContinuously(r,i){if(!r)throw new w("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(a,i);return a.src=r,c}_decodeOnLoadImage(r){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(i,a),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return Ae(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,i){return Ae(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,i)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let i;return typeof r>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(i=r),i}prepareVideoElement(r){let i;return!r&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof r=="string"&&(i=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(i=r),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(r,i=!0,a=!0){this._stopAsyncDecode=!1;const c=(u,d)=>{if(this._stopAsyncDecode){d(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(r);u(h)}catch(h){const x=i&&h instanceof G,E=(h instanceof R||h instanceof U)&&a;if(x||E)return setTimeout(c,this._timeBetweenDecodingAttempts,u,d);d(h)}};return new Promise((u,d)=>c(u,d))}decodeContinuously(r,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(r);i(c,null),setTimeout(a,this.timeBetweenScansMillis)}catch(c){i(null,c);const u=c instanceof R||c instanceof U,d=c instanceof G;(u||d)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(r){const i=this.createBinaryBitmap(r);return this.decodeBitmap(i)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,i,a){i||(i={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(r,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(r,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const i=this.getCaptureCanvas(r),a=new ye(i),c=new ge(a);return new A(c)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const i=this.createCaptureCanvas(r);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,c;return typeof r<"u"&&(r instanceof HTMLVideoElement?(a=r.videoWidth,c=r.videoHeight):r instanceof HTMLImageElement&&(a=r.naturalWidth||r.width,c=r.naturalHeight||r.height)),i.style.width=a+"px",i.style.height=c+"px",i.width=a,i.height=c,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,i){try{r.srcObject=i}catch{r.src=URL.createObjectURL(i)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class je{constructor(r,i,a=i==null?0:8*i.length,c,u,d=M.currentTimeMillis()){this.text=r,this.rawBytes=i,this.numBits=a,this.resultPoints=c,this.format=u,this.timestamp=d,this.text=r,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=c,this.format=u,this.resultMetadata=null,d==null?this.timestamp=M.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,i)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const i=this.resultPoints;if(i===null)this.resultPoints=r;else if(r!==null&&r.length>0){const a=new Array(i.length+r.length);M.arraycopy(i,0,a,0,i.length),M.arraycopy(r,0,a,i.length,r.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var En;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(En||(En={}));var ue=En,Zn;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Zn||(Zn={}));var vt=Zn;class Dr{constructor(r,i,a,c,u=-1,d=-1){this.rawBytes=r,this.text=i,this.byteSegments=a,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class fr{exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}static addOrSubtract(r,i){return r^i}}class ut{constructor(r,i){if(i.length===0)throw new C;this.field=r;const a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-c),M.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(r===1){a=0;for(let d=0,h=i.length;d!==h;d++){const x=i[d];a=fr.addOrSubtract(a,x)}return a}a=i[0];const c=i.length,u=this.field;for(let d=1;d<c;d++)a=fr.addOrSubtract(u.multiply(r,a),i[d]);return a}addOrSubtract(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,a=r.coefficients;if(i.length>a.length){const d=i;i=a,a=d}let c=new Int32Array(a.length);const u=a.length-i.length;M.arraycopy(a,0,c,0,u);for(let d=u;d<a.length;d++)c[d]=fr.addOrSubtract(i[d-u],a[d]);return new ut(this.field,c)}multiply(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,c=r.coefficients,u=c.length,d=new Int32Array(a+u-1),h=this.field;for(let x=0;x<a;x++){const y=i[x];for(let E=0;E<u;E++)d[x+E]=fr.addOrSubtract(d[x+E],h.multiply(y,c[E]))}return new ut(h,d)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const i=this.coefficients.length,a=this.field,c=new Int32Array(i),u=this.coefficients;for(let d=0;d<i;d++)c[d]=a.multiply(u[d],r);return new ut(a,c)}multiplyByMonomial(r,i){if(r<0)throw new C;if(i===0)return this.field.getZero();const a=this.coefficients,c=a.length,u=new Int32Array(c+r),d=this.field;for(let h=0;h<c;h++)u[h]=d.multiply(a[h],i);return new ut(d,u)}divide(r){if(!this.field.equals(r.field))throw new C("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new C("Divide by 0");const i=this.field;let a=i.getZero(),c=this;const u=r.getCoefficient(r.getDegree()),d=i.inverse(u);for(;c.getDegree()>=r.getDegree()&&!c.isZero();){const h=c.getDegree()-r.getDegree(),x=i.multiply(c.getCoefficient(c.getDegree()),d),y=r.multiplyByMonomial(h,x),E=i.buildMonomial(h,x);a=a.addOrSubtract(E),c=c.addOrSubtract(y)}return[a,c]}toString(){let r="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(r+=" - ",a=-a):r.length>0&&(r+=" + "),i===0||a!==1){const c=this.field.log(a);c===0?r+="1":c===1?r+="a":(r+="a^",r+=c)}i!==0&&(i===1?r+="x":(r+="x^",r+=i))}}return r}}class So extends p{}So.kind="ArithmeticException";class Fe extends fr{constructor(r,i,a){super(),this.primitive=r,this.size=i,this.generatorBase=a;const c=new Int32Array(i);let u=1;for(let h=0;h<i;h++)c[h]=u,u*=2,u>=i&&(u^=r,u&=i-1);this.expTable=c;const d=new Int32Array(i);for(let h=0;h<i-1;h++)d[c[h]]=h;this.logTable=d,this.zero=new ut(this,Int32Array.from([0])),this.one=new ut(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new C;if(i===0)return this.zero;const a=new Int32Array(r+1);return a[0]=i,new ut(this,a)}inverse(r){if(r===0)throw new So;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}Fe.AZTEC_DATA_12=new Fe(4201,4096,1),Fe.AZTEC_DATA_10=new Fe(1033,1024,1),Fe.AZTEC_DATA_6=new Fe(67,64,1),Fe.AZTEC_PARAM=new Fe(19,16,1),Fe.QR_CODE_FIELD_256=new Fe(285,256,0),Fe.DATA_MATRIX_FIELD_256=new Fe(301,256,1),Fe.AZTEC_DATA_8=Fe.DATA_MATRIX_FIELD_256,Fe.MAXICODE_FIELD_64=Fe.AZTEC_DATA_6;class vi extends p{}vi.kind="ReedSolomonException";class hr extends p{}hr.kind="IllegalStateException";class bo{constructor(r){this.field=r}decode(r,i){const a=this.field,c=new ut(a,r),u=new Int32Array(i);let d=!0;for(let L=0;L<i;L++){const j=c.evaluateAt(a.exp(L+a.getGeneratorBase()));u[u.length-1-L]=j,j!==0&&(d=!1)}if(d)return;const h=new ut(a,u),x=this.runEuclideanAlgorithm(a.buildMonomial(i,1),h,i),y=x[0],E=x[1],b=this.findErrorLocations(y),I=this.findErrorMagnitudes(E,b);for(let L=0;L<b.length;L++){const j=r.length-1-a.log(b[L]);if(j<0)throw new vi("Bad error location");r[j]=Fe.addOrSubtract(r[j],I[L])}}runEuclideanAlgorithm(r,i,a){if(r.getDegree()<i.getDegree()){const L=r;r=i,i=L}const c=this.field;let u=r,d=i,h=c.getZero(),x=c.getOne();for(;d.getDegree()>=(a/2|0);){let L=u,j=h;if(u=d,h=x,u.isZero())throw new vi("r_{i-1} was zero");d=L;let F=c.getZero();const z=u.getCoefficient(u.getDegree()),K=c.inverse(z);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){const ee=d.getDegree()-u.getDegree(),te=c.multiply(d.getCoefficient(d.getDegree()),K);F=F.addOrSubtract(c.buildMonomial(ee,te)),d=d.addOrSubtract(u.multiplyByMonomial(ee,te))}if(x=F.multiply(h).addOrSubtract(j),d.getDegree()>=u.getDegree())throw new hr("Division algorithm failed to reduce polynomial?")}const y=x.getCoefficient(0);if(y===0)throw new vi("sigmaTilde(0) was zero");const E=c.inverse(y),b=x.multiplyScalar(E),I=d.multiplyScalar(E);return[b,I]}findErrorLocations(r){const i=r.getDegree();if(i===1)return Int32Array.from([r.getCoefficient(1)]);const a=new Int32Array(i);let c=0;const u=this.field;for(let d=1;d<u.getSize()&&c<i;d++)r.evaluateAt(d)===0&&(a[c]=u.inverse(d),c++);if(c!==i)throw new vi("Error locator degree does not match number of roots");return a}findErrorMagnitudes(r,i){const a=i.length,c=new Int32Array(a),u=this.field;for(let d=0;d<a;d++){const h=u.inverse(i[d]);let x=1;for(let y=0;y<a;y++)if(d!==y){const E=u.multiply(i[y],h),b=E&1?E&-2:E|1;x=u.multiply(x,b)}c[d]=u.multiply(r.evaluateAt(h),u.inverse(x)),u.getGeneratorBase()!==0&&(c[d]=u.multiply(c[d],h))}return c}}var Pt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(Pt||(Pt={}));class Ke{decode(r){this.ddata=r;let i=r.getBits(),a=this.extractBits(i),c=this.correctBits(a),u=Ke.convertBoolArrayToByteArray(c),d=Ke.getEncodedData(c),h=new Dr(u,d,null,null);return h.setNumBits(c.length),h}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let i=r.length,a=Pt.UPPER,c=Pt.UPPER,u="",d=0;for(;d<i;)if(c===Pt.BINARY){if(i-d<5)break;let h=Ke.readCode(r,d,5);if(d+=5,h===0){if(i-d<11)break;h=Ke.readCode(r,d,11)+31,d+=11}for(let x=0;x<h;x++){if(i-d<8){d=i;break}const y=Ke.readCode(r,d,8);u+=ie.castAsNonUtf8Char(y),d+=8}c=a}else{let h=c===Pt.DIGIT?4:5;if(i-d<h)break;let x=Ke.readCode(r,d,h);d+=h;let y=Ke.getCharacter(c,x);y.startsWith("CTRL_")?(a=c,c=Ke.getTable(y.charAt(5)),y.charAt(6)==="L"&&(a=c)):(u+=y,c=a)}return u}static getTable(r){switch(r){case"L":return Pt.LOWER;case"P":return Pt.PUNCT;case"M":return Pt.MIXED;case"D":return Pt.DIGIT;case"B":return Pt.BINARY;case"U":default:return Pt.UPPER}}static getCharacter(r,i){switch(r){case Pt.UPPER:return Ke.UPPER_TABLE[i];case Pt.LOWER:return Ke.LOWER_TABLE[i];case Pt.MIXED:return Ke.MIXED_TABLE[i];case Pt.PUNCT:return Ke.PUNCT_TABLE[i];case Pt.DIGIT:return Ke.DIGIT_TABLE[i];default:throw new hr("Bad table")}}correctBits(r){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=Fe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=Fe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=Fe.AZTEC_DATA_10):(a=12,i=Fe.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=r.length/a;if(u<c)throw new U;let d=r.length%a,h=new Int32Array(u);for(let I=0;I<u;I++,d+=a)h[I]=Ke.readCode(r,d,a);try{new bo(i).decode(h,u-c)}catch(I){throw new U(I)}let x=(1<<a)-1,y=0;for(let I=0;I<c;I++){let L=h[I];if(L===0||L===x)throw new U;(L===1||L===x-1)&&y++}let E=new Array(c*a-y),b=0;for(let I=0;I<c;I++){let L=h[I];if(L===1||L===x-1)E.fill(L>1,b,b+a-1),b+=a-1;else for(let j=a-1;j>=0;--j)E[b++]=(L&1<<j)!==0}return E}extractBits(r){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),c=(i?11:14)+a*4,u=new Int32Array(c),d=new Array(this.totalBitsInLayer(a,i));if(i)for(let h=0;h<u.length;h++)u[h]=h;else{let h=c+1+2*T.truncDivision(T.truncDivision(c,2)-1,15),x=c/2,y=T.truncDivision(h,2);for(let E=0;E<x;E++){let b=E+T.truncDivision(E,15);u[x-E-1]=y-b-1,u[x+E]=y+b+1}}for(let h=0,x=0;h<a;h++){let y=(a-h)*4+(i?9:12),E=h*2,b=c-1-E;for(let I=0;I<y;I++){let L=I*2;for(let j=0;j<2;j++)d[x+L+j]=r.get(u[E+j],u[E+I]),d[x+2*y+L+j]=r.get(u[E+I],u[b-j]),d[x+4*y+L+j]=r.get(u[b-j],u[b-I]),d[x+6*y+L+j]=r.get(u[b-I],u[E+j])}x+=y*8}return d}static readCode(r,i,a){let c=0;for(let u=i;u<i+a;u++)c<<=1,r[u]&&(c|=1);return c}static readByte(r,i){let a=r.length-i;return a>=8?Ke.readCode(r,i,8):Ke.readCode(r,i,a)<<8-a}static convertBoolArrayToByteArray(r){let i=new Uint8Array((r.length+7)/8);for(let a=0;a<i.length;a++)i[a]=Ke.readByte(r,8*a);return i}totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}Ke.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ke.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ke.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Le{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,i,a,c){const u=r-a,d=i-c;return Math.sqrt(u*u+d*d)}static sum(r){let i=0;for(let a=0,c=r.length;a!==c;a++){const u=r[a];i+=u}return i}}class qa{static floatToIntBits(r){return r}}qa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class he{constructor(r,i){this.x=r,this.y=i}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof he){const i=r;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*qa.floatToIntBits(this.x)+qa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const i=this.distance(r[0],r[1]),a=this.distance(r[1],r[2]),c=this.distance(r[0],r[2]);let u,d,h;if(a>=i&&a>=c?(d=r[0],u=r[1],h=r[2]):c>=a&&c>=i?(d=r[1],u=r[0],h=r[2]):(d=r[2],u=r[0],h=r[1]),this.crossProductZ(u,d,h)<0){const x=u;u=h,h=x}r[0]=u,r[1]=d,r[2]=h}static distance(r,i){return Le.distance(r.x,r.y,i.x,i.y)}static crossProductZ(r,i,a){const c=i.x,u=i.y;return(a.x-c)*(r.y-u)-(a.y-u)*(r.x-c)}}class $a{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class e1 extends $a{constructor(r,i,a,c,u){super(r,i),this.compact=a,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class kr{constructor(r,i,a,c){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),i==null&&(i=kr.INIT_SIZE),a==null&&(a=r.getWidth()/2|0),c==null&&(c=r.getHeight()/2|0);const u=i/2|0;if(this.leftInit=a-u,this.rightInit=a+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let r=this.leftInit,i=this.rightInit,a=this.upInit,c=this.downInit,u=!1,d=!0,h=!1,x=!1,y=!1,E=!1,b=!1;const I=this.width,L=this.height;for(;d;){d=!1;let j=!0;for(;(j||!x)&&i<I;)j=this.containsBlackPoint(a,c,i,!1),j?(i++,d=!0,x=!0):x||i++;if(i>=I){u=!0;break}let F=!0;for(;(F||!y)&&c<L;)F=this.containsBlackPoint(r,i,c,!0),F?(c++,d=!0,y=!0):y||c++;if(c>=L){u=!0;break}let z=!0;for(;(z||!E)&&r>=0;)z=this.containsBlackPoint(a,c,r,!1),z?(r--,d=!0,E=!0):E||r--;if(r<0){u=!0;break}let K=!0;for(;(K||!b)&&a>=0;)K=this.containsBlackPoint(r,i,a,!0),K?(a--,d=!0,b=!0):b||a--;if(a<0){u=!0;break}d&&(h=!0)}if(!u&&h){const j=i-r;let F=null;for(let te=1;F===null&&te<j;te++)F=this.getBlackPointOnSegment(r,c-te,r+te,c);if(F==null)throw new G;let z=null;for(let te=1;z===null&&te<j;te++)z=this.getBlackPointOnSegment(r,a+te,r+te,a);if(z==null)throw new G;let K=null;for(let te=1;K===null&&te<j;te++)K=this.getBlackPointOnSegment(i,a+te,i-te,a);if(K==null)throw new G;let ee=null;for(let te=1;ee===null&&te<j;te++)ee=this.getBlackPointOnSegment(i,c-te,i-te,c);if(ee==null)throw new G;return this.centerEdges(ee,F,K,z)}else throw new G}getBlackPointOnSegment(r,i,a,c){const u=Le.round(Le.distance(r,i,a,c)),d=(a-r)/u,h=(c-i)/u,x=this.image;for(let y=0;y<u;y++){const E=Le.round(r+y*d),b=Le.round(i+y*h);if(x.get(E,b))return new he(E,b)}return null}centerEdges(r,i,a,c){const u=r.getX(),d=r.getY(),h=i.getX(),x=i.getY(),y=a.getX(),E=a.getY(),b=c.getX(),I=c.getY(),L=kr.CORR;return u<this.width/2?[new he(b-L,I+L),new he(h+L,x+L),new he(y-L,E-L),new he(u+L,d-L)]:[new he(b+L,I+L),new he(h+L,x-L),new he(y-L,E+L),new he(u-L,d-L)]}containsBlackPoint(r,i,a,c){const u=this.image;if(c){for(let d=r;d<=i;d++)if(u.get(d,a))return!0}else for(let d=r;d<=i;d++)if(u.get(a,d))return!0;return!1}}kr.INIT_SIZE=10,kr.CORR=1;class Iu{static checkAndNudgePoints(r,i){const a=r.getWidth(),c=r.getHeight();let u=!0;for(let d=0;d<i.length&&u;d+=2){const h=Math.floor(i[d]),x=Math.floor(i[d+1]);if(h<-1||h>a||x<-1||x>c)throw new G;u=!1,h===-1?(i[d]=0,u=!0):h===a&&(i[d]=a-1,u=!0),x===-1?(i[d+1]=0,u=!0):x===c&&(i[d+1]=c-1,u=!0)}u=!0;for(let d=i.length-2;d>=0&&u;d-=2){const h=Math.floor(i[d]),x=Math.floor(i[d+1]);if(h<-1||h>a||x<-1||x>c)throw new G;u=!1,h===-1?(i[d]=0,u=!0):h===a&&(i[d]=a-1,u=!0),x===-1?(i[d+1]=0,u=!0):x===c&&(i[d+1]=c-1,u=!0)}}}class qn{constructor(r,i,a,c,u,d,h,x,y){this.a11=r,this.a21=i,this.a31=a,this.a12=c,this.a22=u,this.a32=d,this.a13=h,this.a23=x,this.a33=y}static quadrilateralToQuadrilateral(r,i,a,c,u,d,h,x,y,E,b,I,L,j,F,z){const K=qn.quadrilateralToSquare(r,i,a,c,u,d,h,x);return qn.squareToQuadrilateral(y,E,b,I,L,j,F,z).times(K)}transformPoints(r){const i=r.length,a=this.a11,c=this.a12,u=this.a13,d=this.a21,h=this.a22,x=this.a23,y=this.a31,E=this.a32,b=this.a33;for(let I=0;I<i;I+=2){const L=r[I],j=r[I+1],F=u*L+x*j+b;r[I]=(a*L+d*j+y)/F,r[I+1]=(c*L+h*j+E)/F}}transformPointsWithValues(r,i){const a=this.a11,c=this.a12,u=this.a13,d=this.a21,h=this.a22,x=this.a23,y=this.a31,E=this.a32,b=this.a33,I=r.length;for(let L=0;L<I;L++){const j=r[L],F=i[L],z=u*j+x*F+b;r[L]=(a*j+d*F+y)/z,i[L]=(c*j+h*F+E)/z}}static squareToQuadrilateral(r,i,a,c,u,d,h,x){const y=r-a+u-h,E=i-c+d-x;if(y===0&&E===0)return new qn(a-r,u-a,r,c-i,d-c,i,0,0,1);{const b=a-u,I=h-u,L=c-d,j=x-d,F=b*j-I*L,z=(y*j-I*E)/F,K=(b*E-y*L)/F;return new qn(a-r+z*a,h-r+K*h,r,c-i+z*c,x-i+K*x,i,z,K,1)}}static quadrilateralToSquare(r,i,a,c,u,d,h,x){return qn.squareToQuadrilateral(r,i,a,c,u,d,h,x).buildAdjoint()}buildAdjoint(){return new qn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new qn(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class t1 extends Iu{sampleGrid(r,i,a,c,u,d,h,x,y,E,b,I,L,j,F,z,K,ee,te){const $=qn.quadrilateralToQuadrilateral(c,u,d,h,x,y,E,b,I,L,j,F,z,K,ee,te);return this.sampleGridWithTransform(r,i,a,$)}sampleGridWithTransform(r,i,a,c){if(i<=0||a<=0)throw new G;const u=new le(i,a),d=new Float32Array(2*i);for(let h=0;h<a;h++){const x=d.length,y=h+.5;for(let E=0;E<x;E+=2)d[E]=E/2+.5,d[E+1]=y;c.transformPoints(d),Iu.checkAndNudgePoints(r,d);try{for(let E=0;E<x;E+=2)r.get(Math.floor(d[E]),Math.floor(d[E+1]))&&u.set(E/2,h)}catch{throw new G}}return u}}class Jr{static setGridSampler(r){Jr.gridSampler=r}static getInstance(){return Jr.gridSampler}}Jr.gridSampler=new t1;class tn{constructor(r,i){this.x=r,this.y=i}toResultPoint(){return new he(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class n1{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(r){let d=a[0];a[0]=a[2],a[2]=d}this.extractParameters(a);let c=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),u=this.getMatrixCornerPoints(a);return new e1(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new G;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(r[0],r[1],i),this.sampleLine(r[1],r[2],i),this.sampleLine(r[2],r[3],i),this.sampleLine(r[3],r[0],i)]);this.shift=this.getRotation(a,i);let c=0;for(let d=0;d<4;d++){let h=a[(this.shift+d)%4];this.compact?(c<<=7,c+=h>>1&127):(c<<=10,c+=(h>>2&992)+(h>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(r,i){let a=0;r.forEach((c,u,d)=>{let h=(c>>i-2<<1)+(c&1);a=(a<<3)+h}),a=((a&1)<<11)+(a>>1);for(let c=0;c<4;c++)if(T.bitCount(a^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new G}getCorrectedParameterData(r,i){let a,c;i?(a=7,c=2):(a=10,c=4);let u=a-c,d=new Int32Array(a);for(let x=a-1;x>=0;--x)d[x]=r&15,r>>=4;try{new bo(Fe.AZTEC_PARAM).decode(d,u)}catch{throw new G}let h=0;for(let x=0;x<c;x++)h=(h<<4)+d[x];return h}getBullsEyeCorners(r){let i=r,a=r,c=r,u=r,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let b=this.getFirstDifferent(i,d,1,-1),I=this.getFirstDifferent(a,d,1,1),L=this.getFirstDifferent(c,d,-1,1),j=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(j,b)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(b,I,L,j))break}i=b,a=I,c=L,u=j,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let h=new he(i.getX()+.5,i.getY()-.5),x=new he(a.getX()+.5,a.getY()+.5),y=new he(c.getX()-.5,c.getY()+.5),E=new he(u.getX()-.5,u.getY()-.5);return this.expandSquare([h,x,y,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,i,a,c;try{let h=new kr(this.image).detect();r=h[0],i=h[1],a=h[2],c=h[3]}catch{let x=this.image.getWidth()/2,y=this.image.getHeight()/2;r=this.getFirstDifferent(new tn(x+7,y-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new tn(x+7,y+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new tn(x-7,y+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new tn(x-7,y-7),!1,-1,-1).toResultPoint()}let u=Le.round((r.getX()+c.getX()+i.getX()+a.getX())/4),d=Le.round((r.getY()+c.getY()+i.getY()+a.getY())/4);try{let h=new kr(this.image,15,u,d).detect();r=h[0],i=h[1],a=h[2],c=h[3]}catch{r=this.getFirstDifferent(new tn(u+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new tn(u+7,d+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new tn(u-7,d+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new tn(u-7,d-7),!1,-1,-1).toResultPoint()}return u=Le.round((r.getX()+c.getX()+i.getX()+a.getX())/4),d=Le.round((r.getY()+c.getY()+i.getY()+a.getY())/4),new tn(u,d)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,i,a,c,u){let d=Jr.getInstance(),h=this.getDimension(),x=h/2-this.nbCenterLayers,y=h/2+this.nbCenterLayers;return d.sampleGrid(r,h,h,x,x,y,x,y,y,x,y,i.getX(),i.getY(),a.getX(),a.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(r,i,a){let c=0,u=this.distanceResultPoint(r,i),d=u/a,h=r.getX(),x=r.getY(),y=d*(i.getX()-r.getX())/u,E=d*(i.getY()-r.getY())/u;for(let b=0;b<a;b++)this.image.get(Le.round(h+b*y),Le.round(x+b*E))&&(c|=1<<a-b-1);return c}isWhiteOrBlackRectangle(r,i,a,c){let u=3;r=new tn(r.getX()-u,r.getY()+u),i=new tn(i.getX()-u,i.getY()-u),a=new tn(a.getX()+u,a.getY()-u),c=new tn(c.getX()+u,c.getY()+u);let d=this.getColor(c,r);if(d===0)return!1;let h=this.getColor(r,i);return h!==d||(h=this.getColor(i,a),h!==d)?!1:(h=this.getColor(a,c),h===d)}getColor(r,i){let a=this.distancePoint(r,i),c=(i.getX()-r.getX())/a,u=(i.getY()-r.getY())/a,d=0,h=r.getX(),x=r.getY(),y=this.image.get(r.getX(),r.getY()),E=Math.ceil(a);for(let I=0;I<E;I++)h+=c,x+=u,this.image.get(Le.round(h),Le.round(x))!==y&&d++;let b=d/a;return b>.1&&b<.9?0:b<=.1===y?1:-1}getFirstDifferent(r,i,a,c){let u=r.getX()+a,d=r.getY()+c;for(;this.isValid(u,d)&&this.image.get(u,d)===i;)u+=a,d+=c;for(u-=a,d-=c;this.isValid(u,d)&&this.image.get(u,d)===i;)u+=a;for(u-=a;this.isValid(u,d)&&this.image.get(u,d)===i;)d+=c;return d-=c,new tn(u,d)}expandSquare(r,i,a){let c=a/(2*i),u=r[0].getX()-r[2].getX(),d=r[0].getY()-r[2].getY(),h=(r[0].getX()+r[2].getX())/2,x=(r[0].getY()+r[2].getY())/2,y=new he(h+c*u,x+c*d),E=new he(h-c*u,x-c*d);u=r[1].getX()-r[3].getX(),d=r[1].getY()-r[3].getY(),h=(r[1].getX()+r[3].getX())/2,x=(r[1].getY()+r[3].getY())/2;let b=new he(h+c*u,x+c*d),I=new he(h-c*u,x-c*d);return[y,b,E,I]}isValid(r,i){return r>=0&&r<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(r){let i=Le.round(r.getX()),a=Le.round(r.getY());return this.isValid(i,a)}distancePoint(r,i){return Le.distance(r.getX(),r.getY(),i.getX(),i.getY())}distanceResultPoint(r,i){return Le.distance(r.getX(),r.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class Ja{decode(r,i=null){let a=null,c=new n1(r.getBlackMatrix()),u=null,d=null;try{let E=c.detectMirror(!1);u=E.getPoints(),this.reportFoundResultPoints(i,u),d=new Ke().decode(E)}catch(E){a=E}if(d==null)try{let E=c.detectMirror(!0);u=E.getPoints(),this.reportFoundResultPoints(i,u),d=new Ke().decode(E)}catch(E){throw a??E}let h=new je(d.getText(),d.getRawBytes(),d.getNumBits(),u,ue.AZTEC,M.currentTimeMillis()),x=d.getByteSegments();x!=null&&h.putMetadata(vt.BYTE_SEGMENTS,x);let y=d.getECLevel();return y!=null&&h.putMetadata(vt.ERROR_CORRECTION_LEVEL,y),h}reportFoundResultPoints(r,i){if(r!=null){let a=r.get(X.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((c,u,d)=>{a.foundPossibleResultPoint(c)})}}reset(){}}class Rv extends Tt{constructor(r=500){super(new Ja,r)}}class Ct{decode(r,i){try{return this.doDecode(r,i)}catch{if(i&&i.get(X.TRY_HARDER)===!0&&r.isRotateSupported()){const u=r.rotateCounterClockwise(),d=this.doDecode(u,i),h=d.getResultMetadata();let x=270;h!==null&&h.get(vt.ORIENTATION)===!0&&(x=x+h.get(vt.ORIENTATION)%360),d.putMetadata(vt.ORIENTATION,x);const y=d.getResultPoints();if(y!==null){const E=u.getHeight();for(let b=0;b<y.length;b++)y[b]=new he(E-y[b].getY()-1,y[b].getX())}return d}else throw new G}}reset(){}doDecode(r,i){const a=r.getWidth(),c=r.getHeight();let u=new B(a);const d=i&&i.get(X.TRY_HARDER)===!0,h=Math.max(1,c>>(d?8:5));let x;d?x=c:x=15;const y=Math.trunc(c/2);for(let E=0;E<x;E++){const b=Math.trunc((E+1)/2),I=(E&1)===0,L=y+h*(I?b:-b);if(L<0||L>=c)break;try{u=r.getBlackRow(L,u)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(u.reverse(),i&&i.get(X.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;i.forEach((z,K)=>F.set(K,z)),F.delete(X.NEED_RESULT_POINT_CALLBACK),i=F}try{const F=this.decodeRow(L,u,i);if(j===1){F.putMetadata(vt.ORIENTATION,180);const z=F.getResultPoints();z!==null&&(z[0]=new he(a-z[0].getX()-1,z[0].getY()),z[1]=new he(a-z[1].getX()-1,z[1].getY()))}return F}catch{}}}throw new G}static recordPattern(r,i,a){const c=a.length;for(let y=0;y<c;y++)a[y]=0;const u=r.getSize();if(i>=u)throw new G;let d=!r.get(i),h=0,x=i;for(;x<u;){if(r.get(x)!==d)a[h]++;else{if(++h===c)break;a[h]=1,d=!d}x++}if(!(h===c||h===c-1&&x===u))throw new G}static recordPatternInReverse(r,i,a){let c=a.length,u=r.get(i);for(;i>0&&c>=0;)r.get(--i)!==u&&(c--,u=!u);if(c>=0)throw new G;Ct.recordPattern(r,i+1,a)}static patternMatchVariance(r,i,a){const c=r.length;let u=0,d=0;for(let y=0;y<c;y++)u+=r[y],d+=i[y];if(u<d)return Number.POSITIVE_INFINITY;const h=u/d;a*=h;let x=0;for(let y=0;y<c;y++){const E=r[y],b=i[y]*h,I=E>b?E-b:b-E;if(I>a)return Number.POSITIVE_INFINITY;x+=I}return x/u}}class se extends Ct{static findStartPattern(r){const i=r.getSize(),a=r.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),d=a,h=!1;const x=6;for(let y=a;y<i;y++)if(r.get(y)!==h)u[c]++;else{if(c===x-1){let E=se.MAX_AVG_VARIANCE,b=-1;for(let I=se.CODE_START_A;I<=se.CODE_START_C;I++){const L=Ct.patternMatchVariance(u,se.CODE_PATTERNS[I],se.MAX_INDIVIDUAL_VARIANCE);L<E&&(E=L,b=I)}if(b>=0&&r.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,b]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,h=!h}throw new G}static decodeCode(r,i,a){Ct.recordPattern(r,a,i);let c=se.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<se.CODE_PATTERNS.length;d++){const h=se.CODE_PATTERNS[d],x=this.patternMatchVariance(i,h,se.MAX_INDIVIDUAL_VARIANCE);x<c&&(c=x,u=d)}if(u>=0)return u;throw new G}decodeRow(r,i,a){const c=a&&a.get(X.ASSUME_GS1)===!0,u=se.findStartPattern(i),d=u[2];let h=0;const x=new Uint8Array(20);x[h++]=d;let y;switch(d){case se.CODE_START_A:y=se.CODE_CODE_A;break;case se.CODE_START_B:y=se.CODE_CODE_B;break;case se.CODE_START_C:y=se.CODE_CODE_C;break;default:throw new U}let E=!1,b=!1,I="",L=u[0],j=u[1];const F=Int32Array.from([0,0,0,0,0,0]);let z=0,K=0,ee=d,te=0,$=!0,Oe=!1,be=!1;for(;!E;){const _i=b;switch(b=!1,z=K,K=se.decodeCode(i,F,j),x[h++]=K,K!==se.CODE_STOP&&($=!0),K!==se.CODE_STOP&&(te++,ee+=te*K),L=j,j+=F.reduce((iC,oC)=>iC+oC,0),K){case se.CODE_START_A:case se.CODE_START_B:case se.CODE_START_C:throw new U}switch(y){case se.CODE_CODE_A:if(K<64)be===Oe?I+=String.fromCharCode(" ".charCodeAt(0)+K):I+=String.fromCharCode(" ".charCodeAt(0)+K+128),be=!1;else if(K<96)be===Oe?I+=String.fromCharCode(K-64):I+=String.fromCharCode(K+64),be=!1;else switch(K!==se.CODE_STOP&&($=!1),K){case se.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_A:!Oe&&be?(Oe=!0,be=!1):Oe&&be?(Oe=!1,be=!1):be=!0;break;case se.CODE_SHIFT:b=!0,y=se.CODE_CODE_B;break;case se.CODE_CODE_B:y=se.CODE_CODE_B;break;case se.CODE_CODE_C:y=se.CODE_CODE_C;break;case se.CODE_STOP:E=!0;break}break;case se.CODE_CODE_B:if(K<96)be===Oe?I+=String.fromCharCode(" ".charCodeAt(0)+K):I+=String.fromCharCode(" ".charCodeAt(0)+K+128),be=!1;else switch(K!==se.CODE_STOP&&($=!1),K){case se.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_B:!Oe&&be?(Oe=!0,be=!1):Oe&&be?(Oe=!1,be=!1):be=!0;break;case se.CODE_SHIFT:b=!0,y=se.CODE_CODE_A;break;case se.CODE_CODE_A:y=se.CODE_CODE_A;break;case se.CODE_CODE_C:y=se.CODE_CODE_C;break;case se.CODE_STOP:E=!0;break}break;case se.CODE_CODE_C:if(K<100)K<10&&(I+="0"),I+=K;else switch(K!==se.CODE_STOP&&($=!1),K){case se.CODE_FNC_1:c&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case se.CODE_CODE_A:y=se.CODE_CODE_A;break;case se.CODE_CODE_B:y=se.CODE_CODE_B;break;case se.CODE_STOP:E=!0;break}break}_i&&(y=y===se.CODE_CODE_A?se.CODE_CODE_B:se.CODE_CODE_A)}const fn=j-L;if(j=i.getNextUnset(j),!i.isRange(j,Math.min(i.getSize(),j+(j-L)/2),!1))throw new G;if(ee-=te*z,ee%103!==z)throw new R;const Jn=I.length;if(Jn===0)throw new G;Jn>0&&$&&(y===se.CODE_CODE_C?I=I.substring(0,Jn-2):I=I.substring(0,Jn-1));const hn=(u[1]+u[0])/2,Qe=L+fn/2,Ft=x.length,An=new Uint8Array(Ft);for(let _i=0;_i<Ft;_i++)An[_i]=x[_i];const Ii=[new he(hn,r),new he(Qe,r)];return new je(I,An,0,Ii,ue.CODE_128,new Date().getTime())}}se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],se.MAX_AVG_VARIANCE=.25,se.MAX_INDIVIDUAL_VARIANCE=.7,se.CODE_SHIFT=98,se.CODE_CODE_C=99,se.CODE_CODE_B=100,se.CODE_CODE_A=101,se.CODE_FNC_1=102,se.CODE_FNC_2=97,se.CODE_FNC_3=96,se.CODE_FNC_4_A=101,se.CODE_FNC_4_B=100,se.CODE_START_A=103,se.CODE_START_B=104,se.CODE_START_C=105,se.CODE_STOP=106;class Nt extends Ct{constructor(r=!1,i=!1){super(),this.usingCheckDigit=r,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,i,a){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=Nt.findAsteriskPattern(i,c),d=i.getNextSet(u[1]),h=i.getSize(),x,y;do{Nt.recordPattern(i,d,c);let F=Nt.toNarrowWidePattern(c);if(F<0)throw new G;x=Nt.patternToChar(F),this.decodeRowResult+=x,y=d;for(let z of c)d+=z;d=i.getNextSet(d)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let F of c)E+=F;let b=d-y-E;if(d!==h&&b*2<E)throw new G;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,z=0;for(let K=0;K<F;K++)z+=Nt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(F)!==Nt.ALPHABET_STRING.charAt(z%43))throw new R;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new G;let I;this.extendedMode?I=Nt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let L=(u[1]+u[0])/2,j=y+E/2;return new je(I,null,0,[new he(L,r),new he(j,r)],ue.CODE_39,new Date().getTime())}static findAsteriskPattern(r,i){let a=r.getSize(),c=r.getNextSet(0),u=0,d=c,h=!1,x=i.length;for(let y=c;y<a;y++)if(r.get(y)!==h)i[u]++;else{if(u===x-1){if(this.toNarrowWidePattern(i)===Nt.ASTERISK_ENCODING&&r.isRange(Math.max(0,d-Math.floor((y-d)/2)),d,!1))return[d,y];d+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,h=!h}throw new G}static toNarrowWidePattern(r){let i=r.length,a=0,c;do{let u=2147483647;for(let x of r)x<u&&x>a&&(u=x);a=u,c=0;let d=0,h=0;for(let x=0;x<i;x++){let y=r[x];y>a&&(h|=1<<i-1-x,c++,d+=y)}if(c===3){for(let x=0;x<i&&c>0;x++){let y=r[x];if(y>a&&(c--,y*2>=d))return-1}return h}}while(c>3);return-1}static patternToChar(r){for(let i=0;i<Nt.CHARACTER_ENCODINGS.length;i++)if(Nt.CHARACTER_ENCODINGS[i]===r)return Nt.ALPHABET_STRING.charAt(i);if(r===Nt.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(r){let i=r.length,a="";for(let c=0;c<i;c++){let u=r.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let d=r.charAt(c+1),h="\0";switch(u){case"+":if(d>="A"&&d<="Z")h=String.fromCharCode(d.charCodeAt(0)+32);else throw new U;break;case"$":if(d>="A"&&d<="Z")h=String.fromCharCode(d.charCodeAt(0)-64);else throw new U;break;case"%":if(d>="A"&&d<="E")h=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")h=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")h=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")h=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")h="\0";else if(d==="V")h="@";else if(d==="W")h="`";else if(d==="X"||d==="Y"||d==="Z")h="";else throw new U;break;case"/":if(d>="A"&&d<="O")h=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")h=":";else throw new U;break}a+=h,c++}else a+=u}return a}}Nt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Nt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Nt.ASTERISK_ENCODING=148;class Xe extends Ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,i,a){let c=this.decodeStart(i),u=this.decodeEnd(i),d=new re;Xe.decodeMiddle(i,c[1],u[0],d);let h=d.toString(),x=null;a!=null&&(x=a.get(X.ALLOWED_LENGTHS)),x==null&&(x=Xe.DEFAULT_ALLOWED_LENGTHS);let y=h.length,E=!1,b=0;for(let j of x){if(y===j){E=!0;break}j>b&&(b=j)}if(!E&&y>b&&(E=!0),!E)throw new U;const I=[new he(c[1],r),new he(u[0],r)];return new je(h,null,0,I,ue.ITF,new Date().getTime())}static decodeMiddle(r,i,a,c){let u=new Int32Array(10),d=new Int32Array(5),h=new Int32Array(5);for(u.fill(0),d.fill(0),h.fill(0);i<a;){Ct.recordPattern(r,i,u);for(let y=0;y<5;y++){let E=2*y;d[y]=u[E],h[y]=u[E+1]}let x=Xe.decodeDigit(d);c.append(x.toString()),x=this.decodeDigit(h),c.append(x.toString()),u.forEach(function(y){i+=y})}}decodeStart(r){let i=Xe.skipWhiteSpace(r),a=Xe.findGuardPattern(r,i,Xe.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(r,a[0]),a}validateQuietZone(r,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let c=i-1;a>0&&c>=0&&!r.get(c);c--)a--;if(a!==0)throw new G}static skipWhiteSpace(r){const i=r.getSize(),a=r.getNextSet(0);if(a===i)throw new G;return a}decodeEnd(r){r.reverse();try{let i=Xe.skipWhiteSpace(r),a;try{a=Xe.findGuardPattern(r,i,Xe.END_PATTERN_REVERSED[0])}catch(u){u instanceof G&&(a=Xe.findGuardPattern(r,i,Xe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,a[0]);let c=a[0];return a[0]=r.getSize()-a[1],a[1]=r.getSize()-c,a}finally{r.reverse()}}static findGuardPattern(r,i,a){let c=a.length,u=new Int32Array(c),d=r.getSize(),h=!1,x=0,y=i;u.fill(0);for(let E=i;E<d;E++)if(r.get(E)!==h)u[x]++;else{if(x===c-1){if(Ct.patternMatchVariance(u,a,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return[y,E];y+=u[0]+u[1],M.arraycopy(u,2,u,0,x-1),u[x-1]=0,u[x]=0,x--}else x++;u[x]=1,h=!h}throw new G}static decodeDigit(r){let i=Xe.MAX_AVG_VARIANCE,a=-1,c=Xe.PATTERNS.length;for(let u=0;u<c;u++){let d=Xe.PATTERNS[u],h=Ct.patternMatchVariance(r,d,Xe.MAX_INDIVIDUAL_VARIANCE);h<i?(i=h,a=u):h===i&&(a=-1)}if(a>=0)return a%10;throw new G}}Xe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xe.MAX_AVG_VARIANCE=.38,Xe.MAX_INDIVIDUAL_VARIANCE=.5,Xe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xe.START_PATTERN=Int32Array.from([1,1,1,1]),Xe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dt extends Ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let i=!1,a,c=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),a=dt.findGuardPattern(r,c,!1,this.START_END_PATTERN,u);let d=a[0];c=a[1];let h=d-(c-d);h>=0&&(i=r.isRange(h,d,!1))}return a}static checkChecksum(r){return dt.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let a=parseInt(r.charAt(i-1),10);return dt.getStandardUPCEANChecksum(r.substring(0,i-1))===a}static getStandardUPCEANChecksum(r){let i=r.length,a=0;for(let c=i-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new U;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new U;a+=u}return(1e3-a)%10}static decodeEnd(r,i){return dt.findGuardPattern(r,i,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,i,a,c){return this.findGuardPattern(r,i,a,c,new Int32Array(c.length))}static findGuardPattern(r,i,a,c,u){let d=r.getSize();i=a?r.getNextUnset(i):r.getNextSet(i);let h=0,x=i,y=c.length,E=a;for(let b=i;b<d;b++)if(r.get(b)!==E)u[h]++;else{if(h===y-1){if(Ct.patternMatchVariance(u,c,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return Int32Array.from([x,b]);x+=u[0]+u[1];let I=u.slice(2,u.length-1);for(let L=0;L<h-1;L++)u[L]=I[L];u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,E=!E}throw new G}static decodeDigit(r,i,a,c){this.recordPattern(r,a,i);let u=this.MAX_AVG_VARIANCE,d=-1,h=c.length;for(let x=0;x<h;x++){let y=c[x],E=Ct.patternMatchVariance(i,y,dt.MAX_INDIVIDUAL_VARIANCE);E<u&&(u=E,d=x)}if(d>=0)return d;throw new G}}dt.MAX_AVG_VARIANCE=.48,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.START_END_PATTERN=Int32Array.from([1,1,1]),dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class To{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),d=c.toString(),h=To.parseExtensionString(d),x=[new he((a[0]+a[1])/2,r),new he(u,r)],y=new je(d,null,0,x,ue.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(r,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=i[1],h=0;for(let y=0;y<5&&d<u;y++){let E=dt.decodeDigit(r,c,d,dt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let b of c)d+=b;E>=10&&(h|=1<<4-y),y!==4&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(a.length!==5)throw new G;let x=this.determineCheckDigit(h);if(To.extensionChecksum(a.toString())!==x)throw new G;return d}static extensionChecksum(r){let i=r.length,a=0;for(let c=i-2;c>=0;c-=2)a+=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);a*=3;for(let c=i-1;c>=0;c-=2)a+=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);return a*=3,a%10}determineCheckDigit(r){for(let i=0;i<10;i++)if(r===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new G}static parseExtensionString(r){if(r.length!==5)return null;let i=To.parseExtension5String(r);return i==null?null:new Map([[vt.SUGGESTED_PRICE,i]])}static parseExtension5String(r){let i;switch(r.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(r.substring(1)),c=(a/100).toString(),u=a%100,d=u<10?"0"+u:u.toString();return i+c+"."+d}}class _u{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,i,a){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(i,a,c),d=c.toString(),h=_u.parseExtensionString(d),x=[new he((a[0]+a[1])/2,r),new he(u,r)],y=new je(d,null,0,x,ue.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&y.putAllMetadata(h),y}decodeMiddle(r,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=i[1],h=0;for(let x=0;x<2&&d<u;x++){let y=dt.decodeDigit(r,c,d,dt.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+y%10);for(let E of c)d+=E;y>=10&&(h|=1<<1-x),x!==1&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(a.length!==2)throw new G;if(parseInt(a.toString())%4!==h)throw new G;return d}static parseExtensionString(r){return r.length!==2?null:new Map([[vt.ISSUE_NUMBER,parseInt(r)]])}}class r1{static decodeRow(r,i,a){let c=dt.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new To().decodeRow(r,i,c)}catch{return new _u().decodeRow(r,i,c)}}}r1.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ue extends dt{constructor(){super(),this.decodeRowStringBuffer="",Ue.L_AND_G_PATTERNS=Ue.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let i=Ue.L_PATTERNS[r-10],a=new Int32Array(i.length);for(let c=0;c<i.length;c++)a[c]=i[i.length-c-1];Ue.L_AND_G_PATTERNS[r]=a}}decodeRow(r,i,a){let c=Ue.findStartGuardPattern(i),u=a==null?null:a.get(X.NEED_RESULT_POINT_CALLBACK);if(u!=null){const $=new he((c[0]+c[1])/2,r);u.foundPossibleResultPoint($)}let d=this.decodeMiddle(i,c,this.decodeRowStringBuffer),h=d.rowOffset,x=d.resultString;if(u!=null){const $=new he(h,r);u.foundPossibleResultPoint($)}let y=this.decodeEnd(i,h);if(u!=null){const $=new he((y[0]+y[1])/2,r);u.foundPossibleResultPoint($)}let E=y[1],b=E+(E-y[0]);if(b>=i.getSize()||!i.isRange(E,b,!1))throw new G;let I=x.toString();if(I.length<8)throw new U;if(!Ue.checkChecksum(I))throw new R;let L=(c[1]+c[0])/2,j=(y[1]+y[0])/2,F=this.getBarcodeFormat(),z=[new he(L,r),new he(j,r)],K=new je(I,null,0,z,F,new Date().getTime()),ee=0;try{let $=r1.decodeRow(r,i,y[1]);K.putMetadata(vt.UPC_EAN_EXTENSION,$.getText()),K.putAllMetadata($.getResultMetadata()),K.addResultPoints($.getResultPoints()),ee=$.getText().length}catch{}let te=a==null?null:a.get(X.ALLOWED_EAN_EXTENSIONS);if(te!=null){let $=!1;for(let Oe in te)if(ee.toString()===Oe){$=!0;break}if(!$)throw new G}return K}decodeEnd(r,i){return Ue.findGuardPattern(r,i,!1,Ue.START_END_PATTERN,new Int32Array(Ue.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Ue.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let i=r.length;if(i===0)return!1;let a=parseInt(r.charAt(i-1),10);return Ue.getStandardUPCEANChecksum(r.substring(0,i-1))===a}static getStandardUPCEANChecksum(r){let i=r.length,a=0;for(let c=i-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new U;a+=u}a*=3;for(let c=i-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-"0".charCodeAt(0);if(u<0||u>9)throw new U;a+=u}return(1e3-a)%10}}class Hs extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,a){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=i[1],h=0;for(let y=0;y<6&&d<u;y++){let E=Ue.decodeDigit(r,c,d,Ue.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let b of c)d+=b;E>=10&&(h|=1<<5-y)}a=Hs.determineFirstDigit(a,h),d=Ue.findGuardPattern(r,d,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&d<u;y++){let E=Ue.decodeDigit(r,c,d,Ue.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+E);for(let b of c)d+=b}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return ue.EAN_13}static determineFirstDigit(r,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return r=String.fromCharCode("0".charCodeAt(0)+a)+r,r;throw new G}}Hs.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class s1 extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,i,a){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=i[1];for(let x=0;x<4&&d<u;x++){let y=Ue.decodeDigit(r,c,d,Ue.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+y);for(let E of c)d+=E}d=Ue.findGuardPattern(r,d,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&d<u;x++){let y=Ue.decodeDigit(r,c,d,Ue.L_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+y);for(let E of c)d+=E}return{rowOffset:d,resultString:a}}getBarcodeFormat(){return ue.EAN_8}}class i1 extends Ue{constructor(){super(...arguments),this.ean13Reader=new Hs}getBarcodeFormat(){return ue.UPC_A}decode(r,i){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,i,a))}decodeMiddle(r,i,a){return this.ean13Reader.decodeMiddle(r,i,a)}maybeReturnResult(r){let i=r.getText();if(i.charAt(0)==="0"){let a=new je(i.substring(1),null,null,r.getResultPoints(),ue.UPC_A);return r.getResultMetadata()!=null&&a.putAllMetadata(r.getResultMetadata()),a}else throw new G}reset(){this.ean13Reader.reset()}}class $n extends Ue{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,i,a){const c=this.decodeMiddleCounters.map(y=>y);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=r.getSize();let d=i[1],h=0;for(let y=0;y<6&&d<u;y++){const E=$n.decodeDigit(r,c,d,$n.L_AND_G_PATTERNS);a+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let b of c)d+=b;E>=10&&(h|=1<<5-y)}let x=$n.determineNumSysAndCheckDigit(a,h);return{rowOffset:d,resultString:x}}decodeEnd(r,i){return $n.findGuardPatternWithoutCounters(r,i,!0,$n.MIDDLE_END_PATTERN)}checkChecksum(r){return Ue.checkChecksum($n.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,i){for(let a=0;a<=1;a++)for(let c=0;c<10;c++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][c]){let u=String.fromCharCode("0".charCodeAt(0)+a),d=String.fromCharCode("0".charCodeAt(0)+c);return u+r+d}throw G.getNotFoundInstance()}getBarcodeFormat(){return ue.UPC_E}static convertUPCEtoUPCA(r){const i=r.slice(1,7).split("").map(u=>u.charCodeAt(0)),a=new re;a.append(r.charAt(0));let c=i[5];switch(c){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(c),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(c);break}return r.length>=8&&a.append(r.charAt(7)),a.toString()}}$n.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$n.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ru extends Ct{constructor(r){super();let i=r==null?null:r.get(X.POSSIBLE_FORMATS),a=[];s(i)?(a.push(new Hs),a.push(new i1),a.push(new s1),a.push(new $n)):(i.indexOf(ue.EAN_13)>-1&&a.push(new Hs),i.indexOf(ue.UPC_A)>-1&&a.push(new i1),i.indexOf(ue.EAN_8)>-1&&a.push(new s1),i.indexOf(ue.UPC_E)>-1&&a.push(new $n)),this.readers=a}decodeRow(r,i,a){for(let c of this.readers)try{const u=c.decodeRow(r,i,a),d=u.getBarcodeFormat()===ue.EAN_13&&u.getText().charAt(0)==="0",h=a==null?null:a.get(X.POSSIBLE_FORMATS),x=h==null||h.includes(ue.UPC_A);if(d&&x){const y=u.getRawBytes(),E=new je(u.getText().substring(1),y,y?y.length:null,u.getResultPoints(),ue.UPC_A);return E.putAllMetadata(u.getResultMetadata()),E}return u}catch{}throw new G}reset(){for(let r of this.readers)r.reset()}}class Yt extends Ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,i){for(let a=0;a<i.length;a++)if(Ct.patternMatchVariance(r,i[a],Yt.MAX_INDIVIDUAL_VARIANCE)<Yt.MAX_AVG_VARIANCE)return a;throw new G}static count(r){return Le.sum(new Int32Array(r))}static increment(r,i){let a=0,c=i[0];for(let u=1;u<r.length;u++)i[u]>c&&(c=i[u],a=u);r[a]++}static decrement(r,i){let a=0,c=i[0];for(let u=1;u<r.length;u++)i[u]<c&&(c=i[u],a=u);r[a]--}static isFinderPattern(r){let i=r[0]+r[1],a=i+r[2]+r[3],c=i/a;if(c>=Yt.MIN_FINDER_PATTERN_RATIO&&c<=Yt.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let h of r)h>d&&(d=h),h<u&&(u=h);return d<10*u}return!1}}Yt.MAX_AVG_VARIANCE=.2,Yt.MAX_INDIVIDUAL_VARIANCE=.45,Yt.MIN_FINDER_PATTERN_RATIO=9.5/12,Yt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ci{constructor(r,i){this.value=r,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Ci))return!1;const i=r;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class el{constructor(r,i,a,c,u){this.value=r,this.startEnd=i,this.value=r,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new he(a,u)),this.resultPoints.push(new he(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof el))return!1;const i=r;return this.value===i.value}hashCode(){return this.value}}class pr{constructor(){}static getRSSvalue(r,i,a){let c=0;for(let x of r)c+=x;let u=0,d=0,h=r.length;for(let x=0;x<h-1;x++){let y;for(y=1,d|=1<<x;y<r[x];y++,d&=~(1<<x)){let E=pr.combins(c-y-1,h-x-2);if(a&&d===0&&c-y-(h-x-1)>=h-x-1&&(E-=pr.combins(c-y-(h-x),h-x-2)),h-x-1>1){let b=0;for(let I=c-y-(h-x-2);I>i;I--)b+=pr.combins(c-y-I-1,h-x-3);E-=b*(h-1-x)}else c-y>i&&E--;u+=E}c-=y}return u}static combins(r,i){let a,c;r-i>i?(c=i,a=r-i):(c=r-i,a=i);let u=1,d=1;for(let h=r;h>a;h--)u*=h,d<=c&&(u/=d,d++);for(;d<=c;)u/=d,d++;return u}}class Ov{static buildBitArray(r){let i=r.length*2-1;r[r.length-1].getRightChar()==null&&(i-=1);let a=12*i,c=new B(a),u=0,h=r[0].getRightChar().getValue();for(let x=11;x>=0;--x)h&1<<x&&c.set(u),u++;for(let x=1;x<r.length;++x){let y=r[x],E=y.getLeftChar().getValue();for(let b=11;b>=0;--b)E&1<<b&&c.set(u),u++;if(y.getRightChar()!=null){let b=y.getRightChar().getValue();for(let I=11;I>=0;--I)b&1<<I&&c.set(u),u++}}return c}}class Ws{constructor(r,i){i?this.decodedInformation=null:(this.finished=r,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ou{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class cn extends Ou{constructor(r,i){super(r),this.value=i}getValue(){return this.value}isFNC1(){return this.value===cn.FNC1}}cn.FNC1="$";class Gs extends Ou{constructor(r,i,a){super(r),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Ln extends Ou{constructor(r,i,a){if(super(r),i<0||i>10||a<0||a>10)throw new U;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Ln.FNC1}isSecondDigitFNC1(){return this.secondDigit===Ln.FNC1}isAnyFNC1(){return this.firstDigit===Ln.FNC1||this.secondDigit===Ln.FNC1}}Ln.FNC1=10;class oe{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new G;let i=r.substring(0,2);for(let u of oe.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(2,u[2],r):oe.processFixedAI(2,u[1],r);if(r.length<3)throw new G;let a=r.substring(0,3);for(let u of oe.THREE_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(3,u[2],r):oe.processFixedAI(3,u[1],r);for(let u of oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===a)return u[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(4,u[2],r):oe.processFixedAI(4,u[1],r);if(r.length<4)throw new G;let c=r.substring(0,4);for(let u of oe.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===oe.VARIABLE_LENGTH?oe.processVariableAI(4,u[2],r):oe.processFixedAI(4,u[1],r);throw new G}static processFixedAI(r,i,a){if(a.length<r)throw new G;let c=a.substring(0,r);if(a.length<r+i)throw new G;let u=a.substring(r,r+i),d=a.substring(r+i),h="("+c+")"+u,x=oe.parseFieldsInGeneralPurpose(d);return x==null?h:h+x}static processVariableAI(r,i,a){let c=a.substring(0,r),u;a.length<r+i?u=a.length:u=r+i;let d=a.substring(r,u),h=a.substring(u),x="("+c+")"+d,y=oe.parseFieldsInGeneralPurpose(h);return y==null?x:x+y}}oe.VARIABLE_LENGTH=[],oe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",oe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",oe.VARIABLE_LENGTH,20],["22",oe.VARIABLE_LENGTH,29],["30",oe.VARIABLE_LENGTH,8],["37",oe.VARIABLE_LENGTH,8],["90",oe.VARIABLE_LENGTH,30],["91",oe.VARIABLE_LENGTH,30],["92",oe.VARIABLE_LENGTH,30],["93",oe.VARIABLE_LENGTH,30],["94",oe.VARIABLE_LENGTH,30],["95",oe.VARIABLE_LENGTH,30],["96",oe.VARIABLE_LENGTH,30],["97",oe.VARIABLE_LENGTH,3],["98",oe.VARIABLE_LENGTH,30],["99",oe.VARIABLE_LENGTH,30]],oe.THREE_DIGIT_DATA_LENGTH=[["240",oe.VARIABLE_LENGTH,30],["241",oe.VARIABLE_LENGTH,30],["242",oe.VARIABLE_LENGTH,6],["250",oe.VARIABLE_LENGTH,30],["251",oe.VARIABLE_LENGTH,30],["253",oe.VARIABLE_LENGTH,17],["254",oe.VARIABLE_LENGTH,20],["400",oe.VARIABLE_LENGTH,30],["401",oe.VARIABLE_LENGTH,30],["402",17],["403",oe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",oe.VARIABLE_LENGTH,20],["421",oe.VARIABLE_LENGTH,15],["422",3],["423",oe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],oe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",oe.VARIABLE_LENGTH,15],["391",oe.VARIABLE_LENGTH,18],["392",oe.VARIABLE_LENGTH,15],["393",oe.VARIABLE_LENGTH,18],["703",oe.VARIABLE_LENGTH,30]],oe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",oe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",oe.VARIABLE_LENGTH,20],["8003",oe.VARIABLE_LENGTH,30],["8004",oe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",oe.VARIABLE_LENGTH,30],["8008",oe.VARIABLE_LENGTH,12],["8018",18],["8020",oe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",oe.VARIABLE_LENGTH,70],["8200",oe.VARIABLE_LENGTH,70]];class Ei{constructor(r){this.buffer=new re,this.information=r}decodeAllCodes(r,i){let a=i,c=null;do{let u=this.decodeGeneralPurposeField(a,c),d=oe.parseFieldsInGeneralPurpose(u.getNewString());if(d!=null&&r.append(d),u.isRemaining()?c=""+u.getRemainingValue():c=null,a===u.getNewPosition())break;a=u.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let i=r;i<r+3;++i)if(this.information.get(i))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(r,4);return u===0?new Ln(this.information.getSize(),Ln.FNC1,Ln.FNC1):new Ln(this.information.getSize(),u-1,Ln.FNC1)}let i=this.extractNumericValueFromBitArray(r,7),a=(i-8)/11,c=(i-8)%11;return new Ln(r+7,a,c)}extractNumericValueFromBitArray(r,i){return Ei.extractNumericValueFromBitArray(this.information,r,i)}static extractNumericValueFromBitArray(r,i,a){let c=0;for(let u=0;u<a;++u)r.get(i+u)&&(c|=1<<a-u-1);return c}decodeGeneralPurposeField(r,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(r);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Gs(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Gs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),r=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),r=i.isFinished()):(i=this.parseNumericBlock(),r=i.isFinished()),!(a!==this.current.getPosition())&&!r)break}while(!r);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let i;return r.isSecondDigitFNC1()?i=new Gs(this.current.getPosition(),this.buffer.toString()):i=new Gs(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new Ws(!0,i)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let i=new Gs(this.current.getPosition(),this.buffer.toString());return new Ws(!0,i)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ws(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new Gs(this.current.getPosition(),this.buffer.toString());return new Ws(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ws(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let i=new Gs(this.current.getPosition(),this.buffer.toString());return new Ws(!0,i)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ws(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,7);if(a>=64&&a<116)return!0;if(r+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,8);return c>=232&&c<253}decodeIsoIec646(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new cn(r+5,cn.FNC1);if(i>=5&&i<15)return new cn(r+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(r,7);if(a>=64&&a<90)return new cn(r+7,""+(a+1));if(a>=90&&a<116)return new cn(r+7,""+(a+7));let c=this.extractNumericValueFromBitArray(r,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new U}return new cn(r+8,u)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(r,5);if(i>=5&&i<16)return!0;if(r+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(r,6);return a>=16&&a<63}decodeAlphanumeric(r){let i=this.extractNumericValueFromBitArray(r,5);if(i===15)return new cn(r+5,cn.FNC1);if(i>=5&&i<15)return new cn(r+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(r,6);if(a>=32&&a<58)return new cn(r+6,""+(a+33));let c;switch(a){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new hr("Decoding invalid alphanumeric value: "+a)}return new cn(r+6,c)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<5&&i+r<this.information.getSize();++i)if(i===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+i))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let i=r;i<r+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let i=0;i<4&&i+r<this.information.getSize();++i)if(this.information.get(r+i))return!1;return!0}}class Mu{constructor(r){this.information=r,this.generalDecoder=new Ei(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class un extends Mu{constructor(r){super(r)}encodeCompressedGtin(r,i){r.append("(01)");let a=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,i,a)}encodeCompressedGtinWithoutAI(r,i,a){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*c,10);u/100===0&&r.append("0"),u/10===0&&r.append("0"),r.append(u)}un.appendCheckDigit(r,a)}static appendCheckDigit(r,i){let a=0;for(let c=0;c<13;c++){let u=r.charAt(c+i).charCodeAt(0)-"0".charCodeAt(0);a+=c&1?u:3*u}a=10-a%10,a===10&&(a=0),r.append(a)}}un.GTIN_SIZE=40;class Ai extends un{constructor(r){super(r)}parseInformation(){let r=new re;r.append("(01)");let i=r.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Ai.HEADER_SIZE,4);return r.append(a),this.encodeCompressedGtinWithoutAI(r,Ai.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(r,Ai.HEADER_SIZE+44)}}Ai.HEADER_SIZE=1+1+2;class tl extends Mu{constructor(r){super(r)}parseInformation(){let r=new re;return this.getGeneralDecoder().decodeAllCodes(r,tl.HEADER_SIZE)}}tl.HEADER_SIZE=2+1+2;class nl extends un{constructor(r){super(r)}encodeCompressedWeight(r,i,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(r,c);let u=this.checkWeight(c),d=1e5;for(let h=0;h<5;++h)u/d===0&&r.append("0"),d/=10;r.append(u)}}class gr extends nl{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=gr.HEADER_SIZE+nl.GTIN_SIZE+gr.WEIGHT_SIZE)throw new G;let r=new re;return this.encodeCompressedGtin(r,gr.HEADER_SIZE),this.encodeCompressedWeight(r,gr.HEADER_SIZE+nl.GTIN_SIZE,gr.WEIGHT_SIZE),r.toString()}}gr.HEADER_SIZE=4+1,gr.WEIGHT_SIZE=15;class Mv extends gr{constructor(r){super(r)}addWeightCode(r,i){r.append("(3103)")}checkWeight(r){return r}}class Dv extends gr{constructor(r){super(r)}addWeightCode(r,i){i<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class mr extends un{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<mr.HEADER_SIZE+un.GTIN_SIZE)throw new G;let r=new re;this.encodeCompressedGtin(r,mr.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+un.GTIN_SIZE,mr.LAST_DIGIT_SIZE);r.append("(392"),r.append(i),r.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(mr.HEADER_SIZE+un.GTIN_SIZE+mr.LAST_DIGIT_SIZE,null);return r.append(a.getNewString()),r.toString()}}mr.HEADER_SIZE=5+1+2,mr.LAST_DIGIT_SIZE=2;class nn extends un{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<nn.HEADER_SIZE+un.GTIN_SIZE)throw new G;let r=new re;this.encodeCompressedGtin(r,nn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(nn.HEADER_SIZE+un.GTIN_SIZE,nn.LAST_DIGIT_SIZE);r.append("(393"),r.append(i),r.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(nn.HEADER_SIZE+un.GTIN_SIZE+nn.LAST_DIGIT_SIZE,nn.FIRST_THREE_DIGITS_SIZE);a/100==0&&r.append("0"),a/10==0&&r.append("0"),r.append(a);let c=this.getGeneralDecoder().decodeGeneralPurposeField(nn.HEADER_SIZE+un.GTIN_SIZE+nn.LAST_DIGIT_SIZE+nn.FIRST_THREE_DIGITS_SIZE,null);return r.append(c.getNewString()),r.toString()}}nn.HEADER_SIZE=5+1+2,nn.LAST_DIGIT_SIZE=2,nn.FIRST_THREE_DIGITS_SIZE=10;class rt extends nl{constructor(r,i,a){super(r),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE+rt.DATE_SIZE)throw new G;let r=new re;return this.encodeCompressedGtin(r,rt.HEADER_SIZE),this.encodeCompressedWeight(r,rt.HEADER_SIZE+rt.GTIN_SIZE,rt.WEIGHT_SIZE),this.encodeCompressedDate(r,rt.HEADER_SIZE+rt.GTIN_SIZE+rt.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,rt.DATE_SIZE);if(a==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let c=a%32;a/=32;let u=a%12+1;a/=12;let d=a;d/10==0&&r.append("0"),r.append(d),u/10==0&&r.append("0"),r.append(u),c/10==0&&r.append("0"),r.append(c)}addWeightCode(r,i){r.append("("),r.append(this.firstAIdigits),r.append(i/1e5),r.append(")")}checkWeight(r){return r%1e5}}rt.HEADER_SIZE=7+1,rt.WEIGHT_SIZE=20,rt.DATE_SIZE=16;function o1(S){try{if(S.get(1))return new Ai(S);if(!S.get(2))return new tl(S);switch(Ei.extractNumericValueFromBitArray(S,1,4)){case 4:return new Mv(S);case 5:return new Dv(S)}switch(Ei.extractNumericValueFromBitArray(S,1,5)){case 12:return new mr(S);case 13:return new nn(S)}switch(Ei.extractNumericValueFromBitArray(S,1,7)){case 56:return new rt(S,"310","11");case 57:return new rt(S,"320","11");case 58:return new rt(S,"310","13");case 59:return new rt(S,"320","13");case 60:return new rt(S,"310","15");case 61:return new rt(S,"320","15");case 62:return new rt(S,"310","17");case 63:return new rt(S,"320","17")}}catch(r){throw console.log(r),new hr("unknown decoder: "+S)}}class es{constructor(r,i,a,c){this.leftchar=r,this.rightchar=i,this.finderpattern=a,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,i){return r instanceof es?es.equalsOrNull(r.leftchar,i.leftchar)&&es.equalsOrNull(r.rightchar,i.rightchar)&&es.equalsOrNull(r.finderpattern,i.finderpattern):!1}static equalsOrNull(r,i){return r===null?i===null:es.equals(r,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Du{constructor(r,i,a){this.pairs=r,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,i){return r instanceof Du?this.checkEqualitity(r,i)&&r.wasReversed===i.wasReversed:!1}checkEqualitity(r,i){if(!r||!i)return;let a;return r.forEach((c,u)=>{i.forEach(d=>{c.getLeftChar().getValue()===d.getLeftChar().getValue()&&c.getRightChar().getValue()===d.getRightChar().getValue()&&c.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(a=!0)})}),a}}class q extends Yt{constructor(r){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,i,a){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(r,i))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(r,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,r))}catch(u){if(u instanceof G){if(!this.pairs.length)throw new G;a=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(r,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new G}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return r&&(this.rows=this.rows.reverse()),i}checkRows(r,i){for(let a=i;a<this.rows.length;a++){let c=this.rows[a];this.pairs.length=0;for(let d of r)this.pairs.push(d.getPairs());if(this.pairs.push(c.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(r);u.push(c);try{return this.checkRows(u,a+1)}catch(d){this.verbose&&console.log(d)}}throw new G}static isValidSequence(r){for(let i of q.FINDER_PATTERN_SEQUENCES){if(r.length>i.length)continue;let a=!0;for(let c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!=i[c]){a=!1;break}if(a)return!0}return!1}storeRow(r,i){let a=0,c=!1,u=!1;for(;a<this.rows.length;){let d=this.rows[a];if(d.getRowNumber()>r){u=d.isEquivalent(this.pairs);break}c=d.isEquivalent(this.pairs),a++}u||c||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Du(this.pairs,r,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,i){for(let a of i)if(a.getPairs().length!==r.length){for(let c of a.getPairs())for(let u of r)if(es.equals(c,u))break}}static isPartialRow(r,i){for(let a of i){let c=!0;for(let u of r){let d=!1;for(let h of a.getPairs())if(u.equals(h)){d=!0;break}if(!d){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(r){let i=Ov.buildBitArray(r),c=o1(i).parseInformation(),u=r[0].getFinderPattern().getResultPoints(),d=r[r.length-1].getFinderPattern().getResultPoints(),h=[u[0],u[1],d[0],d[1]];return new je(c,null,null,h,ue.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),i=r.getLeftChar(),a=r.getRightChar();if(a==null)return!1;let c=a.getChecksumPortion(),u=2;for(let h=1;h<this.pairs.size();++h){let x=this.pairs.get(h);c+=x.getLeftChar().getChecksumPortion(),u++;let y=x.getRightChar();y!=null&&(c+=y.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==i.getValue()}static getNextSecondBar(r,i){let a;return r.get(i)?(a=r.getNextUnset(i),a=r.getNextSet(a)):(a=r.getNextSet(i),a=r.getNextUnset(a)),a}retrieveNextPair(r,i,a){let c=i.length%2==0;this.startFromEven&&(c=!c);let u,d=!0,h=-1;do this.findNextPair(r,i,h),u=this.parseFoundFinderPattern(r,a,c),u==null?h=q.getNextSecondBar(r,this.startEnd[0]):d=!1;while(d);let x=this.decodeDataCharacter(r,u,c,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new G;let y;try{y=this.decodeDataCharacter(r,u,c,!1)}catch(E){y=null,this.verbose&&console.log(E)}return new es(x,y,u,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,i,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d;a>=0?d=a:this.isEmptyPair(i)?d=0:d=i[i.length-1].getFinderPattern().getStartEnd()[1];let h=i.length%2!=0;this.startFromEven&&(h=!h);let x=!1;for(;d<u&&(x=!r.get(d),!!x);)d++;let y=0,E=d;for(let b=d;b<u;b++)if(r.get(b)!=x)c[y]++;else{if(y==3){if(h&&q.reverseCounters(c),q.isFinderPattern(c)){this.startEnd[0]=E,this.startEnd[1]=b;return}h&&q.reverseCounters(c),E+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,x=!x}throw new G}static reverseCounters(r){let i=r.length;for(let a=0;a<i/2;++a){let c=r[a];r[a]=r[i-a-1],r[i-a-1]=c}}parseFoundFinderPattern(r,i,a){let c,u,d;if(a){let y=this.startEnd[0]-1;for(;y>=0&&!r.get(y);)y--;y++,c=this.startEnd[0]-y,u=y,d=this.startEnd[1]}else u=this.startEnd[0],d=r.getNextUnset(this.startEnd[1]+1),c=d-this.startEnd[1];let h=this.getDecodeFinderCounters();M.arraycopy(h,0,h,1,h.length-1),h[0]=c;let x;try{x=this.parseFinderValue(h,q.FINDER_PATTERNS)}catch{return null}return new el(x,[u,d],u,d,i)}decodeDataCharacter(r,i,a,c){let u=this.getDataCharacterCounters();for(let Qe=0;Qe<u.length;Qe++)u[Qe]=0;if(c)q.recordPatternInReverse(r,i.getStartEnd()[0],u);else{q.recordPattern(r,i.getStartEnd()[1],u);for(let Qe=0,Ft=u.length-1;Qe<Ft;Qe++,Ft--){let An=u[Qe];u[Qe]=u[Ft],u[Ft]=An}}let d=17,h=Le.sum(new Int32Array(u))/d,x=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(h-x)/x>.3)throw new G;let y=this.getOddCounts(),E=this.getEvenCounts(),b=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Qe=0;Qe<u.length;Qe++){let Ft=1*u[Qe]/h,An=Ft+.5;if(An<1){if(Ft<.3)throw new G;An=1}else if(An>8){if(Ft>8.7)throw new G;An=8}let Ii=Qe/2;Qe&1?(E[Ii]=An,I[Ii]=Ft-An):(y[Ii]=An,b[Ii]=Ft-An)}this.adjustOddEvenCounts(d);let L=4*i.getValue()+(a?0:2)+(c?0:1)-1,j=0,F=0;for(let Qe=y.length-1;Qe>=0;Qe--){if(q.isNotA1left(i,a,c)){let Ft=q.WEIGHTS[L][2*Qe];F+=y[Qe]*Ft}j+=y[Qe]}let z=0;for(let Qe=E.length-1;Qe>=0;Qe--)if(q.isNotA1left(i,a,c)){let Ft=q.WEIGHTS[L][2*Qe+1];z+=E[Qe]*Ft}let K=F+z;if(j&1||j>13||j<4)throw new G;let ee=(13-j)/2,te=q.SYMBOL_WIDEST[ee],$=9-te,Oe=pr.getRSSvalue(y,te,!0),be=pr.getRSSvalue(E,$,!1),fn=q.EVEN_TOTAL_SUBSET[ee],Jn=q.GSUM[ee],hn=Oe*fn+be+Jn;return new Ci(hn,K)}static isNotA1left(r,i,a){return!(r.getValue()==0&&i&&a)}adjustOddEvenCounts(r){let i=Le.sum(new Int32Array(this.getOddCounts())),a=Le.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;i>13?u=!0:i<4&&(c=!0);let d=!1,h=!1;a>13?h=!0:a<4&&(d=!0);let x=i+a-r,y=(i&1)==1,E=(a&1)==0;if(x==1)if(y){if(E)throw new G;u=!0}else{if(!E)throw new G;h=!0}else if(x==-1)if(y){if(E)throw new G;c=!0}else{if(!E)throw new G;d=!0}else if(x==0){if(y){if(!E)throw new G;i<a?(c=!0,h=!0):(u=!0,d=!0)}else if(E)throw new G}else throw new G;if(c){if(u)throw new G;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new G;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class kv extends Ci{constructor(r,i,a){super(r,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ft extends Yt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,i,a){const c=this.decodePair(i,!1,r,a);ft.addOrTally(this.possibleLeftPairs,c),i.reverse();let u=this.decodePair(i,!0,r,a);ft.addOrTally(this.possibleRightPairs,u),i.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&ft.checkChecksum(d,h))return ft.constructResult(d,h)}throw new G}static addOrTally(r,i){if(i==null)return;let a=!1;for(let c of r)if(c.getValue()===i.getValue()){c.incrementCount(),a=!0;break}a||r.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,i){let a=4537077*r.getValue()+i.getValue(),c=new String(a).toString(),u=new re;for(let y=13-c.length;y>0;y--)u.append("0");u.append(c);let d=0;for(let y=0;y<13;y++){let E=u.charAt(y).charCodeAt(0)-"0".charCodeAt(0);d+=y&1?E:3*E}d=10-d%10,d===10&&(d=0),u.append(d.toString());let h=r.getFinderPattern().getResultPoints(),x=i.getFinderPattern().getResultPoints();return new je(u.toString(),null,0,[h[0],h[1],x[0],x[1]],ue.RSS_14,new Date().getTime())}static checkChecksum(r,i){let a=(r.getChecksumPortion()+16*i.getChecksumPortion())%79,c=9*r.getFinderPattern().getValue()+i.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,a===c}decodePair(r,i,a,c){try{let u=this.findFinderPattern(r,i),d=this.parseFoundFinderPattern(r,a,i,u),h=c==null?null:c.get(X.NEED_RESULT_POINT_CALLBACK);if(h!=null){let E=(u[0]+u[1])/2;i&&(E=r.getSize()-1-E),h.foundPossibleResultPoint(new he(E,a))}let x=this.decodeDataCharacter(r,d,!0),y=this.decodeDataCharacter(r,d,!1);return new kv(1597*x.getValue()+y.getValue(),x.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(r,i,a){let c=this.getDataCharacterCounters();for(let z=0;z<c.length;z++)c[z]=0;if(a)Ct.recordPatternInReverse(r,i.getStartEnd()[0],c);else{Ct.recordPattern(r,i.getStartEnd()[1]+1,c);for(let z=0,K=c.length-1;z<K;z++,K--){let ee=c[z];c[z]=c[K],c[K]=ee}}let u=a?16:15,d=Le.sum(new Int32Array(c))/u,h=this.getOddCounts(),x=this.getEvenCounts(),y=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let z=0;z<c.length;z++){let K=c[z]/d,ee=Math.floor(K+.5);ee<1?ee=1:ee>8&&(ee=8);let te=Math.floor(z/2);z&1?(x[te]=ee,E[te]=K-ee):(h[te]=ee,y[te]=K-ee)}this.adjustOddEvenCounts(a,u);let b=0,I=0;for(let z=h.length-1;z>=0;z--)I*=9,I+=h[z],b+=h[z];let L=0,j=0;for(let z=x.length-1;z>=0;z--)L*=9,L+=x[z],j+=x[z];let F=I+3*L;if(a){if(b&1||b>12||b<4)throw new G;let z=(12-b)/2,K=ft.OUTSIDE_ODD_WIDEST[z],ee=9-K,te=pr.getRSSvalue(h,K,!1),$=pr.getRSSvalue(x,ee,!0),Oe=ft.OUTSIDE_EVEN_TOTAL_SUBSET[z],be=ft.OUTSIDE_GSUM[z];return new Ci(te*Oe+$+be,F)}else{if(j&1||j>10||j<4)throw new G;let z=(10-j)/2,K=ft.INSIDE_ODD_WIDEST[z],ee=9-K,te=pr.getRSSvalue(h,K,!0),$=pr.getRSSvalue(x,ee,!1),Oe=ft.INSIDE_ODD_TOTAL_SUBSET[z],be=ft.INSIDE_GSUM[z];return new Ci($*Oe+te+be,F)}}findFinderPattern(r,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let c=r.getSize(),u=!1,d=0;for(;d<c&&(u=!r.get(d),i!==u);)d++;let h=0,x=d;for(let y=d;y<c;y++)if(r.get(y)!==u)a[h]++;else{if(h===3){if(Yt.isFinderPattern(a))return[x,y];x+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,h--}else h++;a[h]=1,u=!u}throw new G}parseFoundFinderPattern(r,i,a,c){let u=r.get(c[0]),d=c[0]-1;for(;d>=0&&u!==r.get(d);)d--;d++;const h=c[0]-d,x=this.getDecodeFinderCounters(),y=new Int32Array(x.length);M.arraycopy(x,0,y,1,x.length-1),y[0]=h;const E=this.parseFinderValue(y,ft.FINDER_PATTERNS);let b=d,I=c[1];return a&&(b=r.getSize()-1-b,I=r.getSize()-1-I),new el(E,[d,c[1]],b,I,i)}adjustOddEvenCounts(r,i){let a=Le.sum(new Int32Array(this.getOddCounts())),c=Le.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,h=!1,x=!1;r?(a>12?d=!0:a<4&&(u=!0),c>12?x=!0:c<4&&(h=!0)):(a>11?d=!0:a<5&&(u=!0),c>10?x=!0:c<4&&(h=!0));let y=a+c-i,E=(a&1)===(r?1:0),b=(c&1)===1;if(y===1)if(E){if(b)throw new G;d=!0}else{if(!b)throw new G;x=!0}else if(y===-1)if(E){if(b)throw new G;u=!0}else{if(!b)throw new G;h=!0}else if(y===0){if(E){if(!b)throw new G;a<c?(u=!0,x=!0):(d=!0,h=!0)}else if(b)throw new G}else throw new G;if(u){if(d)throw new G;Yt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Yt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(x)throw new G;Yt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Yt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ft.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ft.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ft.OUTSIDE_GSUM=[0,161,961,2015,2715],ft.INSIDE_GSUM=[0,336,1036,1516],ft.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ft.INSIDE_ODD_WIDEST=[2,4,6,8],ft.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Si extends Ct{constructor(r,i){super(),this.readers=[],this.verbose=i===!0;const a=r?r.get(X.POSSIBLE_FORMATS):null,c=r&&r.get(X.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(ue.EAN_13)||a.includes(ue.UPC_A)||a.includes(ue.EAN_8)||a.includes(ue.UPC_E))&&this.readers.push(new Ru(r)),a.includes(ue.CODE_39)&&this.readers.push(new Nt(c)),a.includes(ue.CODE_128)&&this.readers.push(new se),a.includes(ue.ITF)&&this.readers.push(new Xe),a.includes(ue.RSS_14)&&this.readers.push(new ft),a.includes(ue.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new Ru(r)),this.readers.push(new Nt),this.readers.push(new Ru(r)),this.readers.push(new se),this.readers.push(new Xe),this.readers.push(new ft),this.readers.push(new q(this.verbose)))}decodeRow(r,i,a){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(r,i,a)}catch{}throw new G}reset(){this.readers.forEach(r=>r.reset())}}class Lv extends Tt{constructor(r=500,i){super(new Si(i),r,i)}}class ze{constructor(r,i,a){this.ecCodewords=r,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Ve{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Me{constructor(r,i,a,c,u,d){this.versionNumber=r,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=d;let h=0;const x=d.getECCodewords(),y=d.getECBlocks();for(let E of y)h+=E.getCount()*(E.getDataCodewords()+x);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,i){if(r&1||i&1)throw new U;for(let a of Me.VERSIONS)if(a.symbolSizeRows===r&&a.symbolSizeColumns===i)return a;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new Me(1,10,10,8,8,new ze(5,new Ve(1,3))),new Me(2,12,12,10,10,new ze(7,new Ve(1,5))),new Me(3,14,14,12,12,new ze(10,new Ve(1,8))),new Me(4,16,16,14,14,new ze(12,new Ve(1,12))),new Me(5,18,18,16,16,new ze(14,new Ve(1,18))),new Me(6,20,20,18,18,new ze(18,new Ve(1,22))),new Me(7,22,22,20,20,new ze(20,new Ve(1,30))),new Me(8,24,24,22,22,new ze(24,new Ve(1,36))),new Me(9,26,26,24,24,new ze(28,new Ve(1,44))),new Me(10,32,32,14,14,new ze(36,new Ve(1,62))),new Me(11,36,36,16,16,new ze(42,new Ve(1,86))),new Me(12,40,40,18,18,new ze(48,new Ve(1,114))),new Me(13,44,44,20,20,new ze(56,new Ve(1,144))),new Me(14,48,48,22,22,new ze(68,new Ve(1,174))),new Me(15,52,52,24,24,new ze(42,new Ve(2,102))),new Me(16,64,64,14,14,new ze(56,new Ve(2,140))),new Me(17,72,72,16,16,new ze(36,new Ve(4,92))),new Me(18,80,80,18,18,new ze(48,new Ve(4,114))),new Me(19,88,88,20,20,new ze(56,new Ve(4,144))),new Me(20,96,96,22,22,new ze(68,new Ve(4,174))),new Me(21,104,104,24,24,new ze(56,new Ve(6,136))),new Me(22,120,120,18,18,new ze(68,new Ve(6,175))),new Me(23,132,132,20,20,new ze(62,new Ve(8,163))),new Me(24,144,144,22,22,new ze(62,new Ve(8,156),new Ve(2,155))),new Me(25,8,18,6,16,new ze(7,new Ve(1,5))),new Me(26,8,32,6,14,new ze(11,new Ve(1,10))),new Me(27,12,26,10,24,new ze(14,new Ve(1,16))),new Me(28,12,36,10,16,new ze(18,new Ve(1,22))),new Me(29,16,36,14,16,new ze(24,new Ve(1,32))),new Me(30,16,48,14,22,new ze(28,new Ve(1,49)))]}}Me.VERSIONS=Me.buildVersions();class ku{constructor(r){const i=r.getHeight();if(i<8||i>144||i&1)throw new U;this.version=ku.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new le(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const i=r.getHeight(),a=r.getWidth();return Me.getVersionForDimensions(i,a)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,c=0;const u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let h=!1,x=!1,y=!1,E=!1;do if(a===u&&c===0&&!h)r[i++]=this.readCorner1(u,d)&255,a-=2,c+=2,h=!0;else if(a===u-2&&c===0&&d&3&&!x)r[i++]=this.readCorner2(u,d)&255,a-=2,c+=2,x=!0;else if(a===u+4&&c===2&&!(d&7)&&!y)r[i++]=this.readCorner3(u,d)&255,a-=2,c+=2,y=!0;else if(a===u-2&&c===0&&(d&7)===4&&!E)r[i++]=this.readCorner4(u,d)&255,a-=2,c+=2,E=!0;else{do a<u&&c>=0&&!this.readMappingMatrix.get(c,a)&&(r[i++]=this.readUtah(a,c,u,d)&255),a-=2,c+=2;while(a>=0&&c<d);a+=1,c+=3;do a>=0&&c<d&&!this.readMappingMatrix.get(c,a)&&(r[i++]=this.readUtah(a,c,u,d)&255),a+=2,c-=2;while(a<u&&c>=0);a+=3,c+=1}while(a<u||c<d);if(i!==this.version.getTotalCodewords())throw new U;return r}readModule(r,i,a,c){return r<0&&(r+=a,i+=4-(a+4&7)),i<0&&(i+=c,r+=4-(c+4&7)),this.readMappingMatrix.set(i,r),this.mappingBitMatrix.get(i,r)}readUtah(r,i,a,c){let u=0;return this.readModule(r-2,i-2,a,c)&&(u|=1),u<<=1,this.readModule(r-2,i-1,a,c)&&(u|=1),u<<=1,this.readModule(r-1,i-2,a,c)&&(u|=1),u<<=1,this.readModule(r-1,i-1,a,c)&&(u|=1),u<<=1,this.readModule(r-1,i,a,c)&&(u|=1),u<<=1,this.readModule(r,i-2,a,c)&&(u|=1),u<<=1,this.readModule(r,i-1,a,c)&&(u|=1),u<<=1,this.readModule(r,i,a,c)&&(u|=1),u}readCorner1(r,i){let a=0;return this.readModule(r-1,0,r,i)&&(a|=1),a<<=1,this.readModule(r-1,1,r,i)&&(a|=1),a<<=1,this.readModule(r-1,2,r,i)&&(a|=1),a<<=1,this.readModule(0,i-2,r,i)&&(a|=1),a<<=1,this.readModule(0,i-1,r,i)&&(a|=1),a<<=1,this.readModule(1,i-1,r,i)&&(a|=1),a<<=1,this.readModule(2,i-1,r,i)&&(a|=1),a<<=1,this.readModule(3,i-1,r,i)&&(a|=1),a}readCorner2(r,i){let a=0;return this.readModule(r-3,0,r,i)&&(a|=1),a<<=1,this.readModule(r-2,0,r,i)&&(a|=1),a<<=1,this.readModule(r-1,0,r,i)&&(a|=1),a<<=1,this.readModule(0,i-4,r,i)&&(a|=1),a<<=1,this.readModule(0,i-3,r,i)&&(a|=1),a<<=1,this.readModule(0,i-2,r,i)&&(a|=1),a<<=1,this.readModule(0,i-1,r,i)&&(a|=1),a<<=1,this.readModule(1,i-1,r,i)&&(a|=1),a}readCorner3(r,i){let a=0;return this.readModule(r-1,0,r,i)&&(a|=1),a<<=1,this.readModule(r-1,i-1,r,i)&&(a|=1),a<<=1,this.readModule(0,i-3,r,i)&&(a|=1),a<<=1,this.readModule(0,i-2,r,i)&&(a|=1),a<<=1,this.readModule(0,i-1,r,i)&&(a|=1),a<<=1,this.readModule(1,i-3,r,i)&&(a|=1),a<<=1,this.readModule(1,i-2,r,i)&&(a|=1),a<<=1,this.readModule(1,i-1,r,i)&&(a|=1),a}readCorner4(r,i){let a=0;return this.readModule(r-3,0,r,i)&&(a|=1),a<<=1,this.readModule(r-2,0,r,i)&&(a|=1),a<<=1,this.readModule(r-1,0,r,i)&&(a|=1),a<<=1,this.readModule(0,i-2,r,i)&&(a|=1),a<<=1,this.readModule(0,i-1,r,i)&&(a|=1),a<<=1,this.readModule(1,i-1,r,i)&&(a|=1),a<<=1,this.readModule(2,i-1,r,i)&&(a|=1),a<<=1,this.readModule(3,i-1,r,i)&&(a|=1),a}extractDataRegion(r){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(r.getHeight()!==i)throw new C("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=i/c|0,h=a/u|0,x=d*c,y=h*u,E=new le(y,x);for(let b=0;b<d;++b){const I=b*c;for(let L=0;L<h;++L){const j=L*u;for(let F=0;F<c;++F){const z=b*(c+2)+1+F,K=I+F;for(let ee=0;ee<u;++ee){const te=L*(u+2)+1+ee;if(r.get(te,z)){const $=j+ee;E.set($,K)}}}}}return E}}class Lu{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i){const a=i.getECBlocks();let c=0;const u=a.getECBlocks();for(let F of u)c+=F.getCount();const d=new Array(c);let h=0;for(let F of u)for(let z=0;z<F.getCount();z++){const K=F.getDataCodewords(),ee=a.getECCodewords()+K;d[h++]=new Lu(K,new Uint8Array(ee))}const y=d[0].codewords.length-a.getECCodewords(),E=y-1;let b=0;for(let F=0;F<E;F++)for(let z=0;z<h;z++)d[z].codewords[F]=r[b++];const I=i.getVersionNumber()===24,L=I?8:h;for(let F=0;F<L;F++)d[F].codewords[y-1]=r[b++];const j=d[0].codewords.length;for(let F=y;F<j;F++)for(let z=0;z<h;z++){const K=I?(z+8)%h:z,ee=I&&K>7?F-1:F;d[K].codewords[ee]=r[b++]}if(b!==r.length)throw new C;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Pu{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new C(""+r);let i=0,a=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(a>0){const d=8-a,h=r<d?r:d,x=d-h,y=255>>8-h<<x;i=(u[c]&y)>>x,r-=h,a+=h,a===8&&(a=0,c++)}if(r>0){for(;r>=8;)i=i<<8|u[c]&255,c++,r-=8;if(r>0){const d=8-r,h=255>>d<<d;i=i<<r|(u[c]&h)>>d,a+=r}}return this.bitOffset=a,this.byteOffset=c,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var It;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(It||(It={}));class ts{static decode(r){const i=new Pu(r),a=new re,c=new re,u=new Array;let d=It.ASCII_ENCODE;do if(d===It.ASCII_ENCODE)d=this.decodeAsciiSegment(i,a,c);else{switch(d){case It.C40_ENCODE:this.decodeC40Segment(i,a);break;case It.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case It.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case It.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case It.BASE256_ENCODE:this.decodeBase256Segment(i,a,u);break;default:throw new U}d=It.ASCII_ENCODE}while(d!==It.PAD_ENCODE&&i.available()>0);return c.length()>0&&a.append(c.toString()),new Dr(r,a.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(r,i,a){let c=!1;do{let u=r.readBits(8);if(u===0)throw new U;if(u<=128)return c&&(u+=128),i.append(String.fromCharCode(u-1)),It.ASCII_ENCODE;if(u===129)return It.PAD_ENCODE;if(u<=229){const d=u-130;d<10&&i.append("0"),i.append(""+d)}else switch(u){case 230:return It.C40_ENCODE;case 231:return It.BASE256_ENCODE;case 232:i.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:c=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return It.ANSIX12_ENCODE;case 239:return It.TEXT_ENCODE;case 240:return It.EDIFACT_ENCODE;case 241:break;default:if(u!==254||r.available()!==0)throw new U;break}}while(r.available()>0);return It.ASCII_ENCODE}static decodeC40Segment(r,i){let a=!1;const c=[];let u=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),c);for(let h=0;h<3;h++){const x=c[h];switch(u){case 0:if(x<3)u=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[x];a?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):i.append(y)}else throw new U;break;case 1:a?(i.append(String.fromCharCode(x+128)),a=!1):i.append(String.fromCharCode(x)),u=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[x];a?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):i.append(y)}else switch(x){case 27:i.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new U}u=0;break;case 3:a?(i.append(String.fromCharCode(x+224)),a=!1):i.append(String.fromCharCode(x+96)),u=0;break;default:throw new U}}}while(r.available()>0)}static decodeTextSegment(r,i){let a=!1,c=[],u=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),c);for(let h=0;h<3;h++){const x=c[h];switch(u){case 0:if(x<3)u=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[x];a?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):i.append(y)}else throw new U;break;case 1:a?(i.append(String.fromCharCode(x+128)),a=!1):i.append(String.fromCharCode(x)),u=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[x];a?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):i.append(y)}else switch(x){case 27:i.append(String.fromCharCode(29));break;case 30:a=!0;break;default:throw new U}u=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[x];a?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),a=!1):i.append(y),u=0}else throw new U;break;default:throw new U}}}while(r.available()>0)}static decodeAnsiX12Segment(r,i){const a=[];do{if(r.available()===8)return;const c=r.readBits(8);if(c===254)return;this.parseTwoBytes(c,r.readBits(8),a);for(let u=0;u<3;u++){const d=a[u];switch(d){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(d<14)i.append(String.fromCharCode(d+44));else if(d<40)i.append(String.fromCharCode(d+51));else throw new U;break}}}while(r.available()>0)}static parseTwoBytes(r,i,a){let c=(r<<8)+i-1,u=Math.floor(c/1600);a[0]=u,c-=u*1600,u=Math.floor(c/40),a[1]=u,a[2]=c-u*40}static decodeEdifactSegment(r,i){do{if(r.available()<=16)return;for(let a=0;a<4;a++){let c=r.readBits(6);if(c===31){const u=8-r.getBitOffset();u!==8&&r.readBits(u);return}c&32||(c|=64),i.append(String.fromCharCode(c))}}while(r.available()>0)}static decodeBase256Segment(r,i,a){let c=1+r.getByteOffset();const u=this.unrandomize255State(r.readBits(8),c++);let d;if(u===0?d=r.available()/8|0:u<250?d=u:d=250*(u-249)+this.unrandomize255State(r.readBits(8),c++),d<0)throw new U;const h=new Uint8Array(d);for(let x=0;x<d;x++){if(r.available()<8)throw new U;h[x]=this.unrandomize255State(r.readBits(8),c++)}a.push(h);try{i.append(Se.decode(h,ie.ISO88591))}catch(x){throw new hr("Platform does not support required encoding: "+x.message)}}static unrandomize255State(r,i){const a=149*i%255+1,c=r-a;return c>=0?c:c+256}}ts.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ts.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ts.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ts.TEXT_SHIFT2_SET_CHARS=ts.C40_SHIFT2_SET_CHARS,ts.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Pv{constructor(){this.rsDecoder=new bo(Fe.DATA_MATRIX_FIELD_256)}decode(r){const i=new ku(r),a=i.getVersion(),c=i.readCodewords(),u=Lu.getDataBlocks(c,a);let d=0;for(let y of u)d+=y.getNumDataCodewords();const h=new Uint8Array(d),x=u.length;for(let y=0;y<x;y++){const E=u[y],b=E.getCodewords(),I=E.getNumDataCodewords();this.correctErrors(b,I);for(let L=0;L<I;L++)h[L*x+y]=b[L]}return ts.decode(h)}correctErrors(r,i){const a=new Int32Array(r);try{this.rsDecoder.decode(a,r.length-i)}catch{throw new R}for(let c=0;c<i;c++)r[c]=a[c]}}class xt{constructor(r){this.image=r,this.rectangleDetector=new kr(this.image)}detect(){const r=this.rectangleDetector.detect();let i=this.detectSolid1(r);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new G;i=this.shiftToModuleCenter(i);const a=i[0],c=i[1],u=i[2],d=i[3];let h=this.transitionsBetween(a,d)+1,x=this.transitionsBetween(u,d)+1;(h&1)===1&&(h+=1),(x&1)===1&&(x+=1),4*h<7*x&&4*x<7*h&&(h=x=Math.max(h,x));let y=xt.sampleGrid(this.image,a,c,u,d,h,x);return new $a(y,[a,c,u,d])}static shiftPoint(r,i,a){let c=(i.getX()-r.getX())/(a+1),u=(i.getY()-r.getY())/(a+1);return new he(r.getX()+c,r.getY()+u)}static moveAway(r,i,a){let c=r.getX(),u=r.getY();return c<i?c-=1:c+=1,u<a?u-=1:u+=1,new he(c,u)}detectSolid1(r){let i=r[0],a=r[1],c=r[3],u=r[2],d=this.transitionsBetween(i,a),h=this.transitionsBetween(a,c),x=this.transitionsBetween(c,u),y=this.transitionsBetween(u,i),E=d,b=[u,i,a,c];return E>h&&(E=h,b[0]=i,b[1]=a,b[2]=c,b[3]=u),E>x&&(E=x,b[0]=a,b[1]=c,b[2]=u,b[3]=i),E>y&&(b[0]=c,b[1]=u,b[2]=i,b[3]=a),b}detectSolid2(r){let i=r[0],a=r[1],c=r[2],u=r[3],d=this.transitionsBetween(i,u),h=xt.shiftPoint(a,c,(d+1)*4),x=xt.shiftPoint(c,a,(d+1)*4),y=this.transitionsBetween(h,i),E=this.transitionsBetween(x,u);return y<E?(r[0]=i,r[1]=a,r[2]=c,r[3]=u):(r[0]=a,r[1]=c,r[2]=u,r[3]=i),r}correctTopRight(r){let i=r[0],a=r[1],c=r[2],u=r[3],d=this.transitionsBetween(i,u),h=this.transitionsBetween(a,u),x=xt.shiftPoint(i,a,(h+1)*4),y=xt.shiftPoint(c,a,(d+1)*4);d=this.transitionsBetween(x,u),h=this.transitionsBetween(y,u);let E=new he(u.getX()+(c.getX()-a.getX())/(d+1),u.getY()+(c.getY()-a.getY())/(d+1)),b=new he(u.getX()+(i.getX()-a.getX())/(h+1),u.getY()+(i.getY()-a.getY())/(h+1));if(!this.isValid(E))return this.isValid(b)?b:null;if(!this.isValid(b))return E;let I=this.transitionsBetween(x,E)+this.transitionsBetween(y,E),L=this.transitionsBetween(x,b)+this.transitionsBetween(y,b);return I>L?E:b}shiftToModuleCenter(r){let i=r[0],a=r[1],c=r[2],u=r[3],d=this.transitionsBetween(i,u)+1,h=this.transitionsBetween(c,u)+1,x=xt.shiftPoint(i,a,h*4),y=xt.shiftPoint(c,a,d*4);d=this.transitionsBetween(x,u)+1,h=this.transitionsBetween(y,u)+1,(d&1)===1&&(d+=1),(h&1)===1&&(h+=1);let E=(i.getX()+a.getX()+c.getX()+u.getX())/4,b=(i.getY()+a.getY()+c.getY()+u.getY())/4;i=xt.moveAway(i,E,b),a=xt.moveAway(a,E,b),c=xt.moveAway(c,E,b),u=xt.moveAway(u,E,b);let I,L;return x=xt.shiftPoint(i,a,h*4),x=xt.shiftPoint(x,u,d*4),I=xt.shiftPoint(a,i,h*4),I=xt.shiftPoint(I,c,d*4),y=xt.shiftPoint(c,u,h*4),y=xt.shiftPoint(y,a,d*4),L=xt.shiftPoint(u,c,h*4),L=xt.shiftPoint(L,i,d*4),[x,I,y,L]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,i,a,c,u,d,h){return Jr.getInstance().sampleGrid(r,d,h,.5,.5,d-.5,.5,d-.5,h-.5,.5,h-.5,i.getX(),i.getY(),u.getX(),u.getY(),c.getX(),c.getY(),a.getX(),a.getY())}transitionsBetween(r,i){let a=Math.trunc(r.getX()),c=Math.trunc(r.getY()),u=Math.trunc(i.getX()),d=Math.trunc(i.getY()),h=Math.abs(d-c)>Math.abs(u-a);if(h){let F=a;a=c,c=F,F=u,u=d,d=F}let x=Math.abs(u-a),y=Math.abs(d-c),E=-x/2,b=c<d?1:-1,I=a<u?1:-1,L=0,j=this.image.get(h?c:a,h?a:c);for(let F=a,z=c;F!==u;F+=I){let K=this.image.get(h?z:F,h?F:z);if(K!==j&&(L++,j=K),E+=y,E>0){if(z===d)break;z+=b,E-=x}}return L}}class ns{constructor(){this.decoder=new Pv}decode(r,i=null){let a,c;if(i!=null&&i.has(X.PURE_BARCODE)){const y=ns.extractPureBits(r.getBlackMatrix());a=this.decoder.decode(y),c=ns.NO_POINTS}else{const y=new xt(r.getBlackMatrix()).detect();a=this.decoder.decode(y.getBits()),c=y.getPoints()}const u=a.getRawBytes(),d=new je(a.getText(),u,8*u.length,c,ue.DATA_MATRIX,M.currentTimeMillis()),h=a.getByteSegments();h!=null&&d.putMetadata(vt.BYTE_SEGMENTS,h);const x=a.getECLevel();return x!=null&&d.putMetadata(vt.ERROR_CORRECTION_LEVEL,x),d}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),a=r.getBottomRightOnBit();if(i==null||a==null)throw new G;const c=this.moduleSize(i,r);let u=i[1];const d=a[1];let h=i[0];const y=(a[0]-h+1)/c,E=(d-u+1)/c;if(y<=0||E<=0)throw new G;const b=c/2;u+=b,h+=b;const I=new le(y,E);for(let L=0;L<E;L++){const j=u+L*c;for(let F=0;F<y;F++)r.get(h+F*c,j)&&I.set(F,L)}return I}static moduleSize(r,i){const a=i.getWidth();let c=r[0];const u=r[1];for(;c<a&&i.get(c,u);)c++;if(c===a)throw new G;const d=c-r[0];if(d===0)throw new G;return d}}ns.NO_POINTS=[];class Bv extends Tt{constructor(r=500){super(new ns,r)}}var bi;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(bi||(bi={}));class Ze{constructor(r,i,a){this.value=r,this.stringValue=i,this.bits=a,Ze.FOR_BITS.set(a,this),Ze.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return Ze.L;case"M":return Ze.M;case"Q":return Ze.Q;case"H":return Ze.H;default:throw new w(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof Ze))return!1;const i=r;return this.value===i.value}static forBits(r){if(r<0||r>=Ze.FOR_BITS.size)throw new C;return Ze.FOR_BITS.get(r)}}Ze.FOR_BITS=new Map,Ze.FOR_VALUE=new Map,Ze.L=new Ze(bi.L,"L",1),Ze.M=new Ze(bi.M,"M",0),Ze.Q=new Ze(bi.Q,"Q",3),Ze.H=new Ze(bi.H,"H",2);class Qt{constructor(r){this.errorCorrectionLevel=Ze.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,i){return T.bitCount(r^i)}static decodeFormatInformation(r,i){const a=Qt.doDecodeFormatInformation(r,i);return a!==null?a:Qt.doDecodeFormatInformation(r^Qt.FORMAT_INFO_MASK_QR,i^Qt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,i){let a=Number.MAX_SAFE_INTEGER,c=0;for(const u of Qt.FORMAT_INFO_DECODE_LOOKUP){const d=u[0];if(d===r||d===i)return new Qt(u[1]);let h=Qt.numBitsDiffering(r,d);h<a&&(c=u[1],a=h),r!==i&&(h=Qt.numBitsDiffering(i,d),h<a&&(c=u[1],a=h))}return a<=3?new Qt(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Qt))return!1;const i=r;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Qt.FORMAT_INFO_MASK_QR=21522,Qt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class H{constructor(r,...i){this.ecCodewordsPerBlock=r,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const i=this.ecBlocks;for(const a of i)r+=a.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class D{constructor(r,i){this.count=r,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class xe{constructor(r,i,...a){this.versionNumber=r,this.alignmentPatternCenters=i,this.ecBlocks=a;let c=0;const u=a[0].getECCodewordsPerBlock(),d=a[0].getECBlocks();for(const h of d)c+=h.getCount()*(h.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new U;try{return this.getVersionForNumber((r-17)/4)}catch{throw new U}}static getVersionForNumber(r){if(r<1||r>40)throw new C;return xe.VERSIONS[r-1]}static decodeVersionInformation(r){let i=Number.MAX_SAFE_INTEGER,a=0;for(let c=0;c<xe.VERSION_DECODE_INFO.length;c++){const u=xe.VERSION_DECODE_INFO[c];if(u===r)return xe.getVersionForNumber(c+7);const d=Qt.numBitsDiffering(r,u);d<i&&(a=c+7,i=d)}return i<=3?xe.getVersionForNumber(a):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),i=new le(r);i.setRegion(0,0,9,9),i.setRegion(r-8,0,8,9),i.setRegion(0,r-8,9,8);const a=this.alignmentPatternCenters.length;for(let c=0;c<a;c++){const u=this.alignmentPatternCenters[c]-2;for(let d=0;d<a;d++)c===0&&(d===0||d===a-1)||c===a-1&&d===0||i.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return i.setRegion(6,9,1,r-17),i.setRegion(9,6,r-17,1),this.versionNumber>6&&(i.setRegion(r-11,0,3,6),i.setRegion(0,r-11,6,3)),i}toString(){return""+this.versionNumber}}xe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),xe.VERSIONS=[new xe(1,new Int32Array(0),new H(7,new D(1,19)),new H(10,new D(1,16)),new H(13,new D(1,13)),new H(17,new D(1,9))),new xe(2,Int32Array.from([6,18]),new H(10,new D(1,34)),new H(16,new D(1,28)),new H(22,new D(1,22)),new H(28,new D(1,16))),new xe(3,Int32Array.from([6,22]),new H(15,new D(1,55)),new H(26,new D(1,44)),new H(18,new D(2,17)),new H(22,new D(2,13))),new xe(4,Int32Array.from([6,26]),new H(20,new D(1,80)),new H(18,new D(2,32)),new H(26,new D(2,24)),new H(16,new D(4,9))),new xe(5,Int32Array.from([6,30]),new H(26,new D(1,108)),new H(24,new D(2,43)),new H(18,new D(2,15),new D(2,16)),new H(22,new D(2,11),new D(2,12))),new xe(6,Int32Array.from([6,34]),new H(18,new D(2,68)),new H(16,new D(4,27)),new H(24,new D(4,19)),new H(28,new D(4,15))),new xe(7,Int32Array.from([6,22,38]),new H(20,new D(2,78)),new H(18,new D(4,31)),new H(18,new D(2,14),new D(4,15)),new H(26,new D(4,13),new D(1,14))),new xe(8,Int32Array.from([6,24,42]),new H(24,new D(2,97)),new H(22,new D(2,38),new D(2,39)),new H(22,new D(4,18),new D(2,19)),new H(26,new D(4,14),new D(2,15))),new xe(9,Int32Array.from([6,26,46]),new H(30,new D(2,116)),new H(22,new D(3,36),new D(2,37)),new H(20,new D(4,16),new D(4,17)),new H(24,new D(4,12),new D(4,13))),new xe(10,Int32Array.from([6,28,50]),new H(18,new D(2,68),new D(2,69)),new H(26,new D(4,43),new D(1,44)),new H(24,new D(6,19),new D(2,20)),new H(28,new D(6,15),new D(2,16))),new xe(11,Int32Array.from([6,30,54]),new H(20,new D(4,81)),new H(30,new D(1,50),new D(4,51)),new H(28,new D(4,22),new D(4,23)),new H(24,new D(3,12),new D(8,13))),new xe(12,Int32Array.from([6,32,58]),new H(24,new D(2,92),new D(2,93)),new H(22,new D(6,36),new D(2,37)),new H(26,new D(4,20),new D(6,21)),new H(28,new D(7,14),new D(4,15))),new xe(13,Int32Array.from([6,34,62]),new H(26,new D(4,107)),new H(22,new D(8,37),new D(1,38)),new H(24,new D(8,20),new D(4,21)),new H(22,new D(12,11),new D(4,12))),new xe(14,Int32Array.from([6,26,46,66]),new H(30,new D(3,115),new D(1,116)),new H(24,new D(4,40),new D(5,41)),new H(20,new D(11,16),new D(5,17)),new H(24,new D(11,12),new D(5,13))),new xe(15,Int32Array.from([6,26,48,70]),new H(22,new D(5,87),new D(1,88)),new H(24,new D(5,41),new D(5,42)),new H(30,new D(5,24),new D(7,25)),new H(24,new D(11,12),new D(7,13))),new xe(16,Int32Array.from([6,26,50,74]),new H(24,new D(5,98),new D(1,99)),new H(28,new D(7,45),new D(3,46)),new H(24,new D(15,19),new D(2,20)),new H(30,new D(3,15),new D(13,16))),new xe(17,Int32Array.from([6,30,54,78]),new H(28,new D(1,107),new D(5,108)),new H(28,new D(10,46),new D(1,47)),new H(28,new D(1,22),new D(15,23)),new H(28,new D(2,14),new D(17,15))),new xe(18,Int32Array.from([6,30,56,82]),new H(30,new D(5,120),new D(1,121)),new H(26,new D(9,43),new D(4,44)),new H(28,new D(17,22),new D(1,23)),new H(28,new D(2,14),new D(19,15))),new xe(19,Int32Array.from([6,30,58,86]),new H(28,new D(3,113),new D(4,114)),new H(26,new D(3,44),new D(11,45)),new H(26,new D(17,21),new D(4,22)),new H(26,new D(9,13),new D(16,14))),new xe(20,Int32Array.from([6,34,62,90]),new H(28,new D(3,107),new D(5,108)),new H(26,new D(3,41),new D(13,42)),new H(30,new D(15,24),new D(5,25)),new H(28,new D(15,15),new D(10,16))),new xe(21,Int32Array.from([6,28,50,72,94]),new H(28,new D(4,116),new D(4,117)),new H(26,new D(17,42)),new H(28,new D(17,22),new D(6,23)),new H(30,new D(19,16),new D(6,17))),new xe(22,Int32Array.from([6,26,50,74,98]),new H(28,new D(2,111),new D(7,112)),new H(28,new D(17,46)),new H(30,new D(7,24),new D(16,25)),new H(24,new D(34,13))),new xe(23,Int32Array.from([6,30,54,78,102]),new H(30,new D(4,121),new D(5,122)),new H(28,new D(4,47),new D(14,48)),new H(30,new D(11,24),new D(14,25)),new H(30,new D(16,15),new D(14,16))),new xe(24,Int32Array.from([6,28,54,80,106]),new H(30,new D(6,117),new D(4,118)),new H(28,new D(6,45),new D(14,46)),new H(30,new D(11,24),new D(16,25)),new H(30,new D(30,16),new D(2,17))),new xe(25,Int32Array.from([6,32,58,84,110]),new H(26,new D(8,106),new D(4,107)),new H(28,new D(8,47),new D(13,48)),new H(30,new D(7,24),new D(22,25)),new H(30,new D(22,15),new D(13,16))),new xe(26,Int32Array.from([6,30,58,86,114]),new H(28,new D(10,114),new D(2,115)),new H(28,new D(19,46),new D(4,47)),new H(28,new D(28,22),new D(6,23)),new H(30,new D(33,16),new D(4,17))),new xe(27,Int32Array.from([6,34,62,90,118]),new H(30,new D(8,122),new D(4,123)),new H(28,new D(22,45),new D(3,46)),new H(30,new D(8,23),new D(26,24)),new H(30,new D(12,15),new D(28,16))),new xe(28,Int32Array.from([6,26,50,74,98,122]),new H(30,new D(3,117),new D(10,118)),new H(28,new D(3,45),new D(23,46)),new H(30,new D(4,24),new D(31,25)),new H(30,new D(11,15),new D(31,16))),new xe(29,Int32Array.from([6,30,54,78,102,126]),new H(30,new D(7,116),new D(7,117)),new H(28,new D(21,45),new D(7,46)),new H(30,new D(1,23),new D(37,24)),new H(30,new D(19,15),new D(26,16))),new xe(30,Int32Array.from([6,26,52,78,104,130]),new H(30,new D(5,115),new D(10,116)),new H(28,new D(19,47),new D(10,48)),new H(30,new D(15,24),new D(25,25)),new H(30,new D(23,15),new D(25,16))),new xe(31,Int32Array.from([6,30,56,82,108,134]),new H(30,new D(13,115),new D(3,116)),new H(28,new D(2,46),new D(29,47)),new H(30,new D(42,24),new D(1,25)),new H(30,new D(23,15),new D(28,16))),new xe(32,Int32Array.from([6,34,60,86,112,138]),new H(30,new D(17,115)),new H(28,new D(10,46),new D(23,47)),new H(30,new D(10,24),new D(35,25)),new H(30,new D(19,15),new D(35,16))),new xe(33,Int32Array.from([6,30,58,86,114,142]),new H(30,new D(17,115),new D(1,116)),new H(28,new D(14,46),new D(21,47)),new H(30,new D(29,24),new D(19,25)),new H(30,new D(11,15),new D(46,16))),new xe(34,Int32Array.from([6,34,62,90,118,146]),new H(30,new D(13,115),new D(6,116)),new H(28,new D(14,46),new D(23,47)),new H(30,new D(44,24),new D(7,25)),new H(30,new D(59,16),new D(1,17))),new xe(35,Int32Array.from([6,30,54,78,102,126,150]),new H(30,new D(12,121),new D(7,122)),new H(28,new D(12,47),new D(26,48)),new H(30,new D(39,24),new D(14,25)),new H(30,new D(22,15),new D(41,16))),new xe(36,Int32Array.from([6,24,50,76,102,128,154]),new H(30,new D(6,121),new D(14,122)),new H(28,new D(6,47),new D(34,48)),new H(30,new D(46,24),new D(10,25)),new H(30,new D(2,15),new D(64,16))),new xe(37,Int32Array.from([6,28,54,80,106,132,158]),new H(30,new D(17,122),new D(4,123)),new H(28,new D(29,46),new D(14,47)),new H(30,new D(49,24),new D(10,25)),new H(30,new D(24,15),new D(46,16))),new xe(38,Int32Array.from([6,32,58,84,110,136,162]),new H(30,new D(4,122),new D(18,123)),new H(28,new D(13,46),new D(32,47)),new H(30,new D(48,24),new D(14,25)),new H(30,new D(42,15),new D(32,16))),new xe(39,Int32Array.from([6,26,54,82,110,138,166]),new H(30,new D(20,117),new D(4,118)),new H(28,new D(40,47),new D(7,48)),new H(30,new D(43,24),new D(22,25)),new H(30,new D(10,15),new D(67,16))),new xe(40,Int32Array.from([6,30,58,86,114,142,170]),new H(30,new D(19,118),new D(6,119)),new H(28,new D(18,47),new D(31,48)),new H(30,new D(34,24),new D(34,25)),new H(30,new D(20,15),new D(61,16)))];var Mt;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(Mt||(Mt={}));class Pn{constructor(r,i){this.value=r,this.isMasked=i}unmaskBitMatrix(r,i){for(let a=0;a<i;a++)for(let c=0;c<i;c++)this.isMasked(a,c)&&r.flip(c,a)}}Pn.values=new Map([[Mt.DATA_MASK_000,new Pn(Mt.DATA_MASK_000,(S,r)=>(S+r&1)===0)],[Mt.DATA_MASK_001,new Pn(Mt.DATA_MASK_001,(S,r)=>(S&1)===0)],[Mt.DATA_MASK_010,new Pn(Mt.DATA_MASK_010,(S,r)=>r%3===0)],[Mt.DATA_MASK_011,new Pn(Mt.DATA_MASK_011,(S,r)=>(S+r)%3===0)],[Mt.DATA_MASK_100,new Pn(Mt.DATA_MASK_100,(S,r)=>(Math.floor(S/2)+Math.floor(r/3)&1)===0)],[Mt.DATA_MASK_101,new Pn(Mt.DATA_MASK_101,(S,r)=>S*r%6===0)],[Mt.DATA_MASK_110,new Pn(Mt.DATA_MASK_110,(S,r)=>S*r%6<3)],[Mt.DATA_MASK_111,new Pn(Mt.DATA_MASK_111,(S,r)=>(S+r+S*r%3&1)===0)]]);class jv{constructor(r){const i=r.getHeight();if(i<21||(i&3)!==1)throw new U;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let u=0;u<6;u++)r=this.copyBit(u,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let u=5;u>=0;u--)r=this.copyBit(8,u,r);const i=this.bitMatrix.getHeight();let a=0;const c=i-7;for(let u=i-1;u>=c;u--)a=this.copyBit(8,u,a);for(let u=i-8;u<i;u++)a=this.copyBit(u,8,a);if(this.parsedFormatInfo=Qt.decodeFormatInformation(r,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),i=Math.floor((r-17)/4);if(i<=6)return xe.getVersionForNumber(i);let a=0;const c=r-11;for(let d=5;d>=0;d--)for(let h=r-9;h>=c;h--)a=this.copyBit(h,d,a);let u=xe.decodeVersionInformation(a);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;a=0;for(let d=5;d>=0;d--)for(let h=r-9;h>=c;h--)a=this.copyBit(d,h,a);if(u=xe.decodeVersionInformation(a),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new U}copyBit(r,i,a){return(this.isMirror?this.bitMatrix.get(i,r):this.bitMatrix.get(r,i))?a<<1|1:a<<1}readCodewords(){const r=this.readFormatInformation(),i=this.readVersion(),a=Pn.values.get(r.getDataMask()),c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c);const u=i.buildFunctionPattern();let d=!0;const h=new Uint8Array(i.getTotalCodewords());let x=0,y=0,E=0;for(let b=c-1;b>0;b-=2){b===6&&b--;for(let I=0;I<c;I++){const L=d?c-1-I:I;for(let j=0;j<2;j++)u.get(b-j,L)||(E++,y<<=1,this.bitMatrix.get(b-j,L)&&(y|=1),E===8&&(h[x++]=y,E=0,y=0))}d=!d}if(x!==i.getTotalCodewords())throw new U;return h}remask(){if(this.parsedFormatInfo===null)return;const r=Pn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,i)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let i=0,a=r.getWidth();i<a;i++)for(let c=i+1,u=r.getHeight();c<u;c++)r.get(i,c)!==r.get(c,i)&&(r.flip(c,i),r.flip(i,c))}}class Bu{constructor(r,i){this.numDataCodewords=r,this.codewords=i}static getDataBlocks(r,i,a){if(r.length!==i.getTotalCodewords())throw new C;const c=i.getECBlocksForLevel(a);let u=0;const d=c.getECBlocks();for(const j of d)u+=j.getCount();const h=new Array(u);let x=0;for(const j of d)for(let F=0;F<j.getCount();F++){const z=j.getDataCodewords(),K=c.getECCodewordsPerBlock()+z;h[x++]=new Bu(z,new Uint8Array(K))}const y=h[0].codewords.length;let E=h.length-1;for(;E>=0&&h[E].codewords.length!==y;)E--;E++;const b=y-c.getECCodewordsPerBlock();let I=0;for(let j=0;j<b;j++)for(let F=0;F<x;F++)h[F].codewords[j]=r[I++];for(let j=E;j<x;j++)h[j].codewords[b]=r[I++];const L=h[0].codewords.length;for(let j=b;j<L;j++)for(let F=0;F<x;F++){const z=F<E?j:j+1;h[F].codewords[z]=r[I++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Bn;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(Bn||(Bn={}));class we{constructor(r,i,a,c){this.value=r,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=c,we.FOR_BITS.set(c,this),we.FOR_VALUE.set(r,this)}static forBits(r){const i=we.FOR_BITS.get(r);if(i===void 0)throw new C;return i}getCharacterCountBits(r){const i=r.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof we))return!1;const i=r;return this.value===i.value}toString(){return this.stringValue}}we.FOR_BITS=new Map,we.FOR_VALUE=new Map,we.TERMINATOR=new we(Bn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),we.NUMERIC=new we(Bn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),we.ALPHANUMERIC=new we(Bn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),we.STRUCTURED_APPEND=new we(Bn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),we.BYTE=new we(Bn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),we.ECI=new we(Bn.ECI,"ECI",Int32Array.from([0,0,0]),7),we.KANJI=new we(Bn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),we.FNC1_FIRST_POSITION=new we(Bn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),we.FNC1_SECOND_POSITION=new we(Bn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),we.HANZI=new we(Bn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class it{static decode(r,i,a,c){const u=new Pu(r);let d=new re;const h=new Array;let x=-1,y=-1;try{let E=null,b=!1,I;do{if(u.available()<4)I=we.TERMINATOR;else{const L=u.readBits(4);I=we.forBits(L)}switch(I){case we.TERMINATOR:break;case we.FNC1_FIRST_POSITION:case we.FNC1_SECOND_POSITION:b=!0;break;case we.STRUCTURED_APPEND:if(u.available()<16)throw new U;x=u.readBits(8),y=u.readBits(8);break;case we.ECI:const L=it.parseECIValue(u);if(E=W.getCharacterSetECIByValue(L),E===null)throw new U;break;case we.HANZI:const j=u.readBits(4),F=u.readBits(I.getCharacterCountBits(i));j===it.GB2312_SUBSET&&it.decodeHanziSegment(u,d,F);break;default:const z=u.readBits(I.getCharacterCountBits(i));switch(I){case we.NUMERIC:it.decodeNumericSegment(u,d,z);break;case we.ALPHANUMERIC:it.decodeAlphanumericSegment(u,d,z,b);break;case we.BYTE:it.decodeByteSegment(u,d,z,E,h,c);break;case we.KANJI:it.decodeKanjiSegment(u,d,z);break;default:throw new U}break}}while(I!==we.TERMINATOR)}catch{throw new U}return new Dr(r,d.toString(),h.length===0?null:h,a===null?null:a.toString(),x,y)}static decodeHanziSegment(r,i,a){if(a*13>r.available())throw new U;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const d=r.readBits(13);let h=d/96<<8&4294967295|d%96;h<959?h+=41377:h+=42657,c[u]=h>>8&255,c[u+1]=h&255,u+=2,a--}try{i.append(Se.decode(c,ie.GB2312))}catch(d){throw new U(d)}}static decodeKanjiSegment(r,i,a){if(a*13>r.available())throw new U;const c=new Uint8Array(2*a);let u=0;for(;a>0;){const d=r.readBits(13);let h=d/192<<8&4294967295|d%192;h<7936?h+=33088:h+=49472,c[u]=h>>8,c[u+1]=h,u+=2,a--}try{i.append(Se.decode(c,ie.SHIFT_JIS))}catch(d){throw new U(d)}}static decodeByteSegment(r,i,a,c,u,d){if(8*a>r.available())throw new U;const h=new Uint8Array(a);for(let y=0;y<a;y++)h[y]=r.readBits(8);let x;c===null?x=ie.guessEncoding(h,d):x=c.getName();try{i.append(Se.decode(h,x))}catch(y){throw new U(y)}u.push(h)}static toAlphaNumericChar(r){if(r>=it.ALPHANUMERIC_CHARS.length)throw new U;return it.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,i,a,c){const u=i.length();for(;a>1;){if(r.available()<11)throw new U;const d=r.readBits(11);i.append(it.toAlphaNumericChar(Math.floor(d/45))),i.append(it.toAlphaNumericChar(d%45)),a-=2}if(a===1){if(r.available()<6)throw new U;i.append(it.toAlphaNumericChar(r.readBits(6)))}if(c)for(let d=u;d<i.length();d++)i.charAt(d)==="%"&&(d<i.length()-1&&i.charAt(d+1)==="%"?i.deleteCharAt(d+1):i.setCharAt(d,String.fromCharCode(29)))}static decodeNumericSegment(r,i,a){for(;a>=3;){if(r.available()<10)throw new U;const c=r.readBits(10);if(c>=1e3)throw new U;i.append(it.toAlphaNumericChar(Math.floor(c/100))),i.append(it.toAlphaNumericChar(Math.floor(c/10)%10)),i.append(it.toAlphaNumericChar(c%10)),a-=3}if(a===2){if(r.available()<7)throw new U;const c=r.readBits(7);if(c>=100)throw new U;i.append(it.toAlphaNumericChar(Math.floor(c/10))),i.append(it.toAlphaNumericChar(c%10))}else if(a===1){if(r.available()<4)throw new U;const c=r.readBits(4);if(c>=10)throw new U;i.append(it.toAlphaNumericChar(c))}}static parseECIValue(r){const i=r.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const a=r.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=r.readBits(16);return(i&31)<<16&4294967295|a}throw new U}}it.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",it.GB2312_SUBSET=1;class a1{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const i=r[0];r[0]=r[2],r[2]=i}}class Fv{constructor(){this.rsDecoder=new bo(Fe.QR_CODE_FIELD_256)}decodeBooleanArray(r,i){return this.decodeBitMatrix(le.parseFromBooleanArray(r),i)}decodeBitMatrix(r,i){const a=new jv(r);let c=null;try{return this.decodeBitMatrixParser(a,i)}catch(u){c=u}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const u=this.decodeBitMatrixParser(a,i);return u.setOther(new a1(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(r,i){const a=r.readVersion(),c=r.readFormatInformation().getErrorCorrectionLevel(),u=r.readCodewords(),d=Bu.getDataBlocks(u,a,c);let h=0;for(const E of d)h+=E.getNumDataCodewords();const x=new Uint8Array(h);let y=0;for(const E of d){const b=E.getCodewords(),I=E.getNumDataCodewords();this.correctErrors(b,I);for(let L=0;L<I;L++)x[y++]=b[L]}return it.decode(x,a,c,i)}correctErrors(r,i){const a=new Int32Array(r);try{this.rsDecoder.decode(a,r.length-i)}catch{throw new R}for(let c=0;c<i;c++)r[c]=a[c]}}class ju extends he{constructor(r,i,a){super(r,i),this.estimatedModuleSize=a}aboutEquals(r,i,a){if(Math.abs(i-this.getY())<=r&&Math.abs(a-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,i,a){const c=(this.getX()+i)/2,u=(this.getY()+r)/2,d=(this.estimatedModuleSize+a)/2;return new ju(c,u,d)}}class rl{constructor(r,i,a,c,u,d,h){this.image=r,this.startX=i,this.startY=a,this.width=c,this.height=u,this.moduleSize=d,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,i=this.height,a=this.width,c=r+a,u=this.startY+i/2,d=new Int32Array(3),h=this.image;for(let x=0;x<i;x++){const y=u+(x&1?-Math.floor((x+1)/2):Math.floor((x+1)/2));d[0]=0,d[1]=0,d[2]=0;let E=r;for(;E<c&&!h.get(E,y);)E++;let b=0;for(;E<c;){if(h.get(E,y))if(b===1)d[1]++;else if(b===2){if(this.foundPatternCross(d)){const I=this.handlePossibleCenter(d,y,E);if(I!==null)return I}d[0]=d[2],d[1]=1,d[2]=0,b=1}else d[++b]++;else b===1&&b++,d[b]++;E++}if(this.foundPatternCross(d)){const I=this.handlePossibleCenter(d,y,c);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(r,i){return i-r[2]-r[1]/2}foundPatternCross(r){const i=this.moduleSize,a=i/2;for(let c=0;c<3;c++)if(Math.abs(i-r[c])>=a)return!1;return!0}crossCheckVertical(r,i,a,c){const u=this.image,d=u.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let x=r;for(;x>=0&&u.get(i,x)&&h[1]<=a;)h[1]++,x--;if(x<0||h[1]>a)return NaN;for(;x>=0&&!u.get(i,x)&&h[0]<=a;)h[0]++,x--;if(h[0]>a)return NaN;for(x=r+1;x<d&&u.get(i,x)&&h[1]<=a;)h[1]++,x++;if(x===d||h[1]>a)return NaN;for(;x<d&&!u.get(i,x)&&h[2]<=a;)h[2]++,x++;if(h[2]>a)return NaN;const y=h[0]+h[1]+h[2];return 5*Math.abs(y-c)>=2*c?NaN:this.foundPatternCross(h)?rl.centerFromEnd(h,x):NaN}handlePossibleCenter(r,i,a){const c=r[0]+r[1]+r[2],u=rl.centerFromEnd(r,a),d=this.crossCheckVertical(i,u,2*r[1],c);if(!isNaN(d)){const h=(r[0]+r[1]+r[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(h,d,u))return y.combineEstimate(d,u,h);const x=new ju(u,d,h);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class Fu extends he{constructor(r,i,a,c){super(r,i),this.estimatedModuleSize=a,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,i,a){if(Math.abs(i-this.getY())<=r&&Math.abs(a-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,i,a){const c=this.count+1,u=(this.count*this.getX()+i)/c,d=(this.count*this.getY()+r)/c,h=(this.count*this.estimatedModuleSize+a)/c;return new Fu(u,d,h,c)}}class Uv{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Dt{constructor(r,i){this.image=r,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const i=r!=null&&r.get(X.TRY_HARDER)!==void 0,a=r!=null&&r.get(X.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),d=c.getWidth();let h=Math.floor(3*u/(4*Dt.MAX_MODULES));(h<Dt.MIN_SKIP||i)&&(h=Dt.MIN_SKIP);let x=!1;const y=new Int32Array(5);for(let b=h-1;b<u&&!x;b+=h){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let I=0;for(let L=0;L<d;L++)if(c.get(L,b))(I&1)===1&&I++,y[I]++;else if(I&1)y[I]++;else if(I===4)if(Dt.foundPatternCross(y)){if(this.handlePossibleCenter(y,b,L,a)===!0)if(h=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>y[2]&&(b+=F-y[2]-h,L=d-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,I=3;continue}I=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,I=3;else y[++I]++;Dt.foundPatternCross(y)&&this.handlePossibleCenter(y,b,d,a)===!0&&(h=y[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return he.orderBestPatterns(E),new Uv(E)}static centerFromEnd(r,i){return i-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let i=0;for(let u=0;u<5;u++){const d=r[u];if(d===0)return!1;i+=d}if(i<7)return!1;const a=i/7,c=a/2;return Math.abs(a-r[0])<c&&Math.abs(a-r[1])<c&&Math.abs(3*a-r[2])<3*c&&Math.abs(a-r[3])<c&&Math.abs(a-r[4])<c}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,i,a,c){const u=this.getCrossCheckStateCount();let d=0;const h=this.image;for(;r>=d&&i>=d&&h.get(i-d,r-d);)u[2]++,d++;if(r<d||i<d)return!1;for(;r>=d&&i>=d&&!h.get(i-d,r-d)&&u[1]<=a;)u[1]++,d++;if(r<d||i<d||u[1]>a)return!1;for(;r>=d&&i>=d&&h.get(i-d,r-d)&&u[0]<=a;)u[0]++,d++;if(u[0]>a)return!1;const x=h.getHeight(),y=h.getWidth();for(d=1;r+d<x&&i+d<y&&h.get(i+d,r+d);)u[2]++,d++;if(r+d>=x||i+d>=y)return!1;for(;r+d<x&&i+d<y&&!h.get(i+d,r+d)&&u[3]<a;)u[3]++,d++;if(r+d>=x||i+d>=y||u[3]>=a)return!1;for(;r+d<x&&i+d<y&&h.get(i+d,r+d)&&u[4]<a;)u[4]++,d++;if(u[4]>=a)return!1;const E=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(E-c)<2*c&&Dt.foundPatternCross(u)}crossCheckVertical(r,i,a,c){const u=this.image,d=u.getHeight(),h=this.getCrossCheckStateCount();let x=r;for(;x>=0&&u.get(i,x);)h[2]++,x--;if(x<0)return NaN;for(;x>=0&&!u.get(i,x)&&h[1]<=a;)h[1]++,x--;if(x<0||h[1]>a)return NaN;for(;x>=0&&u.get(i,x)&&h[0]<=a;)h[0]++,x--;if(h[0]>a)return NaN;for(x=r+1;x<d&&u.get(i,x);)h[2]++,x++;if(x===d)return NaN;for(;x<d&&!u.get(i,x)&&h[3]<a;)h[3]++,x++;if(x===d||h[3]>=a)return NaN;for(;x<d&&u.get(i,x)&&h[4]<a;)h[4]++,x++;if(h[4]>=a)return NaN;const y=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(y-c)>=2*c?NaN:Dt.foundPatternCross(h)?Dt.centerFromEnd(h,x):NaN}crossCheckHorizontal(r,i,a,c){const u=this.image,d=u.getWidth(),h=this.getCrossCheckStateCount();let x=r;for(;x>=0&&u.get(x,i);)h[2]++,x--;if(x<0)return NaN;for(;x>=0&&!u.get(x,i)&&h[1]<=a;)h[1]++,x--;if(x<0||h[1]>a)return NaN;for(;x>=0&&u.get(x,i)&&h[0]<=a;)h[0]++,x--;if(h[0]>a)return NaN;for(x=r+1;x<d&&u.get(x,i);)h[2]++,x++;if(x===d)return NaN;for(;x<d&&!u.get(x,i)&&h[3]<a;)h[3]++,x++;if(x===d||h[3]>=a)return NaN;for(;x<d&&u.get(x,i)&&h[4]<a;)h[4]++,x++;if(h[4]>=a)return NaN;const y=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(y-c)>=c?NaN:Dt.foundPatternCross(h)?Dt.centerFromEnd(h,x):NaN}handlePossibleCenter(r,i,a,c){const u=r[0]+r[1]+r[2]+r[3]+r[4];let d=Dt.centerFromEnd(r,a),h=this.crossCheckVertical(i,Math.floor(d),r[2],u);if(!isNaN(h)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(h),r[2],u),!isNaN(d)&&(!c||this.crossCheckDiagonal(Math.floor(h),Math.floor(d),r[2],u)))){const x=u/7;let y=!1;const E=this.possibleCenters;for(let b=0,I=E.length;b<I;b++){const L=E[b];if(L.aboutEquals(x,h,d)){E[b]=L.combineEstimate(h,d,x),y=!0;break}}if(!y){const b=new Fu(d,h,x);E.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=Dt.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,i=0;const a=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Dt.CENTER_QUORUM&&(r++,i+=d.getEstimatedModuleSize());if(r<3)return!1;const c=i/a;let u=0;for(const d of this.possibleCenters)u+=Math.abs(d.getEstimatedModuleSize()-c);return u<=.05*i}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new G;const i=this.possibleCenters;let a;if(r>3){let c=0,u=0;for(const x of this.possibleCenters){const y=x.getEstimatedModuleSize();c+=y,u+=y*y}a=c/r;let d=Math.sqrt(u/r-a*a);i.sort((x,y)=>{const E=Math.abs(y.getEstimatedModuleSize()-a),b=Math.abs(x.getEstimatedModuleSize()-a);return E<b?-1:E>b?1:0});const h=Math.max(.2*a,d);for(let x=0;x<i.length&&i.length>3;x++){const y=i[x];Math.abs(y.getEstimatedModuleSize()-a)>h&&(i.splice(x,1),x--)}}if(i.length>3){let c=0;for(const u of i)c+=u.getEstimatedModuleSize();a=c/i.length,i.sort((u,d)=>{if(d.getCount()===u.getCount()){const h=Math.abs(d.getEstimatedModuleSize()-a),x=Math.abs(u.getEstimatedModuleSize()-a);return h<x?1:h>x?-1:0}else return d.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Dt.CENTER_QUORUM=2,Dt.MIN_SKIP=3,Dt.MAX_MODULES=57;class No{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(X.NEED_RESULT_POINT_CALLBACK);const a=new Dt(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(a)}processFinderPatternInfo(r){const i=r.getTopLeft(),a=r.getTopRight(),c=r.getBottomLeft(),u=this.calculateModuleSize(i,a,c);if(u<1)throw new G("No pattern found in proccess finder.");const d=No.computeDimension(i,a,c,u),h=xe.getProvisionalVersionForDimension(d),x=h.getDimensionForVersion()-7;let y=null;if(h.getAlignmentPatternCenters().length>0){const L=a.getX()-i.getX()+c.getX(),j=a.getY()-i.getY()+c.getY(),F=1-3/x,z=Math.floor(i.getX()+F*(L-i.getX())),K=Math.floor(i.getY()+F*(j-i.getY()));for(let ee=4;ee<=16;ee<<=1)try{y=this.findAlignmentInRegion(u,z,K,ee);break}catch(te){if(!(te instanceof G))throw te}}const E=No.createTransform(i,a,c,y,d),b=No.sampleGrid(this.image,E,d);let I;return y===null?I=[c,i,a]:I=[c,i,a,y],new $a(b,I)}static createTransform(r,i,a,c,u){const d=u-3.5;let h,x,y,E;return c!==null?(h=c.getX(),x=c.getY(),y=d-3,E=y):(h=i.getX()-r.getX()+a.getX(),x=i.getY()-r.getY()+a.getY(),y=d,E=d),qn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,E,3.5,d,r.getX(),r.getY(),i.getX(),i.getY(),h,x,a.getX(),a.getY())}static sampleGrid(r,i,a){return Jr.getInstance().sampleGridWithTransform(r,a,a,i)}static computeDimension(r,i,a,c){const u=Le.round(he.distance(r,i)/c),d=Le.round(he.distance(r,a)/c);let h=Math.floor((u+d)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new G("Dimensions could be not found.")}return h}calculateModuleSize(r,i,a){return(this.calculateModuleSizeOneWay(r,i)+this.calculateModuleSizeOneWay(r,a))/2}calculateModuleSizeOneWay(r,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(i.getX()),Math.floor(i.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(a)?c/7:isNaN(c)?a/7:(a+c)/14}sizeOfBlackWhiteBlackRunBothWays(r,i,a,c){let u=this.sizeOfBlackWhiteBlackRun(r,i,a,c),d=1,h=r-(a-r);h<0?(d=r/(r-h),h=0):h>=this.image.getWidth()&&(d=(this.image.getWidth()-1-r)/(h-r),h=this.image.getWidth()-1);let x=Math.floor(i-(c-i)*d);return d=1,x<0?(d=i/(i-x),x=0):x>=this.image.getHeight()&&(d=(this.image.getHeight()-1-i)/(x-i),x=this.image.getHeight()-1),h=Math.floor(r+(h-r)*d),u+=this.sizeOfBlackWhiteBlackRun(r,i,h,x),u-1}sizeOfBlackWhiteBlackRun(r,i,a,c){const u=Math.abs(c-i)>Math.abs(a-r);if(u){let L=r;r=i,i=L,L=a,a=c,c=L}const d=Math.abs(a-r),h=Math.abs(c-i);let x=-d/2;const y=r<a?1:-1,E=i<c?1:-1;let b=0;const I=a+y;for(let L=r,j=i;L!==I;L+=y){const F=u?j:L,z=u?L:j;if(b===1===this.image.get(F,z)){if(b===2)return Le.distance(L,j,r,i);b++}if(x+=h,x>0){if(j===c)break;j+=E,x-=d}}return b===2?Le.distance(a+y,c,r,i):NaN}findAlignmentInRegion(r,i,a,c){const u=Math.floor(c*r),d=Math.max(0,i-u),h=Math.min(this.image.getWidth()-1,i+u);if(h-d<r*3)throw new G("Alignment top exceeds estimated module size.");const x=Math.max(0,a-u),y=Math.min(this.image.getHeight()-1,a+u);if(y-x<r*3)throw new G("Alignment bottom exceeds estimated module size.");return new rl(this.image,d,x,h-d,y-x,r,this.resultPointCallback).find()}}class rs{constructor(){this.decoder=new Fv}getDecoder(){return this.decoder}decode(r,i){let a,c;if(i!=null&&i.get(X.PURE_BARCODE)!==void 0){const x=rs.extractPureBits(r.getBlackMatrix());a=this.decoder.decodeBitMatrix(x,i),c=rs.NO_POINTS}else{const x=new No(r.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(x.getBits(),i),c=x.getPoints()}a.getOther()instanceof a1&&a.getOther().applyMirroredCorrection(c);const u=new je(a.getText(),a.getRawBytes(),void 0,c,ue.QR_CODE,void 0),d=a.getByteSegments();d!==null&&u.putMetadata(vt.BYTE_SEGMENTS,d);const h=a.getECLevel();return h!==null&&u.putMetadata(vt.ERROR_CORRECTION_LEVEL,h),a.hasStructuredAppend()&&(u.putMetadata(vt.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),u.putMetadata(vt.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),u}reset(){}static extractPureBits(r){const i=r.getTopLeftOnBit(),a=r.getBottomRightOnBit();if(i===null||a===null)throw new G;const c=this.moduleSize(i,r);let u=i[1],d=a[1],h=i[0],x=a[0];if(h>=x||u>=d)throw new G;if(d-u!==x-h&&(x=h+(d-u),x>=r.getWidth()))throw new G;const y=Math.round((x-h+1)/c),E=Math.round((d-u+1)/c);if(y<=0||E<=0)throw new G;if(E!==y)throw new G;const b=Math.floor(c/2);u+=b,h+=b;const I=h+Math.floor((y-1)*c)-x;if(I>0){if(I>b)throw new G;h-=I}const L=u+Math.floor((E-1)*c)-d;if(L>0){if(L>b)throw new G;u-=L}const j=new le(y,E);for(let F=0;F<E;F++){const z=u+Math.floor(F*c);for(let K=0;K<y;K++)r.get(h+Math.floor(K*c),z)&&j.set(K,F)}return j}static moduleSize(r,i){const a=i.getHeight(),c=i.getWidth();let u=r[0],d=r[1],h=!0,x=0;for(;u<c&&d<a;){if(h!==i.get(u,d)){if(++x===5)break;h=!h}u++,d++}if(u===c||d===a)throw new G;return(u-r[0])/7}}rs.NO_POINTS=new Array;class Ce{PDF417Common(){}static getBitCountSum(r){return Le.sum(r)}static toIntArray(r){if(r==null||!r.length)return Ce.EMPTY_INT_ARRAY;const i=new Int32Array(r.length);let a=0;for(const c of r)i[a++]=c;return i}static getCodeword(r){const i=N.binarySearch(Ce.SYMBOL_TABLE,r&262143);return i<0?-1:(Ce.CODEWORD_TABLE[i]-1)%Ce.NUMBER_OF_CODEWORDS}}Ce.NUMBER_OF_CODEWORDS=929,Ce.MAX_CODEWORDS_IN_BARCODE=Ce.NUMBER_OF_CODEWORDS-1,Ce.MIN_ROWS_IN_BARCODE=3,Ce.MAX_ROWS_IN_BARCODE=90,Ce.MODULES_IN_CODEWORD=17,Ce.MODULES_IN_STOP_PATTERN=18,Ce.BARS_IN_MODULE=8,Ce.EMPTY_INT_ARRAY=new Int32Array([]),Ce.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ce.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Vv{constructor(r,i){this.bits=r,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ne{static detectMultiple(r,i,a){let c=r.getBlackMatrix(),u=Ne.detect(a,c);return u.length||(c=c.clone(),c.rotate180(),u=Ne.detect(a,c)),new Vv(c,u)}static detect(r,i){const a=new Array;let c=0,u=0,d=!1;for(;c<i.getHeight();){const h=Ne.findVertices(i,c,u);if(h[0]==null&&h[3]==null){if(!d)break;d=!1,u=0;for(const x of a)x[1]!=null&&(c=Math.trunc(Math.max(c,x[1].getY()))),x[3]!=null&&(c=Math.max(c,Math.trunc(x[3].getY())));c+=Ne.ROW_STEP;continue}if(d=!0,a.push(h),!r)break;h[2]!=null?(u=Math.trunc(h[2].getX()),c=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),c=Math.trunc(h[4].getY()))}return a}static findVertices(r,i,a){const c=r.getHeight(),u=r.getWidth(),d=new Array(8);return Ne.copyToResult(d,Ne.findRowsWithPattern(r,c,u,i,a,Ne.START_PATTERN),Ne.INDEXES_START_PATTERN),d[4]!=null&&(a=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY())),Ne.copyToResult(d,Ne.findRowsWithPattern(r,c,u,i,a,Ne.STOP_PATTERN),Ne.INDEXES_STOP_PATTERN),d}static copyToResult(r,i,a){for(let c=0;c<a.length;c++)r[a[c]]=i[c]}static findRowsWithPattern(r,i,a,c,u,d){const h=new Array(4);let x=!1;const y=new Int32Array(d.length);for(;c<i;c+=Ne.ROW_STEP){let b=Ne.findGuardPattern(r,u,c,a,!1,d,y);if(b!=null){for(;c>0;){const I=Ne.findGuardPattern(r,u,--c,a,!1,d,y);if(I!=null)b=I;else{c++;break}}h[0]=new he(b[0],c),h[1]=new he(b[1],c),x=!0;break}}let E=c+1;if(x){let b=0,I=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;E<i;E++){const L=Ne.findGuardPattern(r,I[0],E,a,!1,d,y);if(L!=null&&Math.abs(I[0]-L[0])<Ne.MAX_PATTERN_DRIFT&&Math.abs(I[1]-L[1])<Ne.MAX_PATTERN_DRIFT)I=L,b=0;else{if(b>Ne.SKIPPED_ROW_COUNT_MAX)break;b++}}E-=b+1,h[2]=new he(I[0],E),h[3]=new he(I[1],E)}return E-c<Ne.BARCODE_MIN_HEIGHT&&N.fill(h,null),h}static findGuardPattern(r,i,a,c,u,d,h){N.fillWithin(h,0,h.length,0);let x=i,y=0;for(;r.get(x,a)&&x>0&&y++<Ne.MAX_PIXEL_DRIFT;)x--;let E=x,b=0,I=d.length;for(let L=u;E<c;E++)if(r.get(E,a)!==L)h[b]++;else{if(b===I-1){if(Ne.patternMatchVariance(h,d,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return new Int32Array([x,E]);x+=h[0]+h[1],M.arraycopy(h,2,h,0,b-1),h[b-1]=0,h[b]=0,b--}else b++;h[b]=1,L=!L}return b===I-1&&Ne.patternMatchVariance(h,d,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE?new Int32Array([x,E-1]):null}static patternMatchVariance(r,i,a){let c=r.length,u=0,d=0;for(let y=0;y<c;y++)u+=r[y],d+=i[y];if(u<d)return 1/0;let h=u/d;a*=h;let x=0;for(let y=0;y<c;y++){let E=r[y],b=i[y]*h,I=E>b?E-b:b-E;if(I>a)return 1/0;x+=I}return x/u}}Ne.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ne.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ne.MAX_AVG_VARIANCE=.42,Ne.MAX_INDIVIDUAL_VARIANCE=.8,Ne.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ne.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ne.MAX_PIXEL_DRIFT=3,Ne.MAX_PATTERN_DRIFT=5,Ne.SKIPPED_ROW_COUNT_MAX=25,Ne.ROW_STEP=5,Ne.BARCODE_MIN_HEIGHT=10;class Bt{constructor(r,i){if(i.length===0)throw new C;this.field=r;let a=i.length;if(a>1&&i[0]===0){let c=1;for(;c<a&&i[c]===0;)c++;c===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-c),M.arraycopy(i,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let i=this.coefficients[0],a=this.coefficients.length;for(let c=1;c<a;c++)i=this.field.add(this.field.multiply(r,i),this.coefficients[c]);return i}add(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let i=this.coefficients,a=r.coefficients;if(i.length>a.length){let d=i;i=a,a=d}let c=new Int32Array(a.length),u=a.length-i.length;M.arraycopy(a,0,c,0,u);for(let d=u;d<a.length;d++)c[d]=this.field.add(i[d-u],a[d]);return new Bt(this.field,c)}subtract(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof Bt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new Bt(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,c=r.coefficients,u=c.length,d=new Int32Array(a+u-1);for(let h=0;h<a;h++){let x=i[h];for(let y=0;y<u;y++)d[h+y]=this.field.add(d[h+y],this.field.multiply(x,c[y]))}return new Bt(this.field,d)}negative(){let r=this.coefficients.length,i=new Int32Array(r);for(let a=0;a<r;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new Bt(this.field,i)}multiplyScalar(r){if(r===0)return new Bt(this.field,new Int32Array([0]));if(r===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=this.field.multiply(this.coefficients[c],r);return new Bt(this.field,a)}multiplyByMonomial(r,i){if(r<0)throw new C;if(i===0)return new Bt(this.field,new Int32Array([0]));let a=this.coefficients.length,c=new Int32Array(a+r);for(let u=0;u<a;u++)c[u]=this.field.multiply(this.coefficients[u],i);return new Bt(this.field,c)}toString(){let r=new re;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(r.append(" - "),a=-a):r.length()>0&&r.append(" + "),(i===0||a!==1)&&r.append(a),i!==0&&(i===1?r.append("x"):(r.append("x^"),r.append(i))))}return r.toString()}}class zv{add(r,i){return(r+i)%this.modulus}subtract(r,i){return(this.modulus+r-i)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new C;return this.logTable[r]}inverse(r){if(r===0)throw new So;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,i){return r===0||i===0?0:this.expTable[(this.logTable[r]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Uu extends zv{constructor(r,i){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let a=1;for(let c=0;c<r;c++)this.expTable[c]=a,a=a*i%r;for(let c=0;c<r-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Bt(this,new Int32Array([0])),this.one=new Bt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,i){if(r<0)throw new C;if(i===0)return this.zero;let a=new Int32Array(r+1);return a[0]=i,new Bt(this,a)}}Uu.PDF417_GF=new Uu(Ce.NUMBER_OF_CODEWORDS,3);class l1{constructor(){this.field=Uu.PDF417_GF}decode(r,i,a){let c=new Bt(this.field,r),u=new Int32Array(i),d=!1;for(let j=i;j>0;j--){let F=c.evaluateAt(this.field.exp(j));u[i-j]=F,F!==0&&(d=!0)}if(!d)return 0;let h=this.field.getOne();if(a!=null)for(const j of a){let F=this.field.exp(r.length-1-j),z=new Bt(this.field,new Int32Array([this.field.subtract(0,F),1]));h=h.multiply(z)}let x=new Bt(this.field,u),y=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),x,i),E=y[0],b=y[1],I=this.findErrorLocations(E),L=this.findErrorMagnitudes(b,E,I);for(let j=0;j<I.length;j++){let F=r.length-1-this.field.log(I[j]);if(F<0)throw R.getChecksumInstance();r[F]=this.field.subtract(r[F],L[j])}return I.length}runEuclideanAlgorithm(r,i,a){if(r.getDegree()<i.getDegree()){let I=r;r=i,i=I}let c=r,u=i,d=this.field.getZero(),h=this.field.getOne();for(;u.getDegree()>=Math.round(a/2);){let I=c,L=d;if(c=u,d=h,c.isZero())throw R.getChecksumInstance();u=I;let j=this.field.getZero(),F=c.getCoefficient(c.getDegree()),z=this.field.inverse(F);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let K=u.getDegree()-c.getDegree(),ee=this.field.multiply(u.getCoefficient(u.getDegree()),z);j=j.add(this.field.buildMonomial(K,ee)),u=u.subtract(c.multiplyByMonomial(K,ee))}h=j.multiply(d).subtract(L).negative()}let x=h.getCoefficient(0);if(x===0)throw R.getChecksumInstance();let y=this.field.inverse(x),E=h.multiply(y),b=u.multiply(y);return[E,b]}findErrorLocations(r){let i=r.getDegree(),a=new Int32Array(i),c=0;for(let u=1;u<this.field.getSize()&&c<i;u++)r.evaluateAt(u)===0&&(a[c]=this.field.inverse(u),c++);if(c!==i)throw R.getChecksumInstance();return a}findErrorMagnitudes(r,i,a){let c=i.getDegree(),u=new Int32Array(c);for(let y=1;y<=c;y++)u[c-y]=this.field.multiply(y,i.getCoefficient(y));let d=new Bt(this.field,u),h=a.length,x=new Int32Array(h);for(let y=0;y<h;y++){let E=this.field.inverse(a[y]),b=this.field.subtract(0,r.evaluateAt(E)),I=this.field.inverse(d.evaluateAt(E));x[y]=this.field.multiply(b,I)}return x}}class Xs{constructor(r,i,a,c,u){r instanceof Xs?this.constructor_2(r):this.constructor_1(r,i,a,c,u)}constructor_1(r,i,a,c,u){const d=i==null||a==null,h=c==null||u==null;if(d&&h)throw new G;d?(i=new he(0,c.getY()),a=new he(0,u.getY())):h&&(c=new he(r.getWidth()-1,i.getY()),u=new he(r.getWidth()-1,a.getY())),this.image=r,this.topLeft=i,this.bottomLeft=a,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),c.getY())),this.maxY=Math.trunc(Math.max(a.getY(),u.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,i){return r==null?i:i==null?r:new Xs(r.image,r.topLeft,r.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(r,i,a){let c=this.topLeft,u=this.bottomLeft,d=this.topRight,h=this.bottomRight;if(r>0){let x=a?this.topLeft:this.topRight,y=Math.trunc(x.getY()-r);y<0&&(y=0);let E=new he(x.getX(),y);a?c=E:d=E}if(i>0){let x=a?this.bottomLeft:this.bottomRight,y=Math.trunc(x.getY()+i);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let E=new he(x.getX(),y);a?u=E:h=E}return new Xs(this.image,c,u,d,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Hv{constructor(r,i,a,c){this.columnCount=r,this.errorCorrectionLevel=c,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Io{constructor(){this.buffer=""}static form(r,i){let a=-1;function c(d,h,x,y,E,b){if(d==="%%")return"%";if(i[++a]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let I=E?parseInt(E.substr(1)):void 0,L;switch(b){case"s":L=i[a];break;case"c":L=i[a][0];break;case"f":L=parseFloat(i[a]).toFixed(d);break;case"p":L=parseFloat(i[a]).toPrecision(d);break;case"e":L=parseFloat(i[a]).toExponential(d);break;case"x":L=parseInt(i[a]).toString(I||16);break;case"d":L=parseFloat(parseInt(i[a],I||10).toPrecision(d)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(I);let j=parseInt(x),F=x&&x[0]+""=="0"?"0":" ";for(;L.length<j;)L=h!==void 0?L+F:F+L;return L}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}format(r,...i){this.buffer+=Io.form(r,i)}toString(){return this.buffer}}class _o{constructor(r){this.boundingBox=new Xs(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let i=this.getCodeword(r);if(i!=null)return i;for(let a=1;a<_o.MAX_NEARBY_DISTANCE;a++){let c=this.imageRowToCodewordIndex(r)-a;if(c>=0&&(i=this.codewords[c],i!=null)||(c=this.imageRowToCodewordIndex(r)+a,c<this.codewords.length&&(i=this.codewords[c],i!=null)))return i}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,i){this.codewords[this.imageRowToCodewordIndex(r)]=i}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Io;let i=0;for(const a of this.codewords){if(a==null){r.format("%3d:    |   %n",i++);continue}r.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return r.toString()}}_o.MAX_NEARBY_DISTANCE=5;class Ro{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let i=this.values.get(r);i==null&&(i=0),i++,this.values.set(r,i)}getValue(){let r=-1,i=new Array;for(const[a,c]of this.values.entries()){const u={getKey:()=>a,getValue:()=>c};u.getValue()>r?(r=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===r&&i.push(u.getKey())}return Ce.toIntArray(i)}getConfidence(r){return this.values.get(r)}}class c1 extends _o{constructor(r,i){super(r),this._isLeft=i}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,r);let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),x=-1,y=1,E=0;for(let b=d;b<h;b++){if(i[b]==null)continue;let I=i[b],L=I.getRowNumber()-x;if(L===0)E++;else if(L===1)y=Math.max(y,E),E=1,x=I.getRowNumber();else if(L<0||I.getRowNumber()>=r.getRowCount()||L>b)i[b]=null;else{let j;y>2?j=(y-2)*L:j=L;let F=j>=b;for(let z=1;z<=j&&!F;z++)F=i[b-z]!=null;F?i[b]=null:(x=I.getRowNumber(),E=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let i=new Int32Array(r.getRowCount());for(let a of this.getCodewords())if(a!=null){let c=a.getRowNumber();if(c>=i.length)continue;i[c]++}return i}adjustIncompleteIndicatorColumnRowNumbers(r){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),c=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=this.getCodewords(),x=-1;for(let y=u;y<d;y++){if(h[y]==null)continue;let E=h[y];E.setRowNumberAsRowIndicatorColumn();let b=E.getRowNumber()-x;b===0||(b===1?x=E.getRowNumber():E.getRowNumber()>=r.getRowCount()?h[y]=null:x=E.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),i=new Ro,a=new Ro,c=new Ro,u=new Ro;for(let h of r){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let x=h.getValue()%30,y=h.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:a.setValue(x*3+1);break;case 1:u.setValue(x/3),c.setValue(x%3);break;case 2:i.setValue(x+1);break}}if(i.getValue().length===0||a.getValue().length===0||c.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+c.getValue()[0]<Ce.MIN_ROWS_IN_BARCODE||a.getValue()[0]+c.getValue()[0]>Ce.MAX_ROWS_IN_BARCODE)return null;let d=new Hv(i.getValue()[0],a.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(r,d),d}removeIncorrectCodewords(r,i){for(let a=0;a<r.length;a++){let c=r[a];if(r[a]==null)continue;let u=c.getValue()%30,d=c.getRowNumber();if(d>i.getRowCount()){r[a]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(r[a]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(r[a]=null);break;case 2:u+1!==i.getColumnCount()&&(r[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Oo{constructor(r,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=Ce.MAX_CODEWORDS_IN_BARCODE,i;do i=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let c=0;c<a.length;c++)a[c]!=null&&(a[c].hasValidRowNumber()||this.adjustRowNumbers(i,c,a))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<r.length;a++)if(r[a]!=null&&i[a]!=null&&r[a].getRowNumber()===i[a].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[a];u!=null&&(u.setRowNumber(r[a].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let h=this.detectionResultColumns[d].getCodewords()[a];h!=null&&(u=Oo.adjustRowNumberIfValid(c,u,h),h.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let c=i[a].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let h=this.detectionResultColumns[d].getCodewords()[a];h!=null&&(u=Oo.adjustRowNumberIfValid(c,u,h),h.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(r)?(a.setRowNumber(r),i=0):++i),i}adjustRowNumbers(r,i,a){if(!this.detectionResultColumns[r-1])return;let c=a[i],u=this.detectionResultColumns[r-1].getCodewords(),d=u;this.detectionResultColumns[r+1]!=null&&(d=this.detectionResultColumns[r+1].getCodewords());let h=new Array(14);h[2]=u[i],h[3]=d[i],i>0&&(h[0]=a[i-1],h[4]=u[i-1],h[5]=d[i-1]),i>1&&(h[8]=a[i-2],h[10]=u[i-2],h[11]=d[i-2]),i<a.length-1&&(h[1]=a[i+1],h[6]=u[i+1],h[7]=d[i+1]),i<a.length-2&&(h[9]=a[i+2],h[12]=u[i+2],h[13]=d[i+2]);for(let x of h)if(Oo.adjustRowNumber(c,x))return}static adjustRowNumber(r,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===r.getBucket()?(r.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,i){this.detectionResultColumns[r]=i}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Io;for(let a=0;a<r.getCodewords().length;a++){i.format("CW %3d:",a);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[a];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Mo{constructor(r,i,a,c){this.rowNumber=Mo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==Mo.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}Mo.BARCODE_ROW_UNKNOWN=-1;class dn{static initialize(){for(let r=0;r<Ce.SYMBOL_TABLE.length;r++){let i=Ce.SYMBOL_TABLE[r],a=i&1;for(let c=0;c<Ce.BARS_IN_MODULE;c++){let u=0;for(;(i&1)===a;)u+=1,i>>=1;a=i&1,dn.RATIOS_TABLE[r]||(dn.RATIOS_TABLE[r]=new Array(Ce.BARS_IN_MODULE)),dn.RATIOS_TABLE[r][Ce.BARS_IN_MODULE-c-1]=Math.fround(u/Ce.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let i=dn.getDecodedCodewordValue(dn.sampleBitCounts(r));return i!==-1?i:dn.getClosestDecodedValue(r)}static sampleBitCounts(r){let i=Le.sum(r),a=new Int32Array(Ce.BARS_IN_MODULE),c=0,u=0;for(let d=0;d<Ce.MODULES_IN_CODEWORD;d++){let h=i/(2*Ce.MODULES_IN_CODEWORD)+d*i/Ce.MODULES_IN_CODEWORD;u+r[c]<=h&&(u+=r[c],c++),a[c]++}return a}static getDecodedCodewordValue(r){let i=dn.getBitValue(r);return Ce.getCodeword(i)===-1?-1:i}static getBitValue(r){let i=0;for(let a=0;a<r.length;a++)for(let c=0;c<r[a];c++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(r){let i=Le.sum(r),a=new Array(Ce.BARS_IN_MODULE);if(i>1)for(let d=0;d<a.length;d++)a[d]=Math.fround(r[d]/i);let c=qa.MAX_VALUE,u=-1;this.bSymbolTableReady||dn.initialize();for(let d=0;d<dn.RATIOS_TABLE.length;d++){let h=0,x=dn.RATIOS_TABLE[d];for(let y=0;y<Ce.BARS_IN_MODULE;y++){let E=Math.fround(x[y]-a[y]);if(h+=Math.fround(E*E),h>=c)break}h<c&&(c=h,u=Ce.SYMBOL_TABLE[d])}return u}}dn.bSymbolTableReady=!1,dn.RATIOS_TABLE=new Array(Ce.SYMBOL_TABLE.length).map(S=>new Array(Ce.BARS_IN_MODULE));class u1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class d1{static parseLong(r,i=void 0){return parseInt(r,i)}}class f1 extends p{}f1.kind="NullPointerException";class Wv{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,i,a){if(r==null)throw new f1;if(i<0||i>r.length||a<0||i+a>r.length||i+a<0)throw new k;if(a===0)return;for(let c=0;c<a;c++)this.write(r[i+c])}flush(){}close(){}}class Gv extends p{}class Xv extends Wv{constructor(r=32){if(super(),this.count=0,r<0)throw new C("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let a=this.buf.length<<1;if(a-r<0&&(a=r),a<0){if(r<0)throw new Gv;a=T.MAX_VALUE}this.buf=N.copyOfUint8Array(this.buf,a)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,i,a){if(i<0||i>r.length||a<0||i+a-r.length>0)throw new k;this.ensureCapacity(this.count+a),M.arraycopy(r,i,this.buf,this.count,a),this.count+=a}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return N.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Ge;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ge||(Ge={}));function h1(){if(typeof window<"u")return window.BigInt||null;if(typeof Lo<"u")return Lo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let sl;function ss(S){if(typeof sl>"u"&&(sl=h1()),sl===null)throw new Error("BigInt is not supported!");return sl(S)}function Yv(){let S=[];S[0]=ss(1);let r=ss(900);S[1]=r;for(let i=2;i<16;i++)S[i]=S[i-1]*r;return S}class Y{static decode(r,i){let a=new re(""),c=W.ISO8859_1;a.enableDecoding(c);let u=1,d=r[u++],h=new u1;for(;u<r[0];){switch(d){case Y.TEXT_COMPACTION_MODE_LATCH:u=Y.textCompaction(r,u,a);break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:u=Y.byteCompaction(d,r,c,u,a);break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[u++]);break;case Y.NUMERIC_COMPACTION_MODE_LATCH:u=Y.numericCompaction(r,u,a);break;case Y.ECI_CHARSET:W.getCharacterSetECIByValue(r[u++]);break;case Y.ECI_GENERAL_PURPOSE:u+=2;break;case Y.ECI_USER_DEFINED:u++;break;case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=Y.decodeMacroBlock(r,u,h);break;case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:throw new U;default:u--,u=Y.textCompaction(r,u,a);break}if(u<r.length)d=r[u++];else throw U.getFormatInstance()}if(a.length()===0)throw U.getFormatInstance();let x=new Dr(null,a.toString(),null,i);return x.setOther(h),x}static decodeMacroBlock(r,i,a){if(i+Y.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw U.getFormatInstance();let c=new Int32Array(Y.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<Y.NUMBER_OF_SEQUENCE_CODEWORDS;h++,i++)c[h]=r[i];a.setSegmentIndex(T.parseInt(Y.decodeBase900toBase10(c,Y.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new re;i=Y.textCompaction(r,i,u),a.setFileId(u.toString());let d=-1;for(r[i]===Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=i+1);i<r[0];)switch(r[i]){case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,r[i]){case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new re;i=Y.textCompaction(r,i+1,h),a.setFileName(h.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new re;i=Y.textCompaction(r,i+1,x),a.setSender(x.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new re;i=Y.textCompaction(r,i+1,y),a.setAddressee(y.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new re;i=Y.numericCompaction(r,i+1,E),a.setSegmentCount(T.parseInt(E.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let b=new re;i=Y.numericCompaction(r,i+1,b),a.setTimestamp(d1.parseLong(b.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new re;i=Y.numericCompaction(r,i+1,I),a.setChecksum(T.parseInt(I.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new re;i=Y.numericCompaction(r,i+1,L),a.setFileSize(d1.parseLong(L.toString()));break;default:throw U.getFormatInstance()}break;case Y.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(d!==-1){let h=i-d;a.isLastSegment()&&h--,a.setOptionalData(N.copyOfRange(r,d,d+h))}return i}static textCompaction(r,i,a){let c=new Int32Array((r[0]-i)*2),u=new Int32Array((r[0]-i)*2),d=0,h=!1;for(;i<r[0]&&!h;){let x=r[i++];if(x<Y.TEXT_COMPACTION_MODE_LATCH)c[d]=x/30,c[d+1]=x%30,d+=2;else switch(x){case Y.TEXT_COMPACTION_MODE_LATCH:c[d++]=Y.TEXT_COMPACTION_MODE_LATCH;break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:i--,h=!0;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[d]=Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=r[i++],u[d]=x,d++;break}}return Y.decodeTextCompaction(c,u,d,a),i}static decodeTextCompaction(r,i,a,c){let u=Ge.ALPHA,d=Ge.ALPHA,h=0;for(;h<a;){let x=r[h],y="";switch(u){case Ge.ALPHA:if(x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case Y.LL:u=Ge.LOWER;break;case Y.ML:u=Ge.MIXED;break;case Y.PS:d=u,u=Ge.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[h]);break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break;case Ge.LOWER:if(x<26)y=String.fromCharCode(97+x);else switch(x){case 26:y=" ";break;case Y.AS:d=u,u=Ge.ALPHA_SHIFT;break;case Y.ML:u=Ge.MIXED;break;case Y.PS:d=u,u=Ge.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[h]);break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break;case Ge.MIXED:if(x<Y.PL)y=Y.MIXED_CHARS[x];else switch(x){case Y.PL:u=Ge.PUNCT;break;case 26:y=" ";break;case Y.LL:u=Ge.LOWER;break;case Y.AL:u=Ge.ALPHA;break;case Y.PS:d=u,u=Ge.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[h]);break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break;case Ge.PUNCT:if(x<Y.PAL)y=Y.PUNCT_CHARS[x];else switch(x){case Y.PAL:u=Ge.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[h]);break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break;case Ge.ALPHA_SHIFT:if(u=d,x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break;case Ge.PUNCT_SHIFT:if(u=d,x<Y.PAL)y=Y.PUNCT_CHARS[x];else switch(x){case Y.PAL:u=Ge.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[h]);break;case Y.TEXT_COMPACTION_MODE_LATCH:u=Ge.ALPHA;break}break}y!==""&&c.append(y),h++}}static byteCompaction(r,i,a,c,u){let d=new Xv,h=0,x=0,y=!1;switch(r){case Y.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),b=i[c++];for(;c<i[0]&&!y;)switch(E[h++]=b,x=900*x+b,b=i[c++],b){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:c--,y=!0;break;default:if(h%5===0&&h>0){for(let I=0;I<6;++I)d.write(Number(ss(x)>>ss(8*(5-I))));x=0,h=0}break}c===i[0]&&b<Y.TEXT_COMPACTION_MODE_LATCH&&(E[h++]=b);for(let I=0;I<h;I++)d.write(E[I]);break;case Y.BYTE_COMPACTION_MODE_LATCH_6:for(;c<i[0]&&!y;){let I=i[c++];if(I<Y.TEXT_COMPACTION_MODE_LATCH)h++,x=900*x+I;else switch(I){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:c--,y=!0;break}if(h%5===0&&h>0){for(let L=0;L<6;++L)d.write(Number(ss(x)>>ss(8*(5-L))));x=0,h=0}}break}return u.append(Se.decode(d.toByteArray(),a)),c}static numericCompaction(r,i,a){let c=0,u=!1,d=new Int32Array(Y.MAX_NUMERIC_CODEWORDS);for(;i<r[0]&&!u;){let h=r[i++];if(i===r[0]&&(u=!0),h<Y.TEXT_COMPACTION_MODE_LATCH)d[c]=h,c++;else switch(h){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(c%Y.MAX_NUMERIC_CODEWORDS===0||h===Y.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(a.append(Y.decodeBase900toBase10(d,c)),c=0)}return i}static decodeBase900toBase10(r,i){let a=ss(0);for(let u=0;u<i;u++)a+=Y.EXP900[i-u-1]*ss(r[u]);let c=a.toString();if(c.charAt(0)!=="1")throw new U;return c.substring(1)}}Y.TEXT_COMPACTION_MODE_LATCH=900,Y.BYTE_COMPACTION_MODE_LATCH=901,Y.NUMERIC_COMPACTION_MODE_LATCH=902,Y.BYTE_COMPACTION_MODE_LATCH_6=924,Y.ECI_USER_DEFINED=925,Y.ECI_GENERAL_PURPOSE=926,Y.ECI_CHARSET=927,Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Y.MACRO_PDF417_TERMINATOR=922,Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Y.MAX_NUMERIC_CODEWORDS=15,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Y.PL=25,Y.LL=27,Y.AS=27,Y.ML=28,Y.AL=28,Y.PS=29,Y.PAL=29,Y.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Y.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Y.EXP900=h1()?Yv():[],Y.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ie{constructor(){}static decode(r,i,a,c,u,d,h){let x=new Xs(r,i,a,c,u),y=null,E=null,b;for(let j=!0;;j=!1){if(i!=null&&(y=Ie.getRowIndicatorColumn(r,x,i,!0,d,h)),c!=null&&(E=Ie.getRowIndicatorColumn(r,x,c,!1,d,h)),b=Ie.merge(y,E),b==null)throw G.getNotFoundInstance();let F=b.getBoundingBox();if(j&&F!=null&&(F.getMinY()<x.getMinY()||F.getMaxY()>x.getMaxY()))x=F;else break}b.setBoundingBox(x);let I=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,y),b.setDetectionResultColumn(I,E);let L=y!=null;for(let j=1;j<=I;j++){let F=L?j:I-j;if(b.getDetectionResultColumn(F)!==void 0)continue;let z;F===0||F===I?z=new c1(x,F===0):z=new _o(x),b.setDetectionResultColumn(F,z);let K=-1,ee=K;for(let te=x.getMinY();te<=x.getMaxY();te++){if(K=Ie.getStartColumn(b,F,te,L),K<0||K>x.getMaxX()){if(ee===-1)continue;K=ee}let $=Ie.detectCodeword(r,x.getMinX(),x.getMaxX(),L,K,te,d,h);$!=null&&(z.setCodeword(te,$),ee=K,d=Math.min(d,$.getWidth()),h=Math.max(h,$.getWidth()))}}return Ie.createDecoderResult(b)}static merge(r,i){if(r==null&&i==null)return null;let a=Ie.getBarcodeMetadata(r,i);if(a==null)return null;let c=Xs.merge(Ie.adjustBoundingBox(r),Ie.adjustBoundingBox(i));return new Oo(a,c)}static adjustBoundingBox(r){if(r==null)return null;let i=r.getRowHeights();if(i==null)return null;let a=Ie.getMax(i),c=0;for(let h of i)if(c+=a-h,h>0)break;let u=r.getCodewords();for(let h=0;c>0&&u[h]==null;h++)c--;let d=0;for(let h=i.length-1;h>=0&&(d+=a-i[h],!(i[h]>0));h--);for(let h=u.length-1;d>0&&u[h]==null;h--)d--;return r.getBoundingBox().addMissingRows(c,d,r.isLeft())}static getMax(r){let i=-1;for(let a of r)i=Math.max(i,a);return i}static getBarcodeMetadata(r,i){let a;if(r==null||(a=r.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let c;return i==null||(c=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==c.getColumnCount()&&a.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&a.getRowCount()!==c.getRowCount()?null:a}static getRowIndicatorColumn(r,i,a,c,u,d){let h=new c1(i,c);for(let x=0;x<2;x++){let y=x===0?1:-1,E=Math.trunc(Math.trunc(a.getX()));for(let b=Math.trunc(Math.trunc(a.getY()));b<=i.getMaxY()&&b>=i.getMinY();b+=y){let I=Ie.detectCodeword(r,0,r.getWidth(),c,E,b,u,d);I!=null&&(h.setCodeword(b,I),c?E=I.getStartX():E=I.getEndX())}}return h}static adjustCodewordCount(r,i){let a=i[0][1],c=a.getValue(),u=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-Ie.getNumberOfECCodeWords(r.getBarcodeECLevel());if(c.length===0){if(u<1||u>Ce.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();a.setValue(u)}else c[0]!==u&&a.setValue(u)}static createDecoderResult(r){let i=Ie.createBarcodeMatrix(r);Ie.adjustCodewordCount(r,i);let a=new Array,c=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),u=[],d=new Array;for(let x=0;x<r.getBarcodeRowCount();x++)for(let y=0;y<r.getBarcodeColumnCount();y++){let E=i[x][y+1].getValue(),b=x*r.getBarcodeColumnCount()+y;E.length===0?a.push(b):E.length===1?c[b]=E[0]:(d.push(b),u.push(E))}let h=new Array(u.length);for(let x=0;x<h.length;x++)h[x]=u[x];return Ie.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),c,Ce.toIntArray(a),Ce.toIntArray(d),h)}static createDecoderResultFromAmbiguousValues(r,i,a,c,u){let d=new Int32Array(c.length),h=100;for(;h-- >0;){for(let x=0;x<d.length;x++)i[c[x]]=u[x][d[x]];try{return Ie.decodeCodewords(i,r,a)}catch(x){if(!(x instanceof R))throw x}if(d.length===0)throw R.getChecksumInstance();for(let x=0;x<d.length;x++)if(d[x]<u[x].length-1){d[x]++;break}else if(d[x]=0,x===d.length-1)throw R.getChecksumInstance()}throw R.getChecksumInstance()}static createBarcodeMatrix(r){let i=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let c=0;c<i.length;c++)for(let u=0;u<i[c].length;u++)i[c][u]=new Ro;let a=0;for(let c of r.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=0){if(d>=i.length)continue;i[d][a].setValue(u.getValue())}}}a++}return i}static isValidBarcodeColumn(r,i){return i>=0&&i<=r.getBarcodeColumnCount()+1}static getStartColumn(r,i,a,c){let u=c?1:-1,d=null;if(Ie.isValidBarcodeColumn(r,i-u)&&(d=r.getDetectionResultColumn(i-u).getCodeword(a)),d!=null)return c?d.getEndX():d.getStartX();if(d=r.getDetectionResultColumn(i).getCodewordNearby(a),d!=null)return c?d.getStartX():d.getEndX();if(Ie.isValidBarcodeColumn(r,i-u)&&(d=r.getDetectionResultColumn(i-u).getCodewordNearby(a)),d!=null)return c?d.getEndX():d.getStartX();let h=0;for(;Ie.isValidBarcodeColumn(r,i-u);){i-=u;for(let x of r.getDetectionResultColumn(i).getCodewords())if(x!=null)return(c?x.getEndX():x.getStartX())+u*h*(x.getEndX()-x.getStartX());h++}return c?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,i,a,c,u,d,h,x){u=Ie.adjustCodewordStartColumn(r,i,a,c,u,d);let y=Ie.getModuleBitCount(r,i,a,c,u,d);if(y==null)return null;let E,b=Le.sum(y);if(c)E=u+b;else{for(let j=0;j<y.length/2;j++){let F=y[j];y[j]=y[y.length-1-j],y[y.length-1-j]=F}E=u,u=E-b}if(!Ie.checkCodewordSkew(b,h,x))return null;let I=dn.getDecodedValue(y),L=Ce.getCodeword(I);return L===-1?null:new Mo(u,E,Ie.getCodewordBucketNumber(I),L)}static getModuleBitCount(r,i,a,c,u,d){let h=u,x=new Int32Array(8),y=0,E=c?1:-1,b=c;for(;(c?h<a:h>=i)&&y<x.length;)r.get(h,d)===b?(x[y]++,h+=E):(y++,b=!b);return y===x.length||h===(c?a:i)&&y===x.length-1?x:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,i,a,c,u,d){let h=u,x=c?-1:1;for(let y=0;y<2;y++){for(;(c?h>=i:h<a)&&c===r.get(h,d);){if(Math.abs(u-h)>Ie.CODEWORD_SKEW_SIZE)return u;h+=x}x=-x,c=!c}return h}static checkCodewordSkew(r,i,a){return i-Ie.CODEWORD_SKEW_SIZE<=r&&r<=a+Ie.CODEWORD_SKEW_SIZE}static decodeCodewords(r,i,a){if(r.length===0)throw U.getFormatInstance();let c=1<<i+1,u=Ie.correctErrors(r,a,c);Ie.verifyCodewordCount(r,c);let d=Y.decode(r,""+i);return d.setErrorsCorrected(u),d.setErasures(a.length),d}static correctErrors(r,i,a){if(i!=null&&i.length>a/2+Ie.MAX_ERRORS||a<0||a>Ie.MAX_EC_CODEWORDS)throw R.getChecksumInstance();return Ie.errorCorrection.decode(r,a,i)}static verifyCodewordCount(r,i){if(r.length<4)throw U.getFormatInstance();let a=r[0];if(a>r.length)throw U.getFormatInstance();if(a===0)if(i<r.length)r[0]=r.length-i;else throw U.getFormatInstance()}static getBitCountForCodeword(r){let i=new Int32Array(8),a=0,c=i.length-1;for(;!((r&1)!==a&&(a=r&1,c--,c<0));)i[c]++,r>>=1;return i}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return Ie.getCodewordBucketNumber(Ie.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let i=new Io;for(let a=0;a<r.length;a++){i.format("Row %2d: ",a);for(let c=0;c<r[a].length;c++){let u=r[a][c];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}Ie.CODEWORD_SKEW_SIZE=2,Ie.MAX_ERRORS=3,Ie.MAX_EC_CODEWORDS=512,Ie.errorCorrection=new l1;class jt{decode(r,i=null){let a=jt.decode(r,i,!1);if(a==null||a.length===0||a[0]==null)throw G.getNotFoundInstance();return a[0]}decodeMultiple(r,i=null){try{return jt.decode(r,i,!0)}catch(a){throw a instanceof U||a instanceof R?G.getNotFoundInstance():a}}static decode(r,i,a){const c=new Array,u=Ne.detectMultiple(r,i,a);for(const d of u.getPoints()){const h=Ie.decode(u.getBits(),d[4],d[5],d[6],d[7],jt.getMinCodewordWidth(d),jt.getMaxCodewordWidth(d)),x=new je(h.getText(),h.getRawBytes(),void 0,d,ue.PDF_417);x.putMetadata(vt.ERROR_CORRECTION_LEVEL,h.getECLevel());const y=h.getOther();y!=null&&x.putMetadata(vt.PDF417_EXTRA_METADATA,y),c.push(x)}return c.map(d=>d)}static getMaxWidth(r,i){return r==null||i==null?0:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMinWidth(r,i){return r==null||i==null?T.MAX_VALUE:Math.trunc(Math.abs(r.getX()-i.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(jt.getMaxWidth(r[0],r[4]),jt.getMaxWidth(r[6],r[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.max(jt.getMaxWidth(r[1],r[5]),jt.getMaxWidth(r[7],r[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(jt.getMinWidth(r[0],r[4]),jt.getMinWidth(r[6],r[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.min(jt.getMinWidth(r[1],r[5]),jt.getMinWidth(r[7],r[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}reset(){}}class il extends p{}il.kind="ReaderException";class p1{constructor(r,i){this.verbose=r===!0,i&&this.setHints(i)}decode(r,i){return i&&this.setHints(i),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const i=!s(r)&&r.get(X.TRY_HARDER)===!0,a=s(r)?null:r.get(X.POSSIBLE_FORMATS),c=new Array;if(!s(a)){const u=a.some(d=>d===ue.UPC_A||d===ue.UPC_E||d===ue.EAN_13||d===ue.EAN_8||d===ue.CODABAR||d===ue.CODE_39||d===ue.CODE_93||d===ue.CODE_128||d===ue.ITF||d===ue.RSS_14||d===ue.RSS_EXPANDED);u&&!i&&c.push(new Si(r,this.verbose)),a.includes(ue.QR_CODE)&&c.push(new rs),a.includes(ue.DATA_MATRIX)&&c.push(new ns),a.includes(ue.AZTEC)&&c.push(new Ja),a.includes(ue.PDF_417)&&c.push(new jt),u&&i&&c.push(new Si(r,this.verbose))}c.length===0&&(i||c.push(new Si(r,this.verbose)),c.push(new rs),c.push(new ns),c.push(new Ja),c.push(new jt),i&&c.push(new Si(r,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new il("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(r,this.hints)}catch(a){if(a instanceof il)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class Qv extends Tt{constructor(r=null,i=500){const a=new p1;a.setHints(r),super(a,i)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class Kv extends Tt{constructor(r=500){super(new jt,r)}}class Zv extends Tt{constructor(r=500){super(new rs,r)}}var Vu;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(Vu||(Vu={}));var _t=Vu;class zu{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new ut(r,Int32Array.from([1])))}buildGenerator(r){const i=this.cachedGenerators;if(r>=i.length){let a=i[i.length-1];const c=this.field;for(let u=i.length;u<=r;u++){const d=a.multiply(new ut(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));i.push(d),a=d}}return i[r]}encode(r,i){if(i===0)throw new C("No error correction bytes");const a=r.length-i;if(a<=0)throw new C("No data bytes provided");const c=this.buildGenerator(i),u=new Int32Array(a);M.arraycopy(r,0,u,0,a);let d=new ut(this.field,u);d=d.multiplyByMonomial(i,1);const x=d.divide(c)[1].getCoefficients(),y=i-x.length;for(let E=0;E<y;E++)r[a+E]=0;M.arraycopy(x,0,r,a+y,x.length)}}class ht{constructor(){}static applyMaskPenaltyRule1(r){return ht.applyMaskPenaltyRule1Internal(r,!0)+ht.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let i=0;const a=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let d=0;d<u-1;d++){const h=a[d];for(let x=0;x<c-1;x++){const y=h[x];y===h[x+1]&&y===a[d+1][x]&&y===a[d+1][x+1]&&i++}}return ht.N2*i}static applyMaskPenaltyRule3(r){let i=0;const a=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let d=0;d<u;d++)for(let h=0;h<c;h++){const x=a[d];h+6<c&&x[h]===1&&x[h+1]===0&&x[h+2]===1&&x[h+3]===1&&x[h+4]===1&&x[h+5]===0&&x[h+6]===1&&(ht.isWhiteHorizontal(x,h-4,h)||ht.isWhiteHorizontal(x,h+7,h+11))&&i++,d+6<u&&a[d][h]===1&&a[d+1][h]===0&&a[d+2][h]===1&&a[d+3][h]===1&&a[d+4][h]===1&&a[d+5][h]===0&&a[d+6][h]===1&&(ht.isWhiteVertical(a,h,d-4,d)||ht.isWhiteVertical(a,h,d+7,d+11))&&i++}return i*ht.N3}static isWhiteHorizontal(r,i,a){i=Math.max(i,0),a=Math.min(a,r.length);for(let c=i;c<a;c++)if(r[c]===1)return!1;return!0}static isWhiteVertical(r,i,a,c){a=Math.max(a,0),c=Math.min(c,r.length);for(let u=a;u<c;u++)if(r[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let i=0;const a=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let x=0;x<u;x++){const y=a[x];for(let E=0;E<c;E++)y[E]===1&&i++}const d=r.getHeight()*r.getWidth();return Math.floor(Math.abs(i*2-d)*10/d)*ht.N4}static getDataMaskBit(r,i,a){let c,u;switch(r){case 0:c=a+i&1;break;case 1:c=a&1;break;case 2:c=i%3;break;case 3:c=(a+i)%3;break;case 4:c=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:u=a*i,c=(u&1)+u%3;break;case 6:u=a*i,c=(u&1)+u%3&1;break;case 7:u=a*i,c=u%3+(a+i&1)&1;break;default:throw new C("Invalid mask pattern: "+r)}return c===0}static applyMaskPenaltyRule1Internal(r,i){let a=0;const c=i?r.getHeight():r.getWidth(),u=i?r.getWidth():r.getHeight(),d=r.getArray();for(let h=0;h<c;h++){let x=0,y=-1;for(let E=0;E<u;E++){const b=i?d[h][E]:d[E][h];b===y?x++:(x>=5&&(a+=ht.N1+(x-5)),x=1,y=b)}x>=5&&(a+=ht.N1+(x-5))}return a}}ht.N1=3,ht.N2=3,ht.N3=40,ht.N4=10;class ol{constructor(r,i){this.width=r,this.height=i;const a=new Array(i);for(let c=0;c!==i;c++)a[c]=new Uint8Array(r);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(r,i){return this.bytes[i][r]}getArray(){return this.bytes}setNumber(r,i,a){this.bytes[i][r]=a}setBoolean(r,i,a){this.bytes[i][r]=a?1:0}clear(r){for(const i of this.bytes)N.fill(i,r)}equals(r){if(!(r instanceof ol))return!1;const i=r;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,c=this.height;a<c;++a){const u=this.bytes[a],d=i.bytes[a];for(let h=0,x=this.width;h<x;++h)if(u[h]!==d[h])return!1}return!0}toString(){const r=new re;for(let i=0,a=this.height;i<a;++i){const c=this.bytes[i];for(let u=0,d=this.width;u<d;++u)switch(c[u]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class Ys{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new re;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<Ys.NUM_MASK_PATTERNS}}Ys.NUM_MASK_PATTERNS=8;class Ye extends p{}Ye.kind="WriterException";class ve{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,i,a,c,u){ve.clearMatrix(u),ve.embedBasicPatterns(a,u),ve.embedTypeInfo(i,c,u),ve.maybeEmbedVersionInfo(a,u),ve.embedDataBits(r,c,u)}static embedBasicPatterns(r,i){ve.embedPositionDetectionPatternsAndSeparators(i),ve.embedDarkDotAtLeftBottomCorner(i),ve.maybeEmbedPositionAdjustmentPatterns(r,i),ve.embedTimingPatterns(i)}static embedTypeInfo(r,i,a){const c=new B;ve.makeTypeInfoBits(r,i,c);for(let u=0,d=c.getSize();u<d;++u){const h=c.get(c.getSize()-1-u),x=ve.TYPE_INFO_COORDINATES[u],y=x[0],E=x[1];if(a.setBoolean(y,E,h),u<8){const b=a.getWidth()-u-1,I=8;a.setBoolean(b,I,h)}else{const I=a.getHeight()-7+(u-8);a.setBoolean(8,I,h)}}}static maybeEmbedVersionInfo(r,i){if(r.getVersionNumber()<7)return;const a=new B;ve.makeVersionInfoBits(r,a);let c=6*3-1;for(let u=0;u<6;++u)for(let d=0;d<3;++d){const h=a.get(c);c--,i.setBoolean(u,i.getHeight()-11+d,h),i.setBoolean(i.getHeight()-11+d,u,h)}}static embedDataBits(r,i,a){let c=0,u=-1,d=a.getWidth()-1,h=a.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);h>=0&&h<a.getHeight();){for(let x=0;x<2;++x){const y=d-x;if(!ve.isEmpty(a.get(y,h)))continue;let E;c<r.getSize()?(E=r.get(c),++c):E=!1,i!==255&&ht.getDataMaskBit(i,y,h)&&(E=!E),a.setBoolean(y,h,E)}h+=u}u=-u,h+=u,d-=2}if(c!==r.getSize())throw new Ye("Not all bits consumed: "+c+"/"+r.getSize())}static findMSBSet(r){return 32-T.numberOfLeadingZeros(r)}static calculateBCHCode(r,i){if(i===0)throw new C("0 polynomial");const a=ve.findMSBSet(i);for(r<<=a-1;ve.findMSBSet(r)>=a;)r^=i<<ve.findMSBSet(r)-a;return r}static makeTypeInfoBits(r,i,a){if(!Ys.isValidMaskPattern(i))throw new Ye("Invalid mask pattern");const c=r.getBits()<<3|i;a.appendBits(c,5);const u=ve.calculateBCHCode(c,ve.TYPE_INFO_POLY);a.appendBits(u,10);const d=new B;if(d.appendBits(ve.TYPE_INFO_MASK_PATTERN,15),a.xor(d),a.getSize()!==15)throw new Ye("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(r,i){i.appendBits(r.getVersionNumber(),6);const a=ve.calculateBCHCode(r.getVersionNumber(),ve.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new Ye("should not happen but we got: "+i.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let i=8;i<r.getWidth()-8;++i){const a=(i+1)%2;ve.isEmpty(r.get(i,6))&&r.setNumber(i,6,a),ve.isEmpty(r.get(6,i))&&r.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Ye;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,i,a){for(let c=0;c<8;++c){if(!ve.isEmpty(a.get(r+c,i)))throw new Ye;a.setNumber(r+c,i,0)}}static embedVerticalSeparationPattern(r,i,a){for(let c=0;c<7;++c){if(!ve.isEmpty(a.get(r,i+c)))throw new Ye;a.setNumber(r,i+c,0)}}static embedPositionAdjustmentPattern(r,i,a){for(let c=0;c<5;++c){const u=ve.POSITION_ADJUSTMENT_PATTERN[c];for(let d=0;d<5;++d)a.setNumber(r+d,i+c,u[d])}}static embedPositionDetectionPattern(r,i,a){for(let c=0;c<7;++c){const u=ve.POSITION_DETECTION_PATTERN[c];for(let d=0;d<7;++d)a.setNumber(r+d,i+c,u[d])}}static embedPositionDetectionPatternsAndSeparators(r){const i=ve.POSITION_DETECTION_PATTERN[0].length;ve.embedPositionDetectionPattern(0,0,r),ve.embedPositionDetectionPattern(r.getWidth()-i,0,r),ve.embedPositionDetectionPattern(0,r.getWidth()-i,r);const a=8;ve.embedHorizontalSeparationPattern(0,a-1,r),ve.embedHorizontalSeparationPattern(r.getWidth()-a,a-1,r),ve.embedHorizontalSeparationPattern(0,r.getWidth()-a,r);const c=7;ve.embedVerticalSeparationPattern(c,0,r),ve.embedVerticalSeparationPattern(r.getHeight()-c-1,0,r),ve.embedVerticalSeparationPattern(c,r.getHeight()-c,r)}static maybeEmbedPositionAdjustmentPatterns(r,i){if(r.getVersionNumber()<2)return;const a=r.getVersionNumber()-1,c=ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let u=0,d=c.length;u!==d;u++){const h=c[u];if(h>=0)for(let x=0;x!==d;x++){const y=c[x];y>=0&&ve.isEmpty(i.get(y,h))&&ve.embedPositionAdjustmentPattern(y-2,h-2,i)}}}}ve.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ve.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ve.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ve.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ve.VERSION_INFO_POLY=7973,ve.TYPE_INFO_POLY=1335,ve.TYPE_INFO_MASK_PATTERN=21522;class qv{constructor(r,i){this.dataBytes=r,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Je{constructor(){}static calculateMaskPenalty(r){return ht.applyMaskPenaltyRule1(r)+ht.applyMaskPenaltyRule2(r)+ht.applyMaskPenaltyRule3(r)+ht.applyMaskPenaltyRule4(r)}static encode(r,i,a=null){let c=Je.DEFAULT_BYTE_MODE_ENCODING;const u=a!==null&&a.get(_t.CHARACTER_SET)!==void 0;u&&(c=a.get(_t.CHARACTER_SET).toString());const d=this.chooseMode(r,c),h=new B;if(d===we.BYTE&&(u||Je.DEFAULT_BYTE_MODE_ENCODING!==c)){const te=W.getCharacterSetECIByName(c);te!==void 0&&this.appendECI(te,h)}this.appendModeInfo(d,h);const x=new B;this.appendBytes(r,d,x,c);let y;if(a!==null&&a.get(_t.QR_VERSION)!==void 0){const te=Number.parseInt(a.get(_t.QR_VERSION).toString(),10);y=xe.getVersionForNumber(te);const $=this.calculateBitsNeeded(d,h,x,y);if(!this.willFit($,y,i))throw new Ye("Data too big for requested version")}else y=this.recommendVersion(i,d,h,x);const E=new B;E.appendBitArray(h);const b=d===we.BYTE?x.getSizeInBytes():r.length;this.appendLengthInfo(b,y,d,E),E.appendBitArray(x);const I=y.getECBlocksForLevel(i),L=y.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(L,E);const j=this.interleaveWithECBytes(E,y.getTotalCodewords(),L,I.getNumBlocks()),F=new Ys;F.setECLevel(i),F.setMode(d),F.setVersion(y);const z=y.getDimensionForVersion(),K=new ol(z,z),ee=this.chooseMaskPattern(j,i,y,K);return F.setMaskPattern(ee),ve.buildMatrix(j,i,y,ee,K),F.setMatrix(K),F}static recommendVersion(r,i,a,c){const u=this.calculateBitsNeeded(i,a,c,xe.getVersionForNumber(1)),d=this.chooseVersion(u,r),h=this.calculateBitsNeeded(i,a,c,d);return this.chooseVersion(h,r)}static calculateBitsNeeded(r,i,a,c){return i.getSize()+r.getCharacterCountBits(c)+a.getSize()}static getAlphanumericCode(r){return r<Je.ALPHANUMERIC_TABLE.length?Je.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,i=null){if(W.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(r))return we.KANJI;let a=!1,c=!1;for(let u=0,d=r.length;u<d;++u){const h=r.charAt(u);if(Je.isDigit(h))a=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)c=!0;else return we.BYTE}return c?we.ALPHANUMERIC:a?we.NUMERIC:we.BYTE}static isOnlyDoubleByteKanji(r){let i;try{i=Se.encode(r,W.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let c=0;c<a;c+=2){const u=i[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(r,i,a,c){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let h=0;h<Ys.NUM_MASK_PATTERNS;h++){ve.buildMatrix(r,i,a,h,c);let x=this.calculateMaskPenalty(c);x<u&&(u=x,d=h)}return d}static chooseVersion(r,i){for(let a=1;a<=40;a++){const c=xe.getVersionForNumber(a);if(Je.willFit(r,c,i))return c}throw new Ye("Data too big")}static willFit(r,i,a){const c=i.getTotalCodewords(),d=i.getECBlocksForLevel(a).getTotalECCodewords(),h=c-d,x=(r+7)/8;return h>=x}static terminateBits(r,i){const a=r*8;if(i.getSize()>a)throw new Ye("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let d=0;d<4&&i.getSize()<a;++d)i.appendBit(!1);const c=i.getSize()&7;if(c>0)for(let d=c;d<8;d++)i.appendBit(!1);const u=r-i.getSizeInBytes();for(let d=0;d<u;++d)i.appendBits(d&1?17:236,8);if(i.getSize()!==a)throw new Ye("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,i,a,c,u,d){if(c>=a)throw new Ye("Block ID too large");const h=r%a,x=a-h,y=Math.floor(r/a),E=y+1,b=Math.floor(i/a),I=b+1,L=y-b,j=E-I;if(L!==j)throw new Ye("EC bytes mismatch");if(a!==x+h)throw new Ye("RS blocks mismatch");if(r!==(b+L)*x+(I+j)*h)throw new Ye("Total bytes mismatch");c<x?(u[0]=b,d[0]=L):(u[0]=I,d[0]=j)}static interleaveWithECBytes(r,i,a,c){if(r.getSizeInBytes()!==a)throw new Ye("Number of bits and data bytes does not match");let u=0,d=0,h=0;const x=new Array;for(let E=0;E<c;++E){const b=new Int32Array(1),I=new Int32Array(1);Je.getNumDataBytesAndNumECBytesForBlockID(i,a,c,E,b,I);const L=b[0],j=new Uint8Array(L);r.toBytes(8*u,j,0,L);const F=Je.generateECBytes(j,I[0]);x.push(new qv(j,F)),d=Math.max(d,L),h=Math.max(h,F.length),u+=b[0]}if(a!==u)throw new Ye("Data bytes does not match offset");const y=new B;for(let E=0;E<d;++E)for(const b of x){const I=b.getDataBytes();E<I.length&&y.appendBits(I[E],8)}for(let E=0;E<h;++E)for(const b of x){const I=b.getErrorCorrectionBytes();E<I.length&&y.appendBits(I[E],8)}if(i!==y.getSizeInBytes())throw new Ye("Interleaving error: "+i+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(r,i){const a=r.length,c=new Int32Array(a+i);for(let d=0;d<a;d++)c[d]=r[d]&255;new zu(Fe.QR_CODE_FIELD_256).encode(c,i);const u=new Uint8Array(i);for(let d=0;d<i;d++)u[d]=c[a+d];return u}static appendModeInfo(r,i){i.appendBits(r.getBits(),4)}static appendLengthInfo(r,i,a,c){const u=a.getCharacterCountBits(i);if(r>=1<<u)throw new Ye(r+" is bigger than "+((1<<u)-1));c.appendBits(r,u)}static appendBytes(r,i,a,c){switch(i){case we.NUMERIC:Je.appendNumericBytes(r,a);break;case we.ALPHANUMERIC:Je.appendAlphanumericBytes(r,a);break;case we.BYTE:Je.append8BitBytes(r,a,c);break;case we.KANJI:Je.appendKanjiBytes(r,a);break;default:throw new Ye("Invalid mode: "+i)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const i=Je.getDigit(r);return i>=0&&i<=9}static appendNumericBytes(r,i){const a=r.length;let c=0;for(;c<a;){const u=Je.getDigit(r.charAt(c));if(c+2<a){const d=Je.getDigit(r.charAt(c+1)),h=Je.getDigit(r.charAt(c+2));i.appendBits(u*100+d*10+h,10),c+=3}else if(c+1<a){const d=Je.getDigit(r.charAt(c+1));i.appendBits(u*10+d,7),c+=2}else i.appendBits(u,4),c++}}static appendAlphanumericBytes(r,i){const a=r.length;let c=0;for(;c<a;){const u=Je.getAlphanumericCode(r.charCodeAt(c));if(u===-1)throw new Ye;if(c+1<a){const d=Je.getAlphanumericCode(r.charCodeAt(c+1));if(d===-1)throw new Ye;i.appendBits(u*45+d,11),c+=2}else i.appendBits(u,6),c++}}static append8BitBytes(r,i,a){let c;try{c=Se.encode(r,a)}catch(u){throw new Ye(u)}for(let u=0,d=c.length;u!==d;u++){const h=c[u];i.appendBits(h,8)}}static appendKanjiBytes(r,i){let a;try{a=Se.encode(r,W.SJIS)}catch(u){throw new Ye(u)}const c=a.length;for(let u=0;u<c;u+=2){const d=a[u]&255,h=a[u+1]&255,x=d<<8&4294967295|h;let y=-1;if(x>=33088&&x<=40956?y=x-33088:x>=57408&&x<=60351&&(y=x-49472),y===-1)throw new Ye("Invalid byte sequence");const E=(y>>8)*192+(y&255);i.appendBits(E,13)}}static appendECI(r,i){i.appendBits(we.ECI.getBits(),4),i.appendBits(r.getValue(),8)}}Je.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Je.DEFAULT_BYTE_MODE_ENCODING=W.UTF8.getName();class Qs{write(r,i,a,c=null){if(r.length===0)throw new C("Found empty contents");if(i<0||a<0)throw new C("Requested dimensions are too small: "+i+"x"+a);let u=Ze.L,d=Qs.QUIET_ZONE_SIZE;c!==null&&(c.get(_t.ERROR_CORRECTION)!==void 0&&(u=Ze.fromString(c.get(_t.ERROR_CORRECTION).toString())),c.get(_t.MARGIN)!==void 0&&(d=Number.parseInt(c.get(_t.MARGIN).toString(),10)));const h=Je.encode(r,u,c);return this.renderResult(h,i,a,d)}writeToDom(r,i,a,c,u=null){typeof r=="string"&&(r=document.querySelector(r));const d=this.write(i,a,c,u);r&&r.appendChild(d)}renderResult(r,i,a,c){const u=r.getMatrix();if(u===null)throw new hr;const d=u.getWidth(),h=u.getHeight(),x=d+c*2,y=h+c*2,E=Math.max(i,x),b=Math.max(a,y),I=Math.min(Math.floor(E/x),Math.floor(b/y)),L=Math.floor((E-d*I)/2),j=Math.floor((b-h*I)/2),F=this.createSVGElement(E,b);for(let z=0,K=j;z<h;z++,K+=I)for(let ee=0,te=L;ee<d;ee++,te+=I)if(u.get(ee,z)===1){const $=this.createSvgRectElement(te,K,I,I);F.appendChild($)}return F}createSVGElement(r,i){const a=document.createElementNS(Qs.SVG_NS,"svg");return a.setAttributeNS(null,"height",r.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(r,i,a,c){const u=document.createElementNS(Qs.SVG_NS,"rect");return u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}Qs.QUIET_ZONE_SIZE=4,Qs.SVG_NS="http://www.w3.org/2000/svg";class Ti{encode(r,i,a,c,u){if(r.length===0)throw new C("Found empty contents");if(i!==ue.QR_CODE)throw new C("Can only encode QR_CODE, but got "+i);if(a<0||c<0)throw new C(`Requested dimensions are too small: ${a}x${c}`);let d=Ze.L,h=Ti.QUIET_ZONE_SIZE;u!==null&&(u.get(_t.ERROR_CORRECTION)!==void 0&&(d=Ze.fromString(u.get(_t.ERROR_CORRECTION).toString())),u.get(_t.MARGIN)!==void 0&&(h=Number.parseInt(u.get(_t.MARGIN).toString(),10)));const x=Je.encode(r,d,u);return Ti.renderResult(x,a,c,h)}static renderResult(r,i,a,c){const u=r.getMatrix();if(u===null)throw new hr;const d=u.getWidth(),h=u.getHeight(),x=d+c*2,y=h+c*2,E=Math.max(i,x),b=Math.max(a,y),I=Math.min(Math.floor(E/x),Math.floor(b/y)),L=Math.floor((E-d*I)/2),j=Math.floor((b-h*I)/2),F=new le(E,b);for(let z=0,K=j;z<h;z++,K+=I)for(let ee=0,te=L;ee<d;ee++,te+=I)u.get(ee,z)===1&&F.setRegion(te,K,I,I);return F}}Ti.QUIET_ZONE_SIZE=4;class $v{encode(r,i,a,c,u){let d;switch(i){case ue.QR_CODE:d=new Ti;break;default:throw new C("No encoder available for format "+i)}return d.encode(r,i,a,c,u)}}class xr extends ne{constructor(r,i,a,c,u,d,h,x){if(super(d,h),this.yuvData=r,this.dataWidth=i,this.dataHeight=a,this.left=c,this.top=u,c+d>i||u+h>a)throw new C("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(d,h)}getRow(r,i){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(r+this.top)*this.dataWidth+this.left;return M.arraycopy(this.yuvData,c,i,0,a),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=r*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return M.arraycopy(this.yuvData,u,c,0,a),c;for(let d=0;d<i;d++){const h=d*r;M.arraycopy(this.yuvData,u,c,h,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,i,a,c){return new xr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+i,a,c,!1)}renderThumbnail(){const r=this.getWidth()/xr.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/xr.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(r*i),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let d=0;d<i;d++){const h=d*r;for(let x=0;x<r;x++){const y=c[u+x*xr.THUMBNAIL_SCALE_FACTOR]&255;a[h+x]=4278190080|y*65793}u+=this.dataWidth*xr.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/xr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/xr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,i){const a=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<i;c++,u+=this.dataWidth){const d=u+r/2;for(let h=u,x=u+r-1;h<d;h++,x--){const y=a[h];a[h]=a[x],a[x]=y}}}invert(){return new fe(this)}}xr.THUMBNAIL_SCALE_FACTOR=2;class Hu extends ne{constructor(r,i,a,c,u,d,h){if(super(i,a),this.dataWidth=c,this.dataHeight=u,this.left=d,this.top=h,r.BYTES_PER_ELEMENT===4){const x=i*a,y=new Uint8ClampedArray(x);for(let E=0;E<x;E++){const b=r[E],I=b>>16&255,L=b>>7&510,j=b&255;y[E]=(I+L+j)/4&255}this.luminances=y}else this.luminances=r;if(c===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=a),d===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(r,i){if(r<0||r>=this.getHeight())throw new C("Requested row is outside the image: "+r);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const c=(r+this.top)*this.dataWidth+this.left;return M.arraycopy(this.luminances,c,i,0,a),i}getMatrix(){const r=this.getWidth(),i=this.getHeight();if(r===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=r*i,c=new Uint8ClampedArray(a);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return M.arraycopy(this.luminances,u,c,0,a),c;for(let d=0;d<i;d++){const h=d*r;M.arraycopy(this.luminances,u,c,h,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,i,a,c){return new Hu(this.luminances,a,c,this.dataWidth,this.dataHeight,this.left+r,this.top+i)}invert(){return new fe(this)}}class g1 extends W{static forName(r){return this.getCharacterSetECIByName(r)}}class Wu{}Wu.ISO_8859_1=W.ISO8859_1;class m1{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class x1{static singletonList(r){return[r]}static min(r,i){return r.sort(i)[0]}}class Jv{constructor(r){this.previous=r}getPrevious(){return this.previous}}class Ni extends Jv{constructor(r,i,a){super(r),this.value=i,this.bitCount=a}appendTo(r,i){r.appendBits(this.value,this.bitCount)}add(r,i){return new Ni(this,r,i)}addBinaryShift(r,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ni(this,r,i)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+T.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Gu extends Ni{constructor(r,i,a){super(r,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(r,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):a===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(r,i){return new Gu(this,r,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function eC(S,r,i){return new Gu(S,r,i)}function Do(S,r,i){return new Ni(S,r,i)}const tC=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],is=0,al=1,jn=2,y1=3,yr=4,nC=new Ni(null,0,0),Xu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function rC(S){for(let r of S)N.fill(r,-1);return S[is][yr]=0,S[al][yr]=0,S[al][is]=28,S[y1][yr]=0,S[jn][yr]=0,S[jn][is]=15,S}const w1=rC(N.createInt32Array(6,6));class wr{constructor(r,i,a,c){this.token=r,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,i){let a=this.bitCount,c=this.token;if(r!==this.mode){let d=Xu[this.mode][r];c=Do(c,d&65535,d>>16),a+=d>>16}let u=r===jn?4:5;return c=Do(c,i,u),new wr(c,r,0,a+u)}shiftAndAppend(r,i){let a=this.token,c=this.mode===jn?4:5;return a=Do(a,w1[this.mode][r],c),a=Do(a,i,5),new wr(a,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(r){let i=this.token,a=this.mode,c=this.bitCount;if(this.mode===yr||this.mode===jn){let h=Xu[a][is];i=Do(i,h&65535,h>>16),c+=h>>16,a=is}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new wr(i,a,this.binaryShiftByteCount+1,c+u);return d.binaryShiftByteCount===2047+31&&(d=d.endBinaryShift(r+1)),d}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=eC(i,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new wr(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let i=this.bitCount+(Xu[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?i+=wr.calculateBinaryShiftCost(r)-wr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(i+=10),i<=r.bitCount}toBitArray(r){let i=[];for(let c=this.endBinaryShift(r.length).token;c!==null;c=c.getPrevious())i.unshift(c);let a=new B;for(const c of i)c.appendTo(a,r);return a}toString(){return ie.format("%s bits=%d bytes=%d",tC[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}wr.INITIAL_STATE=new wr(nC,is,0,0);function sC(S){const r=ie.getCharCode(" "),i=ie.getCharCode("."),a=ie.getCharCode(",");S[is][r]=1;const c=ie.getCharCode("Z"),u=ie.getCharCode("A");for(let I=u;I<=c;I++)S[is][I]=I-u+2;S[al][r]=1;const d=ie.getCharCode("z"),h=ie.getCharCode("a");for(let I=h;I<=d;I++)S[al][I]=I-h+2;S[jn][r]=1;const x=ie.getCharCode("9"),y=ie.getCharCode("0");for(let I=y;I<=x;I++)S[jn][I]=I-y+2;S[jn][a]=12,S[jn][i]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<E.length;I++)S[y1][ie.getCharCode(E[I])]=I;const b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<b.length;I++)ie.getCharCode(b[I])>0&&(S[yr][ie.getCharCode(b[I])]=I);return S}const Yu=sC(N.createInt32Array(5,256));class ko{constructor(r){this.text=r}encode(){const r=ie.getCharCode(" "),i=ie.getCharCode(`
`);let a=x1.singletonList(wr.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,h=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case ie.getCharCode("\r"):d=h===i?2:0;break;case ie.getCharCode("."):d=h===r?3:0;break;case ie.getCharCode(","):d=h===r?4:0;break;case ie.getCharCode(":"):d=h===r?5:0;break;default:d=0}d>0?(a=ko.updateStateListForPair(a,u,d),u++):a=this.updateStateListForChar(a,u)}return x1.min(a,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,i){const a=[];for(let c of r)this.updateStateForChar(c,i,a);return ko.simplifyStates(a)}updateStateForChar(r,i,a){let c=this.text[i]&255,u=Yu[r.getMode()][c]>0,d=null;for(let h=0;h<=yr;h++){let x=Yu[h][c];if(x>0){if(d==null&&(d=r.endBinaryShift(i)),!u||h===r.getMode()||h===jn){const y=d.latchAndAppend(h,x);a.push(y)}if(!u&&w1[r.getMode()][h]>=0){const y=d.shiftAndAppend(h,x);a.push(y)}}}if(r.getBinaryShiftByteCount()>0||Yu[r.getMode()][c]===0){let h=r.addBinaryShiftChar(i);a.push(h)}}static updateStateListForPair(r,i,a){const c=[];for(let u of r)this.updateStateForPair(u,i,a,c);return this.simplifyStates(c)}static updateStateForPair(r,i,a,c){let u=r.endBinaryShift(i);if(c.push(u.latchAndAppend(yr,a)),r.getMode()!==yr&&c.push(u.shiftAndAppend(yr,a)),a===3||a===4){let d=u.latchAndAppend(jn,16-a).latchAndAppend(jn,1);c.push(d)}if(r.getBinaryShiftByteCount()>0){let d=r.addBinaryShiftChar(i).addBinaryShiftChar(i+1);c.push(d)}}static simplifyStates(r){let i=[];for(const a of r){let c=!0;for(const u of i){if(u.isBetterThanOrEqualTo(a)){c=!1;break}a.isBetterThanOrEqualTo(u)&&(i=i.filter(d=>d!==u))}c&&i.push(a)}return i}}class Pe{constructor(){}static encodeBytes(r){return Pe.encode(r,Pe.DEFAULT_EC_PERCENT,Pe.DEFAULT_AZTEC_LAYERS)}static encode(r,i,a){let c=new ko(r).encode(),u=T.truncDivision(c.getSize()*i,100)+11,d=c.getSize()+u,h,x,y,E,b;if(a!==Pe.DEFAULT_AZTEC_LAYERS){if(h=a<0,x=Math.abs(a),x>(h?Pe.MAX_NB_BITS_COMPACT:Pe.MAX_NB_BITS))throw new C(ie.format("Illegal value %s for layers",a));y=Pe.totalBitsInLayer(x,h),E=Pe.WORD_SIZE[x];let $=y-y%E;if(b=Pe.stuffBits(c,E),b.getSize()+u>$)throw new C("Data to large for user specified layer");if(h&&b.getSize()>E*64)throw new C("Data to large for user specified layer")}else{E=0,b=null;for(let $=0;;$++){if($>Pe.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(h=$<=3,x=h?$+1:$,y=Pe.totalBitsInLayer(x,h),d>y)continue;(b==null||E!==Pe.WORD_SIZE[x])&&(E=Pe.WORD_SIZE[x],b=Pe.stuffBits(c,E));let Oe=y-y%E;if(!(h&&b.getSize()>E*64)&&b.getSize()+u<=Oe)break}}let I=Pe.generateCheckWords(b,y,E),L=b.getSize()/E,j=Pe.generateModeMessage(h,x,L),F=(h?11:14)+x*4,z=new Int32Array(F),K;if(h){K=F;for(let $=0;$<z.length;$++)z[$]=$}else{K=F+1+2*T.truncDivision(T.truncDivision(F,2)-1,15);let $=T.truncDivision(F,2),Oe=T.truncDivision(K,2);for(let be=0;be<$;be++){let fn=be+T.truncDivision(be,15);z[$-be-1]=Oe-fn-1,z[$+be]=Oe+fn+1}}let ee=new le(K);for(let $=0,Oe=0;$<x;$++){let be=(x-$)*4+(h?9:12);for(let fn=0;fn<be;fn++){let Jn=fn*2;for(let hn=0;hn<2;hn++)I.get(Oe+Jn+hn)&&ee.set(z[$*2+hn],z[$*2+fn]),I.get(Oe+be*2+Jn+hn)&&ee.set(z[$*2+fn],z[F-1-$*2-hn]),I.get(Oe+be*4+Jn+hn)&&ee.set(z[F-1-$*2-hn],z[F-1-$*2-fn]),I.get(Oe+be*6+Jn+hn)&&ee.set(z[F-1-$*2-fn],z[$*2+hn])}Oe+=be*8}if(Pe.drawModeMessage(ee,h,K,j),h)Pe.drawBullsEye(ee,T.truncDivision(K,2),5);else{Pe.drawBullsEye(ee,T.truncDivision(K,2),7);for(let $=0,Oe=0;$<T.truncDivision(F,2)-1;$+=15,Oe+=16)for(let be=T.truncDivision(K,2)&1;be<K;be+=2)ee.set(T.truncDivision(K,2)-Oe,be),ee.set(T.truncDivision(K,2)+Oe,be),ee.set(be,T.truncDivision(K,2)-Oe),ee.set(be,T.truncDivision(K,2)+Oe)}let te=new m1;return te.setCompact(h),te.setSize(K),te.setLayers(x),te.setCodeWords(L),te.setMatrix(ee),te}static drawBullsEye(r,i,a){for(let c=0;c<a;c+=2)for(let u=i-c;u<=i+c;u++)r.set(u,i-c),r.set(u,i+c),r.set(i-c,u),r.set(i+c,u);r.set(i-a,i-a),r.set(i-a+1,i-a),r.set(i-a,i-a+1),r.set(i+a,i-a),r.set(i+a,i-a+1),r.set(i+a,i+a-1)}static generateModeMessage(r,i,a){let c=new B;return r?(c.appendBits(i-1,2),c.appendBits(a-1,6),c=Pe.generateCheckWords(c,28,4)):(c.appendBits(i-1,5),c.appendBits(a-1,11),c=Pe.generateCheckWords(c,40,4)),c}static drawModeMessage(r,i,a,c){let u=T.truncDivision(a,2);if(i)for(let d=0;d<7;d++){let h=u-3+d;c.get(d)&&r.set(h,u-5),c.get(d+7)&&r.set(u+5,h),c.get(20-d)&&r.set(h,u+5),c.get(27-d)&&r.set(u-5,h)}else for(let d=0;d<10;d++){let h=u-5+d+T.truncDivision(d,5);c.get(d)&&r.set(h,u-7),c.get(d+10)&&r.set(u+7,h),c.get(29-d)&&r.set(h,u+7),c.get(39-d)&&r.set(u-7,h)}}static generateCheckWords(r,i,a){let c=r.getSize()/a,u=new zu(Pe.getGF(a)),d=T.truncDivision(i,a),h=Pe.bitsToWords(r,a,d);u.encode(h,d-c);let x=i%a,y=new B;y.appendBits(0,x);for(const E of Array.from(h))y.appendBits(E,a);return y}static bitsToWords(r,i,a){let c=new Int32Array(a),u,d;for(u=0,d=r.getSize()/i;u<d;u++){let h=0;for(let x=0;x<i;x++)h|=r.get(u*i+x)?1<<i-x-1:0;c[u]=h}return c}static getGF(r){switch(r){case 4:return Fe.AZTEC_PARAM;case 6:return Fe.AZTEC_DATA_6;case 8:return Fe.AZTEC_DATA_8;case 10:return Fe.AZTEC_DATA_10;case 12:return Fe.AZTEC_DATA_12;default:throw new C("Unsupported word size "+r)}}static stuffBits(r,i){let a=new B,c=r.getSize(),u=(1<<i)-2;for(let d=0;d<c;d+=i){let h=0;for(let x=0;x<i;x++)(d+x>=c||r.get(d+x))&&(h|=1<<i-1-x);(h&u)===u?(a.appendBits(h&u,i),d--):h&u?a.appendBits(h,i):(a.appendBits(h|1,i),d--)}return a}static totalBitsInLayer(r,i){return((i?88:112)+16*r)*r}}Pe.DEFAULT_EC_PERCENT=33,Pe.DEFAULT_AZTEC_LAYERS=0,Pe.MAX_NB_BITS=32,Pe.MAX_NB_BITS_COMPACT=4,Pe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ll{encode(r,i,a,c){return this.encodeWithHints(r,i,a,c,null)}encodeWithHints(r,i,a,c,u){let d=Wu.ISO_8859_1,h=Pe.DEFAULT_EC_PERCENT,x=Pe.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(_t.CHARACTER_SET)&&(d=g1.forName(u.get(_t.CHARACTER_SET).toString())),u.has(_t.ERROR_CORRECTION)&&(h=T.parseInt(u.get(_t.ERROR_CORRECTION).toString())),u.has(_t.AZTEC_LAYERS)&&(x=T.parseInt(u.get(_t.AZTEC_LAYERS).toString()))),ll.encodeLayers(r,i,a,c,d,h,x)}static encodeLayers(r,i,a,c,u,d,h){if(i!==ue.AZTEC)throw new C("Can only encode AZTEC, but got "+i);let x=Pe.encode(ie.getBytes(r,u),d,h);return ll.renderResult(x,a,c)}static renderResult(r,i,a){let c=r.getMatrix();if(c==null)throw new hr;let u=c.getWidth(),d=c.getHeight(),h=Math.max(i,u),x=Math.max(a,d),y=Math.min(h/u,x/d),E=(h-u*y)/2,b=(x-d*y)/2,I=new le(h,x);for(let L=0,j=b;L<d;L++,j+=y)for(let F=0,z=E;F<u;F++,z+=y)c.get(F,L)&&I.setRegion(z,j,y,y);return I}}n.AbstractExpandedDecoder=Mu,n.ArgumentException=w,n.ArithmeticException=So,n.AztecCode=m1,n.AztecCodeReader=Ja,n.AztecCodeWriter=ll,n.AztecDecoder=Ke,n.AztecDetector=n1,n.AztecDetectorResult=e1,n.AztecEncoder=Pe,n.AztecHighLevelEncoder=ko,n.AztecPoint=tn,n.BarcodeFormat=ue,n.Binarizer=O,n.BinaryBitmap=A,n.BitArray=B,n.BitMatrix=le,n.BitSource=Pu,n.BrowserAztecCodeReader=Rv,n.BrowserBarcodeReader=Lv,n.BrowserCodeReader=Tt,n.BrowserDatamatrixCodeReader=Bv,n.BrowserMultiFormatReader=Qv,n.BrowserPDF417Reader=Kv,n.BrowserQRCodeReader=Zv,n.BrowserQRCodeSvgWriter=Qs,n.CharacterSetECI=W,n.ChecksumException=R,n.Code128Reader=se,n.Code39Reader=Nt,n.DataMatrixDecodedBitStreamParser=ts,n.DataMatrixReader=ns,n.DecodeHintType=X,n.DecoderResult=Dr,n.DefaultGridSampler=t1,n.DetectorResult=$a,n.EAN13Reader=Hs,n.EncodeHintType=_t,n.Exception=p,n.FormatException=U,n.GenericGF=Fe,n.GenericGFPoly=ut,n.GlobalHistogramBinarizer=pe,n.GridSampler=Iu,n.GridSamplerInstance=Jr,n.HTMLCanvasElementLuminanceSource=ye,n.HybridBinarizer=ge,n.ITFReader=Xe,n.IllegalArgumentException=C,n.IllegalStateException=hr,n.InvertedLuminanceSource=fe,n.LuminanceSource=ne,n.MathUtils=Le,n.MultiFormatOneDReader=Si,n.MultiFormatReader=p1,n.MultiFormatWriter=$v,n.NotFoundException=G,n.OneDReader=Ct,n.PDF417DecodedBitStreamParser=Y,n.PDF417DecoderErrorCorrection=l1,n.PDF417Reader=jt,n.PDF417ResultMetadata=u1,n.PerspectiveTransform=qn,n.PlanarYUVLuminanceSource=xr,n.QRCodeByteMatrix=ol,n.QRCodeDataMask=Pn,n.QRCodeDecodedBitStreamParser=it,n.QRCodeDecoderErrorCorrectionLevel=Ze,n.QRCodeDecoderFormatInformation=Qt,n.QRCodeEncoder=Je,n.QRCodeEncoderQRCode=Ys,n.QRCodeMaskUtil=ht,n.QRCodeMatrixUtil=ve,n.QRCodeMode=we,n.QRCodeReader=rs,n.QRCodeVersion=xe,n.QRCodeWriter=Ti,n.RGBLuminanceSource=Hu,n.RSS14Reader=ft,n.RSSExpandedReader=q,n.ReaderException=il,n.ReedSolomonDecoder=bo,n.ReedSolomonEncoder=zu,n.ReedSolomonException=vi,n.Result=je,n.ResultMetadataType=vt,n.ResultPoint=he,n.StringUtils=ie,n.UnsupportedOperationException=de,n.VideoInputDevice=me,n.WhiteRectangleDetector=kr,n.WriterException=Ye,n.ZXingArrays=N,n.ZXingCharset=g1,n.ZXingInteger=T,n.ZXingStandardCharsets=Wu,n.ZXingStringBuilder=re,n.ZXingStringEncoding=Se,n.ZXingSystem=M,n.createAbstractExpandedDecoder=o1,Object.defineProperty(n,"__esModule",{value:!0})})})(ah,ah.exports);var tt=ah.exports;const oN=Mm(tt),aN=Om({__proto__:null,default:oN},[tt]);var pm=function(){function e(t,n,s){if(this.formatMap=new Map([[ae.QR_CODE,tt.BarcodeFormat.QR_CODE],[ae.AZTEC,tt.BarcodeFormat.AZTEC],[ae.CODABAR,tt.BarcodeFormat.CODABAR],[ae.CODE_39,tt.BarcodeFormat.CODE_39],[ae.CODE_93,tt.BarcodeFormat.CODE_93],[ae.CODE_128,tt.BarcodeFormat.CODE_128],[ae.DATA_MATRIX,tt.BarcodeFormat.DATA_MATRIX],[ae.MAXICODE,tt.BarcodeFormat.MAXICODE],[ae.ITF,tt.BarcodeFormat.ITF],[ae.EAN_13,tt.BarcodeFormat.EAN_13],[ae.EAN_8,tt.BarcodeFormat.EAN_8],[ae.PDF_417,tt.BarcodeFormat.PDF_417],[ae.RSS_14,tt.BarcodeFormat.RSS_14],[ae.RSS_EXPANDED,tt.BarcodeFormat.RSS_EXPANDED],[ae.UPC_A,tt.BarcodeFormat.UPC_A],[ae.UPC_E,tt.BarcodeFormat.UPC_E],[ae.UPC_EAN_EXTENSION,tt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!aN)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=s;var o=this.createZXingFormats(t),l=new Map;l.set(tt.DecodeHintType.POSSIBLE_FORMATS,o),l.set(tt.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(s,o){try{s(n.decode(t))}catch(l){o(l)}})},e.prototype.decode=function(t){var n=new tt.MultiFormatReader(this.verbose,this.hints),s=new tt.HTMLCanvasElementLuminanceSource(t),o=new tt.BinaryBitmap(new tt.HybridBinarizer(s)),l=n.decode(o);return{text:l.text,format:Qw.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,o){t.set(n,s)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],s=0,o=t;s<o.length;s++){var l=o[s];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),lN=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(s.next(w))}catch(C){f(C)}}function m(w){try{p(s.throw(w))}catch(C){f(C)}}function p(w){w.done?l(w.value):o(w.value).then(g,m)}p((s=s.apply(e,t||[])).next())})},cN=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return m([p,w])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},gm=function(){function e(t,n,s){if(this.formatMap=new Map([[ae.QR_CODE,"qr_code"],[ae.AZTEC,"aztec"],[ae.CODABAR,"codabar"],[ae.CODE_39,"code_39"],[ae.CODE_93,"code_93"],[ae.CODE_128,"code_128"],[ae.DATA_MATRIX,"data_matrix"],[ae.ITF,"itf"],[ae.EAN_13,"ean_13"],[ae.EAN_8,"ean_8"],[ae.PDF_417,"pdf417"],[ae.UPC_A,"upc_a"],[ae.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=s;var o=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(o),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return lN(this,void 0,void 0,function(){var n,s;return cN(this,function(o){switch(o.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=o.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return s=this.selectLargestBarcode(n),[2,{text:s.rawValue,format:Qw.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,s=0,o=0,l=t;o<l.length;o++){var f=l[o],g=f.boundingBox.width*f.boundingBox.height;g>s&&(s=g,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],s=0,o=t;s<o.length;s++){var l=o[s];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,s,o){t.set(n,s)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),mm=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(s.next(w))}catch(C){f(C)}}function m(w){try{p(s.throw(w))}catch(C){f(C)}}function p(w){w.done?l(w.value):o(w.value).then(g,m)}p((s=s.apply(e,t||[])).next())})},xm=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return m([p,w])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},uN=function(){function e(t,n,s,o){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=s,n&&gm.isSupported()?(this.primaryDecoder=new gm(t,s,o),this.secondaryDecoder=new pm(t,s,o)):this.primaryDecoder=new pm(t,s,o)}return e.prototype.decodeAsync=function(t){return mm(this,void 0,void 0,function(){var n;return xm(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,s.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return mm(this,void 0,void 0,function(){var n,s;return xm(this,function(o){switch(o.label){case 0:n=performance.now(),o.label=1;case 1:return o.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,o.sent()];case 3:if(s=o.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw s;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,s=this.executionResults;n<s.length;n++){var o=s[n];t+=o}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),W0=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Hc=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(s.next(w))}catch(C){f(C)}}function m(w){try{p(s.throw(w))}catch(C){f(C)}}function p(w){w.done?l(w.value):o(w.value).then(g,m)}p((s=s.apply(e,t||[])).next())})},Wc=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return m([p,w])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},$w=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var s={advanced:[n]};return this.track.applyConstraints(s)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),dN=function(e){W0(t,e);function t(n,s){return e.call(this,n,s)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var s={};s[this.name]=n;var o={advanced:[s]};return this.track.applyConstraints(o)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),s=n[this.name];return{min:s.min,max:s.max,step:s.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}($w),fN=function(e){W0(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(dN),hN=function(e){W0(t,e);function t(n){return e.call(this,"torch",n)||this}return t}($w),pN=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new fN(this.track)},e.prototype.torchFeature=function(){return new hN(this.track)},e}(),gN=function(){function e(t,n,s){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=s,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var s=t.surface.clientWidth,o=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(s,o),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,s,o){return Hc(this,void 0,void 0,function(){var l,f;return Wc(this,function(g){switch(g.label){case 0:return l=new e(t,n,o),s.aspectRatio?(f={aspectRatio:s.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:g.sent(),g.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,s=function(){setTimeout(t,200),n.surface.removeEventListener("playing",s)};this.surface.addEventListener("playing",s),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Hc(this,void 0,void 0,function(){return Wc(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,s){var o=t.mediaStream.getVideoTracks(),l=o.length,f=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++f,f>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new pN(this.getFirstTrackOrFail())},e}(),mN=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,s){return Hc(this,void 0,void 0,function(){return Wc(this,function(o){return[2,gN.create(t,this.mediaStream,n,s)]})})},e.create=function(t){return Hc(this,void 0,void 0,function(){var n,s;return Wc(this,function(o){switch(o.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return s=o.sent(),[2,new e(s)]}})})},e}(),ym=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(s.next(w))}catch(C){f(C)}}function m(w){try{p(s.throw(w))}catch(C){f(C)}}function p(w){w.done?l(w.value):o(w.value).then(g,m)}p((s=s.apply(e,t||[])).next())})},wm=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return m([p,w])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},xN=function(){function e(){}return e.failIfNotSupported=function(){return ym(this,void 0,void 0,function(){return wm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return ym(this,void 0,void 0,function(){return wm(this,function(n){return[2,mN.create(t)]})})},e}(),yN=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(s.next(w))}catch(C){f(C)}}function m(w){try{p(s.throw(w))}catch(C){f(C)}}function p(w){w.done?l(w.value):o(w.value).then(g,m)}p((s=s.apply(e,t||[])).next())})},wN=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return m([p,w])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},vN=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Yi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Yi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return yN(this,void 0,void 0,function(){var t,n,s,o,l,f,g;return wN(this,function(m){switch(m.label){case 0:return t=function(p){for(var w=p.getVideoTracks(),C=0,A=w;C<A.length;C++){var R=A[C];R.enabled=!1,R.stop(),p.removeTrack(R)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(s=m.sent(),o=[],l=0,f=s;l<f.length;l++)g=f[l],g.kind==="videoinput"&&o.push({id:g.deviceId,label:g.label});return t(n),[2,o]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var s=function(l){for(var f=[],g=0,m=l;g<m.length;g++){var p=m[g];p.kind==="video"&&f.push({id:p.id,label:p.label})}t(f)},o=MediaStreamTrack;o.getSources(s)})},e}(),pt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(pt||(pt={}));var CN=function(){function e(){this.state=pt.NOT_STARTED,this.onGoingTransactionNewState=pt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===pt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=pt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===pt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=pt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==pt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case pt.UNKNOWN:throw"Transition from unknown is not allowed";case pt.NOT_STARTED:this.failIfNewStateIs(t,[pt.PAUSED]);break;case pt.SCANNING:break;case pt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var s=0,o=n;s<o.length;s++){var l=o[s];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),EN=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===pt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==pt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===pt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===pt.PAUSED},e}(),AN=function(){function e(){}return e.create=function(){return new EN(new CN)},e}(),SN=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(s[l]=o[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Sn=function(e){SN(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(rr),bN=function(){function e(t,n){this.logger=n,this.fps=Sn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Sn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?qw.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ar(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),vm=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var s;typeof n=="boolean"?this.verbose=n===!0:n&&(s=n,this.verbose=s.verbose===!0,s.experimentalFeatures),this.logger=new Zw(this.verbose),this.qrcode=new uN(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(s),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=AN.create()}return e.prototype.start=function(t,n,s,o){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!s||typeof s!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;o?f=o:f=this.verbose?this.logger.log:function(){};var g=bN.create(n,this.logger);this.clearElement();var m=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=m,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Sn.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var C=this,A=this.stateManagerProxy.startTransition(pt.SCANNING);return new Promise(function(R,O){var M=p?g.videoConstraints:C.createVideoConstraints(t);if(!M){A.cancel(),O("videoConstraints should be defined");return}var k={};(!p||g.aspectRatio)&&(k.aspectRatio=g.aspectRatio);var _={onRenderSurfaceReady:function(N,T){C.setupUi(N,T,g),C.isScanning=!0,C.foreverScan(g,s,f)}};xN.failIfNotSupported().then(function(N){N.create(M).then(function(T){return T.render(l.element,k,_).then(function(B){C.renderedCamera=B,A.execute(),R(null)}).catch(function(B){A.cancel(),O(B)})}).catch(function(T){A.cancel(),O(Yi.errorGettingUserMedia(T))})}).catch(function(N){A.cancel(),O(Yi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(pt.PAUSED),this.showPausedState(),(Ar(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(pt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(pt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var s=function(){if(t.element){var l=document.getElementById(Sn.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},o=this;return this.renderedCamera.close().then(function(){return o.renderedCamera=null,o.element&&(o.element.removeChild(o.canvasElement),o.canvasElement=null),s(),o.qrRegion&&(o.qrRegion=null),o.context&&(o.context=null),n.execute(),o.hidePausedState(),o.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(s){return s.decodedText})},e.prototype.scanFileV2=function(t,n){var s=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ar(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(o,l){s.possiblyCloseLastScanImageFile(),s.clearElement(),s.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var g=f.width,m=f.height,p=document.getElementById(s.elementId),w=p.clientWidth?p.clientWidth:Sn.DEFAULT_WIDTH,C=Math.max(p.clientHeight?p.clientHeight:m,Sn.FILE_SCAN_MIN_HEIGHT),A=s.computeCanvasDrawConfig(g,m,w,C);if(n){var R=s.createCanvasElement(w,C,"qr-canvas-visible");R.style.display="inline-block",p.appendChild(R);var O=R.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=w,O.canvas.height=C,O.drawImage(f,0,0,g,m,A.x,A.y,A.width,A.height)}var M=Sn.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(f.width,A.width),_=Math.max(f.height,A.height),N=k+2*M,T=_+2*M,B=s.createCanvasElement(N,T);p.appendChild(B);var V=B.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=N,V.canvas.height=T,V.drawImage(f,0,0,g,m,M,M,k,_);try{s.qrcode.decodeRobustlyAsync(B).then(function(X){o(fm.createFromQrcodeResult(X))}).catch(l)}catch(X){l("QR code parse error, error = ".concat(X))}},f.onerror=l,f.onabort=l,f.onstalled=l,f.onsuspend=l,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return vN.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!qw.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ae.QR_CODE,ae.AZTEC,ae.CODABAR,ae.CODE_39,ae.CODE_93,ae.CODE_128,ae.DATA_MATRIX,ae.MAXICODE,ae.ITF,ae.EAN_13,ae.EAN_8,ae.PDF_417,ae.RSS_14,ae.RSS_EXPANDED,ae.UPC_A,ae.UPC_E,ae.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var s=[],o=0,l=t.formatsToSupport;o<l.length;o++){var f=l[o];sN(f)?s.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(s.length===0)throw"None of formatsToSupport match supported values.";return s},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Ar(t))return!0;if(!Ar(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Ar(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Ar(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,s){var o=this,l=s.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(t,n,l),g=function(p){if(p<Sn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Sn.MIN_QR_BOX_SIZE,"px.")},m=function(p){return p>t&&(o.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};g(f.width),g(f.height),f.width=m(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,s){if(typeof s=="number")return{width:s,height:s};if(typeof s=="function")try{return s(t,n)}catch(o){throw new Error("qrbox config was passed as a function but it failed with unknown error"+o)}return s},e.prototype.setupUi=function(t,n,s){s.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,s);var o=Ar(s.qrbox)?{width:t,height:n}:s.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(t,n,o);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=s.isShadedBoxEnabled()&&l.height<=n,g={x:0,y:0,width:t,height:n},m=f?this.getShadedRegionBounds(t,n,l):g,p=this.createCanvasElement(m.width,m.height),w={willReadFrequently:!0},C=p.getContext("2d",w);C.canvas.width=m.width,C.canvas.height=m.height,this.element.append(p),f&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=C,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Yi.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var s=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(o){return t(o.text,fm.createFromQrcodeResult(o)),s.possiblyUpdateShaders(!0),!0}).catch(function(o){s.possiblyUpdateShaders(!1);var l=Yi.codeParseError(o);return n(l,Kw.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,s){var o=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),f=l.videoWidth/l.clientWidth,g=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*f,p=this.qrRegion.height*g,w=this.qrRegion.x*f,C=this.qrRegion.y*g;this.context.drawImage(l,w,C,m,p,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){o.foreverScanTimeout=setTimeout(function(){o.foreverScan(t,n,s)},o.getTimeoutFps(t.fps))};this.scanContext(n,s).then(function(R){!R&&t.disableFlip!==!0?(o.context.translate(o.context.canvas.width,0),o.context.scale(-1,1),o.scanContext(n,s).finally(function(){A()})):A()}).catch(function(R){o.logger.logError("Error happend while scanning context",R),A()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",s="deviceId",o={user:!0,environment:!0},l="exact",f=function(O){if(O in o)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==s)throw"Only '".concat(n,"' and '").concat(s,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var p=t.facingMode;if(typeof p=="string"){if(f(p))return{facingMode:p}}else if(typeof p=="object")if(l in p){if(f(p["".concat(l)]))return{facingMode:{exact:p["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var w=typeof p;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(l in C)return{deviceId:{exact:C["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var A=typeof C;throw"Invalid type of 'deviceId' = ".concat(A)}}}var R=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(R)},e.prototype.computeCanvasDrawConfig=function(t,n,s,o){if(t<=s&&n<=o){var l=(s-t)/2,f=(o-n)/2;return{x:l,y:f,width:t,height:n}}else{var g=t,m=n;return t>s&&(n=s/t*n,t=s),n>o&&(t=o/n*t,n=o),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,s,o)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Sn.BORDER_SHADER_MATCH_COLOR:Sn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,s){var o=t,l=n,f=document.createElement("canvas");return f.style.width="".concat(o,"px"),f.style.height="".concat(l,"px"),f.style.display="none",f.id=Ar(s)?"qr-canvas":s,f},e.prototype.getShadedRegionBounds=function(t,n,s){if(s.width>t||s.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-s.width)/2,y:(n-s.height)/2,width:s.width,height:s.height}},e.prototype.possiblyInsertShadingElement=function(t,n,s,o){if(!(n-o.width<1||s-o.height<1)){var l=document.createElement("div");l.style.position="absolute";var f=(n-o.width)/2,g=(s-o.height)/2;if(l.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Sn.SHADED_REGION_ELEMENT_ID),n-o.width<11||s-o.height<11)this.hasBorderShaders=!1;else{var m=5,p=40;this.insertShaderBorders(l,p,m,-m,null,0,!0),this.insertShaderBorders(l,p,m,-m,null,0,!1),this.insertShaderBorders(l,p,m,null,-m,0,!0),this.insertShaderBorders(l,p,m,null,-m,0,!1),this.insertShaderBorders(l,m,p+m,-m,null,-m,!0),this.insertShaderBorders(l,m,p+m,null,-m,-m,!0),this.insertShaderBorders(l,m,p+m,-m,null,-m,!1),this.insertShaderBorders(l,m,p+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,s,o,l,f,g){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Sn.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(s,"px"),o!==null&&(m.style.top="".concat(o,"px")),l!==null&&(m.style.bottom="".concat(l,"px")),g?m.style.left="".concat(f,"px"):m.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),G0="data:image/svg+xml;base64,",TN=G0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",NN=G0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Cm=G0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",IN="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Em=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),_N=function(){function e(){this.data=Em.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Em.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),RN=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=hm.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var s=document.createElement("br"),o=document.createElement("br");this.infoDiv.appendChild(s),this.infoDiv.appendChild(o);var l=document.createElement("a");l.innerText=hm.reportIssues(),l.href="https://github.com/mebjas/html5-qrcode/issues",l.target="new",l.style.color="white",this.infoDiv.appendChild(l),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),ON=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Cm,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(s){return n.onHoverIn()},this.infoIcon.onmouseout=function(s){return n.onHoverOut()},this.infoIcon.onclick=function(s){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=IN,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Cm,this.infoIcon.style.opacity="0.6")},e}(),MN=function(){function e(){var t=this;this.infoDiv=new RN,this.infoIcon=new ON(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),DN=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(s.next(w))}catch(C){f(C)}}function m(w){try{p(s.throw(w))}catch(C){f(C)}}function p(w){w.done?l(w.value):o(w.value).then(g,m)}p((s=s.apply(e,t||[])).next())})},kN=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return m([p,w])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Am=function(){function e(){}return e.hasPermissions=function(){return DN(this,void 0,void 0,function(){var t,n,s,o;return kN(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=l.sent(),n=0,s=t;n<s.length;n++)if(o=s[n],o.kind==="videoinput"&&o.label)return[2,!0];return[2,!1]}})})},e}(),as=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var s=n[t];if(e.isCameraScanType(s))return!0}return!1},e.isCameraScanType=function(t){return t===Ls.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Ls.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return rr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=rr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var s=0,o=t;s<o.length;s++){var l=o[s];if(!rr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(l))throw"Unsupported scan type ".concat(l)}return t},e}(),Nn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),zr=function(){function e(){}return e.createElement=function(t,n){var s=document.createElement(t);return s.id=n,s.classList.add(Nn.ALL_ELEMENT_CLASS),t==="button"&&s.setAttribute("type","button"),s},e}(),Jw=globalThis&&globalThis.__awaiter||function(e,t,n,s){function o(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(w){try{p(s.next(w))}catch(C){f(C)}}function m(w){try{p(s.throw(w))}catch(C){f(C)}}function p(w){w.done?l(w.value):o(w.value).then(g,m)}p((s=s.apply(e,t||[])).next())})},ev=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(w){return m([p,w])}}function m(p){if(s)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(w){p=[6,w],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Sm=function(){function e(t,n,s){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=s}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Jw(this,void 0,void 0,function(){var t,n;return ev(this,function(s){switch(s.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return s.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=s.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?He.torchOffButton():He.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var s=t?He.torchOnFailedMessage():He.torchOffFailedMessage();n&&(s+="; Error = "+n),this.onTorchActionFailureCallback(s)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),LN=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=zr.createElement("button",Nn.TORCH_BUTTON_ID),this.torchController=new Sm(t,this,n)}return e.prototype.render=function(t,n){var s=this;this.torchButton.innerText=He.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var o=this;this.torchButton.addEventListener("click",function(l){return Jw(s,void 0,void 0,function(){return ev(this,function(f){switch(f.label){case 0:return[4,o.torchController.flipState()];case 1:return f.sent(),o.torchController.isTorchEnabled()?(o.torchButton.classList.remove(Nn.TORCH_BUTTON_CLASS_TORCH_OFF),o.torchButton.classList.add(Nn.TORCH_BUTTON_CLASS_TORCH_ON)):(o.torchButton.classList.remove(Nn.TORCH_BUTTON_CLASS_TORCH_ON),o.torchButton.classList.add(Nn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Sm(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=He.torchOnButton(),this.torchController.reset()},e.create=function(t,n,s,o){var l=new e(n,o);return l.render(t,s),l},e}(),PN=function(){function e(t,n,s){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var o=document.createElement("label");o.setAttribute("for",this.getFileScanInputId()),o.style.display="inline-block",this.fileBasedScanRegion.appendChild(o),this.fileSelectionButton=zr.createElement("button",Nn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){o.click()}),o.append(this.fileSelectionButton),this.fileScanInput=zr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",o.appendChild(this.fileScanInput);var l=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var m=g.target;if(!(m.files&&m.files.length===0)){var p=m.files,w=p[0],C=w.name;l.setImageNameToButton(C),s(w)}}});var f=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(f),this.fileBasedScanRegion.addEventListener("dragenter",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){l.fileBasedScanRegion.style.border=l.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),l.fileBasedScanRegion.style.border=l.fileBasedScanRegionDefaultBorder();var m=g.dataTransfer;if(m){var p=m.files;if(!p||p.length===0)return;for(var w=!1,C=0;C<p.length;++C){var A=p.item(C);if(A){var R=/image.*/;if(A.type.match(R)){w=!0;var O=A.name;l.setImageNameToButton(O),s(A),f.innerText=He.dragAndDropMessage();break}}}w||(f.innerText=He.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=He.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var s=t.substring(0,8),o=t.length,l=t.substring(o-8,o);t="".concat(s,"....").concat(l)}var f=He.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=f},e.prototype.setInitialValueToButton=function(){var t=He.fileSelectionChooseImage()+" - "+He.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,s){var o=new e(t,n,s);return o},e}(),BN=function(){function e(t){this.selectElement=zr.createElement("select",Nn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var s=this.cameras.length;if(s===0)throw new Error("No cameras found");if(s===1)n.style.display="none";else{var o=He.selectCamera();n.innerText="".concat(o," (").concat(this.cameras.length,")  ")}for(var l=1,f=0,g=this.cameras;f<g.length;f++){var m=g[f],p=m.id,w=m.label==null?p:m.label;(!w||w==="")&&(w=[He.anonymousCameraPrefix(),l++].join(" "));var C=document.createElement("option");C.value=p,C.innerText=w,this.options.push(C),this.selectElement.appendChild(C)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,s=this.options;n<s.length;n++){var o=s[n];if(o.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var s=new e(n);return s.render(t),s},e}(),jN=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=zr.createElement("input",Nn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var s=He.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(s),this.rangeText.style.marginRight="10px";var o=this;this.rangeInput.addEventListener("input",function(){return o.onValueChange()}),this.rangeInput.addEventListener("change",function(){return o.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=He.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,s,o){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=o.toString(),this.rangeInput.value=s.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var s=new e;return s.render(t,n),s},e}(),bn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(bn||(bn={}));function FN(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function UN(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var VN=function(){function e(t,n,s){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=s===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new as(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Zw(this.verbose),this.persistedDataManager=new _N,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var s=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(l,f){if(t)t(l,f);else{if(s.lastMatchFound===l)return;s.lastMatchFound=l,s.setHeaderMessage(He.lastMatch(l),bn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(l,f){n&&n(l,f)};var o=document.getElementById(this.elementId);if(!o)throw"HTML Element with id=".concat(this.elementId," not found");o.innerHTML="",this.createBasicLayout(o),this.html5Qrcode=new vm(this.getScanRegionId(),UN(this.config,this.verbose))},e.prototype.pause=function(t){(Ar(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var s=document.getElementById(t.elementId);s&&(s.innerHTML="",t.resetBasicLayout(s))};return this.html5Qrcode?new Promise(function(s,o){if(!t.html5Qrcode){s();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(l){if(!t.html5Qrcode){s();return}t.html5Qrcode.clear(),n(),s()}).catch(function(l){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",l),o(l)}):(t.html5Qrcode.clear(),n(),s())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=rr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!rr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=rr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=rr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:rr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:rr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:rr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),s=this.getScanRegionId();n.id=s,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),as.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var o=document.createElement("div"),l=this.getDashboardId();o.id=l,o.style.width="100%",t.appendChild(o),this.setupInitialDashboard(o)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var s=new MN;s.renderInto(n);var o=document.createElement("div");o.id=this.getHeaderMessageContainerId(),o.style.display="none",o.style.textAlign="center",o.style.fontSize="14px",o.style.padding="2px 10px",o.style.margin="4px",o.style.borderTop="1px solid #f6f6f6",n.appendChild(o)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,s){var o=this;o.showHideScanTypeSwapLink(!1),o.setHeaderMessage(He.cameraPermissionRequesting());var l=function(){s||o.createPermissionButton(t,n)};vm.getCameras().then(function(f){o.persistedDataManager.setHasPermission(!0),o.showHideScanTypeSwapLink(!0),o.resetHeaderMessage(),f&&f.length>0?(t.removeChild(n),o.renderCameraSelection(f)):(o.setHeaderMessage(He.noCameraFound(),bn.STATUS_WARNING),l())}).catch(function(f){o.persistedDataManager.setHasPermission(!1),s?s.disabled=!1:l(),o.setHeaderMessage(f,bn.STATUS_WARNING),o.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var s=this,o=zr.createElement("button",this.getCameraPermissionButtonId());o.innerText=He.cameraPermissionTitle(),o.addEventListener("click",function(){o.disabled=!0,s.createCameraListUi(t,n,o)}),n.appendChild(o)},e.prototype.createPermissionsUi=function(t,n){var s=this;if(as.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Am.hasPermissions().then(function(o){o?s.createCameraListUi(t,n):(s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,n))}).catch(function(o){s.persistedDataManager.setHasPermission(!1),s.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var s=document.createElement("div");s.id=this.getDashboardSectionCameraScanRegionId(),s.style.display=as.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(s);var o=document.createElement("div");o.style.textAlign="center",s.appendChild(o),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(s,o),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=as.isFileScanType(this.currentScanType),s=this,o=function(l){if(!s.html5Qrcode)throw"html5Qrcode not defined";as.isFileScanType(s.currentScanType)&&(s.setHeaderMessage(He.loadingImage()),s.html5Qrcode.scanFileV2(l,!0).then(function(f){s.resetHeaderMessage(),s.qrCodeSuccessCallback(f.decodedText,f)}).catch(function(f){s.setHeaderMessage(f,bn.STATUS_WARNING),s.qrCodeErrorCallback(f,Kw.createFrom(f))}))};this.fileSelectionUi=PN.create(t,n,o)},e.prototype.renderCameraSelection=function(t){var n=this,s=this,o=document.getElementById(this.getDashboardSectionCameraScanRegionId());o.style.textAlign="center";var l=jN.create(o,!1),f=function(M){var k=M.zoomFeature();if(k.isSupported()){l.setOnCameraZoomValueChangeCallback(function(N){k.apply(N)});var _=1;n.config.defaultZoomValueIfSupported&&(_=n.config.defaultZoomValueIfSupported),_=iN(_,k.min(),k.max()),l.setValues(k.min(),k.max(),_,k.step()),l.show()}},g=BN.create(o,t),m=document.createElement("span"),p=zr.createElement("button",Nn.CAMERA_START_BUTTON_ID);p.innerText=He.scanButtonStartScanningText(),m.appendChild(p);var w=zr.createElement("button",Nn.CAMERA_STOP_BUTTON_ID);w.innerText=He.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,m.appendChild(w);var C,A=function(M){if(!M.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(M.torchFeature()):C=LN.create(m,M.torchFeature(),{display:"none",marginLeft:"5px"},function(k){s.setHeaderMessage(k,bn.STATUS_WARNING)}),C.show()};o.appendChild(m);var R=function(M){M||(p.style.display="none"),p.innerText=He.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,M&&(p.style.display="inline-block")};if(p.addEventListener("click",function(M){p.innerText=He.scanButtonScanningStarting(),g.disable(),p.disabled=!0,p.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!1),s.resetHeaderMessage();var k=g.getValue();s.persistedDataManager.setLastUsedCameraId(k),s.html5Qrcode.start(k,FN(s.config),s.qrCodeSuccessCallback,s.qrCodeErrorCallback).then(function(_){w.disabled=!1,w.style.display="inline-block",R(!1);var N=s.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&A(N),n.config.showZoomSliderIfSupported===!0&&f(N)}).catch(function(_){s.showHideScanTypeSwapLink(!0),g.enable(),R(!0),s.setHeaderMessage(_,bn.STATUS_WARNING)})}),g.hasSingleItem()&&p.click(),w.addEventListener("click",function(M){if(!s.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,s.html5Qrcode.stop().then(function(k){n.scanTypeSelector.hasMoreThanOneScanType()&&s.showHideScanTypeSwapLink(!0),g.enable(),p.disabled=!1,w.style.display="none",p.style.display="inline-block",C&&(C.reset(),C.hide()),l.removeOnCameraZoomValueChangeCallback(),l.hide(),s.insertCameraScanImageToScanRegion()}).catch(function(k){w.disabled=!1,s.setHeaderMessage(k,bn.STATUS_WARNING)})}),s.persistedDataManager.getLastUsedCameraId()){var O=s.persistedDataManager.getLastUsedCameraId();g.hasValue(O)?(g.setValue(O),p.click()):s.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=He.textIfCameraScanSelected(),s=He.textIfFileScanSelected(),o=document.getElementById(this.getDashboardSectionId()),l=document.createElement("div");l.style.textAlign="center";var f=zr.createElement("span",this.getDashboardSectionSwapLinkId());f.style.textDecoration="underline",f.style.cursor="pointer",f.innerText=as.isCameraScanType(this.currentScanType)?n:s,f.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,as.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),f.innerText=s,t.currentScanType=Ls.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),f.innerText=n,t.currentScanType=Ls.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),l.appendChild(f),o.appendChild(l)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Am.hasPermissions().then(function(s){if(s){var o=document.getElementById(n.getCameraPermissionButtonId());if(!o)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";o.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(s){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=bn.STATUS_DEFAULT);var s=this.getHeaderMessageDiv();switch(s.innerText=t,s.style.display="block",n){case bn.STATUS_SUCCESS:s.style.background="rgba(106, 175, 80, 0.26)",s.style.color="#477735";break;case bn.STATUS_WARNING:s.style.background="rgba(203, 36, 49, 0.14)",s.style.color="#cb2431";break;case bn.STATUS_DEFAULT:default:s.style.background="rgba(0, 0, 0, 0)",s.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(s){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=TN,this.cameraScanImage.alt=He.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(s){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=NN,this.fileScanImage.alt=He.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Nn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Nn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const zN=({onScanSuccess:e,onScanError:t,onClose:n})=>{const s=P.useRef(null);return P.useState(null),P.useEffect(()=>{const o=new VN("reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1,showTorchButtonIfSupported:!0},!1);return o.render(l=>{o.clear(),e(l)},l=>{}),s.current=o,()=>{s.current&&s.current.clear().catch(l=>{console.error("Failed to clear html5-qrcode scanner. ",l)})}},[]),v.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:v.jsxs("div",{className:"glass-panel w-full max-w-md rounded-2xl overflow-hidden shadow-2xl border border-white/40 bg-white/70 backdrop-blur-md relative",children:[v.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-slate-200/60 bg-gradient-to-r from-sky-500 to-emerald-500 text-white",children:[v.jsx("h3",{className:"font-semibold text-lg",children:"Scan Class QR Code"}),v.jsx("button",{onClick:n,className:"hover:text-white/80 transition-colors",children:v.jsx(Eo,{})})]}),v.jsxs("div",{className:"p-6 bg-white/50",children:[v.jsx("div",{id:"reader",className:"overflow-hidden rounded-xl border-2 border-sky-500 shadow-[0_0_20px_rgba(14,165,233,0.3)]"}),v.jsx("p",{className:"text-center text-slate-700 text-sm mt-4 font-medium",children:"Align the QR code within the frame to mark attendance."}),v.jsx("p",{className:"text-center text-slate-600 text-xs mt-2",children:"Please allow camera access when prompted to scan QR codes."})]})]})})},HN=({record:e})=>{var n;const t=e.status==="Present";return v.jsxs(qr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-panel p-4 rounded-xl shadow-sm border border-white/40 bg-white/70 backdrop-blur-md flex justify-between items-center hover:shadow-lg transition-all",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:`p-3 rounded-lg ${t?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:v.jsx(La,{size:20})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-slate-900",children:((n=e.course)==null?void 0:n.name)||"Unknown Course"}),v.jsxs("p",{className:"text-sm text-slate-600",children:[new Date(e.createdAt).toLocaleDateString(),"  ",new Date(e.createdAt).toLocaleTimeString()]})]})]}),v.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 ${t?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:[t?v.jsx(Qa,{size:14}):v.jsx(Eo,{size:14}),e.status]})]})},WN=({history:e,loading:t})=>t?v.jsx("div",{className:"text-slate-500 text-center py-4",children:"Loading records..."}):!e||e.length===0?v.jsx("div",{className:"text-center py-10 glass-panel border border-white/40 bg-white/70 backdrop-blur-md rounded-xl",children:v.jsx("p",{className:"text-slate-600",children:"No attendance records found yet."})}):v.jsx("div",{className:"grid gap-4",children:e.map(n=>v.jsx(HN,{record:n},n._id))}),GN=()=>{var k;const{user:e}=P.useContext(Us),t=Xt(),[n,s]=P.useState(!1),[o,l]=P.useState({present:0,total:0,percentage:0}),[f,g]=P.useState([]),[m,p]=P.useState([]),[w,C]=P.useState(!0),[A,R]=P.useState({type:"",message:""});P.useEffect(()=>{O()},[]);const O=async()=>{try{const N=(await _e.get("/student/attendance")).data,T=N.length,B=N.filter(X=>X.status==="Present").length;l({total:T,present:B,percentage:T>0?Math.round(B/T*100):0}),g(N.slice(0,5));const V=await _e.get("/student/courses");p(V.data||[])}catch(_){console.error("Error fetching data",_)}finally{C(!1)}},M=async _=>{var N,T;s(!1);try{const B=await _e.post("/student/mark-attendance",{qrResult:_,location:null});R({type:"success",message:"Attendance Marked Successfully!"}),O(),setTimeout(()=>R({type:"",message:""}),3e3)}catch(B){R({type:"error",message:((T=(N=B.response)==null?void 0:N.data)==null?void 0:T.message)||"Failed to mark attendance"}),setTimeout(()=>R({type:"",message:""}),4e3)}};return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 pb-10",children:[v.jsx(vn,{title:"Student Dashboard"}),A.message&&v.jsxs("div",{className:`fixed bottom-10 right-4 md:right-10 z-50 px-6 py-4 rounded-2xl shadow-2xl flex items-center gap-3 animate-slide-up backdrop-blur-md border border-white/40 ${A.type==="success"?"bg-emerald-500/90 text-white":"bg-red-500/90 text-white"}`,children:[A.type==="success"?v.jsx(Qa,{}):v.jsx(Eo,{}),v.jsx("span",{className:"font-semibold",children:A.message})]}),v.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[v.jsx("div",{className:"mb-8",children:v.jsxs(qr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-sky-500 to-emerald-500 rounded-2xl p-8 text-white shadow-xl relative overflow-hidden",children:[v.jsxs("div",{className:"relative z-10",children:[v.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Hello, ",(k=e==null?void 0:e.name)==null?void 0:k.split(" ")[0],"!"]}),v.jsx("p",{className:"text-sky-100 mb-6 max-w-md",children:"Ready for your next class? Scan the QR code projected by your teacher to mark your attendance instantly."}),v.jsxs("button",{onClick:()=>s(!0),className:"bg-white text-sky-700 px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-sky-50 transition-all shadow-lg hover:shadow-xl hover:scale-105 active:scale-95",children:[v.jsx(cm,{size:20}),"Scan QR Code"]})]}),v.jsx("div",{className:"absolute right-0 bottom-0 opacity-10 transform translate-x-10 translate-y-10",children:v.jsx(cm,{size:250})})]})}),m.length>0&&v.jsxs(v.Fragment,{children:[v.jsxs("h2",{className:"text-xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent mb-4 flex items-center gap-2",children:[v.jsx(ks,{size:20})," My Courses"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:m.map(_=>v.jsxs(qr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},onClick:()=>t(`/student/courses/${_.course._id}/attendance`),className:"bg-white/70 backdrop-blur-md rounded-xl p-5 border border-white/40 hover:shadow-lg transition-all cursor-pointer hover:border-sky-400",children:[v.jsxs("div",{className:"flex justify-between items-start mb-3",children:[v.jsx("div",{className:"bg-sky-50 p-2 rounded-lg",children:v.jsx(ks,{className:"text-sky-600",size:20})}),v.jsx("span",{className:"text-xs font-bold bg-slate-100 text-slate-600 px-2 py-1 rounded",children:_.course.code})]}),v.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-1",children:_.course.name}),v.jsxs("p",{className:"text-xs text-slate-600 mb-4",children:[_.course.department,"  Sem ",_.course.semester]}),v.jsxs("div",{className:"pt-4 border-t border-slate-200",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-slate-600",children:"Attendance"}),v.jsxs("span",{className:`text-2xl font-bold ${_.attendancePercentage>=75?"text-emerald-600":"text-red-600"}`,children:[_.attendancePercentage,"%"]})]}),v.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mt-2",children:v.jsx("div",{className:`h-2 rounded-full ${_.attendancePercentage>=75?"bg-emerald-600":"bg-red-600"}`,style:{width:`${_.attendancePercentage}%`}})}),v.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:[_.presentCount," present / ",_.totalSessions," sessions"]})]})]},_.course._id))})]}),v.jsxs("h2",{className:"text-xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent mb-4 flex items-center gap-2",children:[v.jsx(Ka,{size:20})," Recent Activity"]}),v.jsx(WN,{history:f,loading:w})]}),n&&v.jsx(zN,{onScanSuccess:M,onScanError:_=>console.log(_),onClose:()=>s(!1)})]})},XN=()=>{const{courseId:e}=cu(),t=Xt(),[n,s]=P.useState(null),[o,l]=P.useState([]),[f,g]=P.useState(!0),[m,p]=P.useState(null);P.useEffect(()=>{w()},[e]);const w=async()=>{var M,k;try{g(!0),p(null);const _=await _e.get(`/student/courses/${e}/attendance`);if(!_.data)throw new Error("No data received from server");s(_.data.course),l(_.data.attendance||[])}catch(_){console.error("Error fetching course attendance:",_);const N=((k=(M=_.response)==null?void 0:M.data)==null?void 0:k.message)||_.message||"Failed to load attendance data";p(N)}finally{g(!1)}};if(f)return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50",children:[v.jsx(vn,{title:"Course Attendance"}),v.jsx("div",{className:"container mx-auto px-4 mt-8",children:v.jsx("p",{className:"text-slate-600",children:"Loading..."})})]});if(m||!n)return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50",children:[v.jsx(vn,{title:"Course Attendance"}),v.jsx("div",{className:"container mx-auto px-4 mt-8",children:v.jsx("p",{className:"text-red-600",children:m||"Course not found"})})]});const C=o.filter(M=>M.status==="Present").length,A=o.filter(M=>M.status==="Absent").length,R=o.length,O=R>0?Math.round(C/R*100):0;return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 pb-10",children:[v.jsx(vn,{title:"Course Attendance"}),v.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[v.jsxs("button",{onClick:()=>t("/student/dashboard"),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-6 transition-colors",children:[v.jsx(Co,{size:20})," Back to Dashboard"]}),v.jsx("div",{className:"glass-panel rounded-xl p-6 mb-6 border border-white/40 bg-white/70 backdrop-blur-md",children:v.jsxs("div",{className:"flex items-start justify-between",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx("span",{className:"text-xs font-bold bg-sky-100 text-sky-600 px-3 py-1 rounded",children:n.code}),v.jsxs("span",{className:"text-sm text-slate-600",children:[n.department,"  Sem ",n.semester]})]}),v.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:n.name}),n.teacher&&v.jsxs("p",{className:"text-sm text-slate-600",children:["Teacher: ",n.teacher.name]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("div",{className:"text-4xl font-bold text-sky-600 mb-1",children:[O,"%"]}),v.jsx("p",{className:"text-xs text-slate-600",children:"Attendance"})]})]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[v.jsxs("div",{className:"glass-panel rounded-xl p-4 border border-white/40 bg-white/70 backdrop-blur-md",children:[v.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total Sessions"}),v.jsx("p",{className:"text-2xl font-bold text-slate-900",children:R})]}),v.jsxs("div",{className:"glass-panel rounded-xl p-4 border border-white/40 bg-white/70 backdrop-blur-md",children:[v.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Present"}),v.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:C})]}),v.jsxs("div",{className:"glass-panel rounded-xl p-4 border border-white/40 bg-white/70 backdrop-blur-md",children:[v.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Absent"}),v.jsx("p",{className:"text-2xl font-bold text-red-600",children:A})]})]}),v.jsxs("div",{className:"glass-panel rounded-xl p-6 border border-white/40 bg-white/70 backdrop-blur-md",children:[v.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Attendance History"}),o.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx(La,{className:"mx-auto text-slate-400 mb-4",size:48}),v.jsx("p",{className:"text-slate-600",children:"No attendance records yet"})]}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left border-collapse",children:[v.jsx("thead",{className:"bg-slate-50/60 border-b border-slate-200/60",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Date"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Time"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Status"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-200/60",children:o.map(M=>v.jsxs("tr",{className:"hover:bg-slate-50/40 transition-colors",children:[v.jsx("td",{className:"p-4",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(La,{size:16,className:"text-slate-400"}),v.jsx("span",{className:"text-slate-900",children:new Date(M.date).toLocaleDateString()})]})}),v.jsx("td",{className:"p-4 text-slate-600",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Ka,{size:16,className:"text-slate-400"}),v.jsx("span",{children:new Date(M.time).toLocaleTimeString()})]})}),v.jsx("td",{className:"p-4",children:M.status==="Present"?v.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-semibold bg-emerald-100 text-emerald-700",children:[v.jsx(Qa,{size:14}),"Present"]}):v.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-semibold bg-red-100 text-red-700",children:[v.jsx(Eo,{size:14}),"Absent"]})})]},M.sessionId))})]})})]})]})]})},YN=({course:e})=>{const t=Xt(),[n,s]=P.useState(null),[o,l]=P.useState(!1),[f,g]=P.useState(!1);P.useEffect(()=>{(async()=>{l(!0);try{const w=await _e.get(`/teacher/courses/${e._id}/active-session`);w.data&&s(w.data)}catch(w){console.error("Error checking active session:",w)}finally{l(!1)}})()},[e._id]);const m=async()=>{if(n!=null&&n._id&&window.confirm("Are you sure you want to end this session? This cannot be undone.")){g(!0);try{await _e.put(`/teacher/sessions/${n._id}/cancel`),s(null)}catch(p){console.error("Failed to terminate session:",p)}finally{g(!1)}}};return o?v.jsx("div",{className:"glass-panel p-6 rounded-xl border border-white/40 bg-white/70 backdrop-blur-md hover:shadow-lg transition-all hover:-translate-y-1",children:v.jsx(Vc,{className:"h-8 w-8 animate-spin text-sky-500"})}):v.jsxs("div",{className:"glass-panel p-6 rounded-xl border border-white/40 bg-white/70 backdrop-blur-md hover:shadow-lg transition-all hover:-translate-y-1",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("div",{className:"bg-sky-50 p-3 rounded-lg",children:v.jsx(ks,{className:"text-sky-600",size:24})}),v.jsx("span",{className:"text-xs font-bold bg-slate-100 text-slate-600 px-2 py-1 rounded",children:e.code})]}),v.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-1",children:e.name}),v.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:[e.department,"  Sem ",e.semester]}),n&&v.jsxs("div",{className:"mb-4 p-3 bg-emerald-50 border border-emerald-200 rounded-lg",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),v.jsx("span",{className:"text-sm font-medium text-emerald-700",children:"Active Session"})]}),v.jsxs("button",{onClick:m,disabled:f,className:"text-xs bg-red-100 hover:bg-red-200 text-red-700 px-2 py-1 rounded flex items-center gap-1 disabled:opacity-50",children:[f?v.jsx(Vc,{className:"h-3 w-3 animate-spin"}):v.jsx(H0,{size:14}),"End Session"]})]}),v.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:["Started: ",new Date(n.createdAt).toLocaleTimeString()]})]}),v.jsx("button",{onClick:()=>t(`/teacher/courses/${e._id}`),className:"w-full px-3 py-2 bg-gradient-to-r from-sky-500 to-emerald-500 hover:from-sky-600 hover:to-emerald-600 text-white rounded-xl text-sm font-medium transition-all shadow-lg shadow-sky-500/25",children:"View Reports"})]})},eo=({icon:e,label:t,value:n,color:s,onClick:o})=>v.jsxs(qr.div,{whileHover:{y:-5},onClick:o,className:`glass-panel p-6 rounded-xl border border-white/40 bg-white/70 backdrop-blur-md flex items-center gap-4 ${o?"cursor-pointer hover:shadow-lg":""}`,children:[v.jsx("div",{className:"bg-gradient-to-br from-sky-500 to-emerald-500 p-4 rounded-xl text-white shadow-lg shadow-sky-500/25",children:v.jsx(e,{size:24})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-slate-600 text-sm font-medium",children:t}),v.jsx("h4",{className:"text-2xl font-bold text-slate-900",children:n})]})]}),QN=()=>{P.useContext(Us);const e=Xt(),[t,n]=P.useState([]),[s,o]=P.useState(0),[l,f]=P.useState(0);return P.useEffect(()=>{(async()=>{try{const p=(await _e.get("/teacher/courses")).data||[];if(n(p),!p.length){o(0),f(0);return}const[w,C]=await Promise.all([Promise.all(p.map(O=>_e.get(`/teacher/courses/${O._id}/students`).then(M=>M.data||[]).catch(M=>(console.error("Error fetching students for course",O._id,M),[])))),Promise.all(p.map(O=>_e.get(`/teacher/courses/${O._id}/sessions`).then(M=>M.data||[]).catch(M=>(console.error("Error fetching sessions for course",O._id,M),[]))))]),A=w.reduce((O,M)=>O+M.length,0),R=C.reduce((O,M)=>O+M.length,0);o(A),f(R)}catch(m){console.error("Error loading teacher dashboard data",m)}})()},[]),v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 pb-10",children:[v.jsx(vn,{title:"Teacher Portal"}),v.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent",children:"Dashboard"}),v.jsx("p",{className:"text-slate-600",children:"Manage your classes and attendance"})]}),v.jsxs("button",{onClick:()=>e("/teacher/generate-qr"),className:"bg-gradient-to-r from-sky-500 to-emerald-500 hover:from-sky-600 hover:to-emerald-600 text-white px-6 py-3 rounded-xl font-semibold shadow-lg shadow-sky-500/30 flex items-center gap-2 transition-all hover:scale-105",children:[v.jsx(q6,{size:20}),"Launch New Session"]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[v.jsx(eo,{icon:ks,label:"Total Courses",value:t.length,color:"bg-sky-500"}),v.jsx(eo,{icon:zc,label:"Total Students",value:s,color:"bg-emerald-500"}),v.jsx(eo,{icon:La,label:"Total Sessions",value:l,color:"bg-lime-500"})]}),v.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent mb-4",children:"Your Courses"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.map(g=>v.jsx(YN,{course:g},g._id)),t.length===0&&v.jsx("div",{className:"col-span-full text-center py-10 glass-panel border border-white/40 bg-white/70 backdrop-blur-md rounded-xl",children:v.jsx("p",{className:"text-slate-600",children:"No courses assigned yet. Contact Admin."})})]})]})]})},Or=Object.create(null);Or.open="0";Or.close="1";Or.ping="2";Or.pong="3";Or.message="4";Or.upgrade="5";Or.noop="6";const ec=Object.create(null);Object.keys(Or).forEach(e=>{ec[Or[e]]=e});const lh={type:"error",data:"parser error"},tv=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",nv=typeof ArrayBuffer=="function",rv=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,X0=({type:e,data:t},n,s)=>tv&&t instanceof Blob?n?s(t):bm(t,s):nv&&(t instanceof ArrayBuffer||rv(t))?n?s(t):bm(new Blob([t]),s):s(Or[e]+(t||"")),bm=(e,t)=>{const n=new FileReader;return n.onload=function(){const s=n.result.split(",")[1];t("b"+(s||""))},n.readAsDataURL(e)};function Tm(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ud;function KN(e,t){if(tv&&e.data instanceof Blob)return e.data.arrayBuffer().then(Tm).then(t);if(nv&&(e.data instanceof ArrayBuffer||rv(e.data)))return t(Tm(e.data));X0(e,!1,n=>{Ud||(Ud=new TextEncoder),t(Ud.encode(n))})}const Nm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Jo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Nm.length;e++)Jo[Nm.charCodeAt(e)]=e;const ZN=e=>{let t=e.length*.75,n=e.length,s,o=0,l,f,g,m;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const p=new ArrayBuffer(t),w=new Uint8Array(p);for(s=0;s<n;s+=4)l=Jo[e.charCodeAt(s)],f=Jo[e.charCodeAt(s+1)],g=Jo[e.charCodeAt(s+2)],m=Jo[e.charCodeAt(s+3)],w[o++]=l<<2|f>>4,w[o++]=(f&15)<<4|g>>2,w[o++]=(g&3)<<6|m&63;return p},qN=typeof ArrayBuffer=="function",Y0=(e,t)=>{if(typeof e!="string")return{type:"message",data:sv(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:$N(e.substring(1),t)}:ec[n]?e.length>1?{type:ec[n],data:e.substring(1)}:{type:ec[n]}:lh},$N=(e,t)=>{if(qN){const n=ZN(e);return sv(n,t)}else return{base64:!0,data:e}},sv=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},iv=String.fromCharCode(30),JN=(e,t)=>{const n=e.length,s=new Array(n);let o=0;e.forEach((l,f)=>{X0(l,!1,g=>{s[f]=g,++o===n&&t(s.join(iv))})})},eI=(e,t)=>{const n=e.split(iv),s=[];for(let o=0;o<n.length;o++){const l=Y0(n[o],t);if(s.push(l),l.type==="error")break}return s};function tI(){return new TransformStream({transform(e,t){KN(e,n=>{const s=n.length;let o;if(s<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,s);else if(s<65536){o=new Uint8Array(3);const l=new DataView(o.buffer);l.setUint8(0,126),l.setUint16(1,s)}else{o=new Uint8Array(9);const l=new DataView(o.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(s))}e.data&&typeof e.data!="string"&&(o[0]|=128),t.enqueue(o),t.enqueue(n)})}})}let Vd;function Ml(e){return e.reduce((t,n)=>t+n.length,0)}function Dl(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let s=0;for(let o=0;o<t;o++)n[o]=e[0][s++],s===e[0].length&&(e.shift(),s=0);return e.length&&s<e[0].length&&(e[0]=e[0].slice(s)),n}function nI(e,t){Vd||(Vd=new TextDecoder);const n=[];let s=0,o=-1,l=!1;return new TransformStream({transform(f,g){for(n.push(f);;){if(s===0){if(Ml(n)<1)break;const m=Dl(n,1);l=(m[0]&128)===128,o=m[0]&127,o<126?s=3:o===126?s=1:s=2}else if(s===1){if(Ml(n)<2)break;const m=Dl(n,2);o=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),s=3}else if(s===2){if(Ml(n)<8)break;const m=Dl(n,8),p=new DataView(m.buffer,m.byteOffset,m.length),w=p.getUint32(0);if(w>Math.pow(2,53-32)-1){g.enqueue(lh);break}o=w*Math.pow(2,32)+p.getUint32(4),s=3}else{if(Ml(n)<o)break;const m=Dl(n,o);g.enqueue(Y0(l?m:Vd.decode(m),t)),s=0}if(o===0||o>e){g.enqueue(lh);break}}}})}const ov=4;function St(e){if(e)return rI(e)}function rI(e){for(var t in St.prototype)e[t]=St.prototype[t];return e}St.prototype.on=St.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};St.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};St.prototype.off=St.prototype.removeListener=St.prototype.removeAllListeners=St.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var s,o=0;o<n.length;o++)if(s=n[o],s===t||s.fn===t){n.splice(o,1);break}return n.length===0&&delete this._callbacks["$"+e],this};St.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],s=1;s<arguments.length;s++)t[s-1]=arguments[s];if(n){n=n.slice(0);for(var s=0,o=n.length;s<o;++s)n[s].apply(this,t)}return this};St.prototype.emitReserved=St.prototype.emit;St.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};St.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Su=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0))(),Gn=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),sI="arraybuffer";function av(e,...t){return t.reduce((n,s)=>(e.hasOwnProperty(s)&&(n[s]=e[s]),n),{})}const iI=Gn.setTimeout,oI=Gn.clearTimeout;function bu(e,t){t.useNativeTimers?(e.setTimeoutFn=iI.bind(Gn),e.clearTimeoutFn=oI.bind(Gn)):(e.setTimeoutFn=Gn.setTimeout.bind(Gn),e.clearTimeoutFn=Gn.clearTimeout.bind(Gn))}const aI=1.33;function lI(e){return typeof e=="string"?cI(e):Math.ceil((e.byteLength||e.size)*aI)}function cI(e){let t=0,n=0;for(let s=0,o=e.length;s<o;s++)t=e.charCodeAt(s),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(s++,n+=4);return n}function lv(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function uI(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function dI(e){let t={},n=e.split("&");for(let s=0,o=n.length;s<o;s++){let l=n[s].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class fI extends Error{constructor(t,n,s){super(t),this.description=n,this.context=s,this.type="TransportError"}}class Q0 extends St{constructor(t){super(),this.writable=!1,bu(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,s){return super.emitReserved("error",new fI(t,n,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Y0(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=uI(t);return n.length?"?"+n:""}}class hI extends Q0{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||n()})),this.writable||(s++,this.once("drain",function(){--s||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};eI(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,JN(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=lv()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let cv=!1;try{cv=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const pI=cv;function gI(){}class mI extends hI{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||s!==t.port}}doWrite(t,n){const s=this.request({method:"POST",data:t});s.on("success",n),s.on("error",(o,l)=>{this.onError("xhr post error",o,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,s)=>{this.onError("xhr poll error",n,s)}),this.pollXhr=t}}class Rr extends St{constructor(t,n,s){super(),this.createRequest=t,bu(this,s),this._opts=s,this._method=s.method||"GET",this._uri=n,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var t;const n=av(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(n);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&s.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var o;s.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=Rr.requestsCount++,Rr.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=gI,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Rr.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Rr.requestsCount=0;Rr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Im);else if(typeof addEventListener=="function"){const e="onpagehide"in Gn?"pagehide":"unload";addEventListener(e,Im,!1)}}function Im(){for(let e in Rr.requests)Rr.requests.hasOwnProperty(e)&&Rr.requests[e].abort()}const xI=function(){const e=uv({xdomain:!1});return e&&e.responseType!==null}();class yI extends mI{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=xI&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Rr(uv,this.uri(),t)}}function uv(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||pI))return new XMLHttpRequest}catch{}if(!t)try{return new Gn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const dv=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class wI extends Q0{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,s=dv?{}:av(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,s)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],o=n===t.length-1;X0(s,this.supportsBinary,l=>{try{this.doWrite(s,l)}catch{}o&&Su(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=lv()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const zd=Gn.WebSocket||Gn.MozWebSocket;class vI extends wI{createSocket(t,n,s){return dv?new zd(t,n,s):n?new zd(t,n):new zd(t)}doWrite(t,n){this.ws.send(n)}}class CI extends Q0{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=nI(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=t.readable.pipeThrough(n).getReader(),o=tI();o.readable.pipeTo(t.writable),this._writer=o.writable.getWriter();const l=()=>{s.read().then(({done:g,value:m})=>{g||(this.onPacket(m),l())}).catch(g=>{})};l();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const s=t[n],o=n===t.length-1;this._writer.write(s).then(()=>{o&&Su(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const EI={websocket:vI,webtransport:CI,polling:yI},AI=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,SI=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ch(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),s=e.indexOf("]");n!=-1&&s!=-1&&(e=e.substring(0,n)+e.substring(n,s).replace(/:/g,";")+e.substring(s,e.length));let o=AI.exec(e||""),l={},f=14;for(;f--;)l[SI[f]]=o[f]||"";return n!=-1&&s!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=bI(l,l.path),l.queryKey=TI(l,l.query),l}function bI(e,t){const n=/\/{2,9}/g,s=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&s.splice(0,1),t.slice(-1)=="/"&&s.splice(s.length-1,1),s}function TI(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,o,l){o&&(n[o]=l)}),n}const uh=typeof addEventListener=="function"&&typeof removeEventListener=="function",tc=[];uh&&addEventListener("offline",()=>{tc.forEach(e=>e())},!1);class _s extends St{constructor(t,n){if(super(),this.binaryType=sI,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const s=ch(t);n.hostname=s.host,n.secure=s.protocol==="https"||s.protocol==="wss",n.port=s.port,s.query&&(n.query=s.query)}else n.host&&(n.hostname=ch(n.host).host);bu(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(s=>{const o=s.prototype.name;this.transports.push(o),this._transportsByName[o]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=dI(this.opts.query)),uh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},tc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=ov,n.transport=t,this.id&&(n.sid=this.id);const s=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&_s.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",_s.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let s=0;s<this.writeBuffer.length;s++){const o=this.writeBuffer[s].data;if(o&&(n+=lI(o)),s>0&&n>this._maxPayload)return this.writeBuffer.slice(0,s);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Su(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,s){return this._sendPacket("message",t,n,s),this}send(t,n,s){return this._sendPacket("message",t,n,s),this}_sendPacket(t,n,s,o){if(typeof n=="function"&&(o=n,n=void 0),typeof s=="function"&&(o=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const l={type:t,data:n,options:s};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},s=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}_onError(t){if(_s.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),uh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=tc.indexOf(this._offlineEventListener);s!==-1&&tc.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}_s.protocol=ov;class NI extends _s{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),s=!1;_s.priorWebsocketSuccess=!1;const o=()=>{s||(n.send([{type:"ping",data:"probe"}]),n.once("packet",C=>{if(!s)if(C.type==="pong"&&C.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;_s.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(w(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const A=new Error("probe error");A.transport=n.name,this.emitReserved("upgradeError",A)}}))};function l(){s||(s=!0,w(),n.close(),n=null)}const f=C=>{const A=new Error("probe error: "+C);A.transport=n.name,l(),this.emitReserved("upgradeError",A)};function g(){f("transport closed")}function m(){f("socket closed")}function p(C){n&&C.name!==n.name&&l()}const w=()=>{n.removeListener("open",o),n.removeListener("error",f),n.removeListener("close",g),this.off("close",m),this.off("upgrading",p)};n.once("open",o),n.once("error",f),n.once("close",g),this.once("close",m),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{s||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let s=0;s<t.length;s++)~this.transports.indexOf(t[s])&&n.push(t[s]);return n}}let II=class extends NI{constructor(t,n={}){const s=typeof t=="object"?t:n;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(o=>EI[o]).filter(o=>!!o)),super(t,s)}};function _I(e,t="",n){let s=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),s=ch(e)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const l=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+l+":"+s.port+t,s.href=s.protocol+"://"+l+(n&&n.port===s.port?"":":"+s.port),s}const RI=typeof ArrayBuffer=="function",OI=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,fv=Object.prototype.toString,MI=typeof Blob=="function"||typeof Blob<"u"&&fv.call(Blob)==="[object BlobConstructor]",DI=typeof File=="function"||typeof File<"u"&&fv.call(File)==="[object FileConstructor]";function K0(e){return RI&&(e instanceof ArrayBuffer||OI(e))||MI&&e instanceof Blob||DI&&e instanceof File}function nc(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,s=e.length;n<s;n++)if(nc(e[n]))return!0;return!1}if(K0(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return nc(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&nc(e[n]))return!0;return!1}function kI(e){const t=[],n=e.data,s=e;return s.data=dh(n,t),s.attachments=t.length,{packet:s,buffers:t}}function dh(e,t){if(!e)return e;if(K0(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let s=0;s<e.length;s++)n[s]=dh(e[s],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=dh(e[s],t));return n}return e}function LI(e,t){return e.data=fh(e.data,t),delete e.attachments,e}function fh(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=fh(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=fh(e[n],t));return e}const PI=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],BI=5;var De;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(De||(De={}));class jI{constructor(t){this.replacer=t}encode(t){return(t.type===De.EVENT||t.type===De.ACK)&&nc(t)?this.encodeAsBinary({type:t.type===De.EVENT?De.BINARY_EVENT:De.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===De.BINARY_EVENT||t.type===De.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=kI(t),s=this.encodeAsString(n.packet),o=n.buffers;return o.unshift(s),o}}function _m(e){return Object.prototype.toString.call(e)==="[object Object]"}class Z0 extends St{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const s=n.type===De.BINARY_EVENT;s||n.type===De.BINARY_ACK?(n.type=s?De.EVENT:De.ACK,this.reconstructor=new FI(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(K0(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const s={type:Number(t.charAt(0))};if(De[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===De.BINARY_EVENT||s.type===De.BINARY_ACK){const l=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const f=t.substring(l,n);if(f!=Number(f)||t.charAt(n)!=="-")throw new Error("Illegal attachments");s.attachments=Number(f)}if(t.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););s.nsp=t.substring(l,n)}else s.nsp="/";const o=t.charAt(n+1);if(o!==""&&Number(o)==o){const l=n+1;for(;++n;){const f=t.charAt(n);if(f==null||Number(f)!=f){--n;break}if(n===t.length)break}s.id=Number(t.substring(l,n+1))}if(t.charAt(++n)){const l=this.tryParse(t.substr(n));if(Z0.isPayloadValid(s.type,l))s.data=l;else throw new Error("invalid payload")}return s}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case De.CONNECT:return _m(n);case De.DISCONNECT:return n===void 0;case De.CONNECT_ERROR:return typeof n=="string"||_m(n);case De.EVENT:case De.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&PI.indexOf(n[0])===-1);case De.ACK:case De.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class FI{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=LI(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const UI=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Z0,Encoder:jI,get PacketType(){return De},protocol:BI},Symbol.toStringTag,{value:"Module"}));function sr(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const VI=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class hv extends St{constructor(t,n,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[sr(t,"open",this.onopen.bind(this)),sr(t,"packet",this.onpacket.bind(this)),sr(t,"error",this.onerror.bind(this)),sr(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var s,o,l;if(VI.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const f={type:De.EVENT,data:n};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const w=this.ids++,C=n.pop();this._registerAckCallback(w,C),f.id=w}const g=(o=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||o===void 0?void 0:o.writable,m=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!g||(m?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(t,n){var s;const o=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(o===void 0){this.acks[t]=n;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let g=0;g<this.sendBuffer.length;g++)this.sendBuffer[g].id===t&&this.sendBuffer.splice(g,1);n.call(this,new Error("operation has timed out"))},o),f=(...g)=>{this.io.clearTimeoutFn(l),n.apply(this,g)};f.withError=!0,this.acks[t]=f}emitWithAck(t,...n){return new Promise((s,o)=>{const l=(f,g)=>f?o(f):s(g);l.withError=!0,n.push(l),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((o,...l)=>s!==this._queue[0]?void 0:(o!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(o)):(this._queue.shift(),n&&n(null,...l)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:De.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(s=>String(s.id)===t)){const s=this.acks[t];delete this.acks[t],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case De.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case De.EVENT:case De.BINARY_EVENT:this.onevent(t);break;case De.ACK:case De.BINARY_ACK:this.onack(t);break;case De.DISCONNECT:this.ondisconnect();break;case De.CONNECT_ERROR:this.destroy();const s=new Error(t.data.message);s.data=t.data.data,this.emitReserved("connect_error",s);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const s of n)s.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let s=!1;return function(...o){s||(s=!0,n.packet({type:De.ACK,id:t,data:o}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:De.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let s=0;s<n.length;s++)if(t===n[s])return n.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const s of n)s.apply(this,t.data)}}}function Ao(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Ao.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Ao.prototype.reset=function(){this.attempts=0};Ao.prototype.setMin=function(e){this.ms=e};Ao.prototype.setMax=function(e){this.max=e};Ao.prototype.setJitter=function(e){this.jitter=e};class hh extends St{constructor(t,n){var s;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,bu(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((s=n.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ao({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||UI;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new II(this.uri,this.opts);const n=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const o=sr(n,"open",function(){s.onopen(),t&&t()}),l=g=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",g),t?t(g):this.maybeReconnectOnOpen()},f=sr(n,"error",l);if(this._timeout!==!1){const g=this._timeout,m=this.setTimeoutFn(()=>{o(),l(new Error("timeout")),n.close()},g);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(o),this.subs.push(f),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(sr(t,"ping",this.onping.bind(this)),sr(t,"data",this.ondata.bind(this)),sr(t,"error",this.onerror.bind(this)),sr(t,"close",this.onclose.bind(this)),sr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Su(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let s=this.nsps[t];return s?this._autoConnect&&!s.active&&s.connect():(s=new hv(this,t,n),this.nsps[t]=s),s}_destroy(t){const n=Object.keys(this.nsps);for(const s of n)if(this.nsps[s].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let s=0;s<n.length;s++)this.engine.write(n[s],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(o=>{o?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",o)):t.onreconnect()}))},n);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Yo={};function to(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=_I(e,t.path||"/socket.io"),s=n.source,o=n.id,l=n.path,f=Yo[o]&&l in Yo[o].nsps,g=t.forceNew||t["force new connection"]||t.multiplex===!1||f;let m;return g?m=new hh(s,t):(Yo[o]||(Yo[o]=new hh(s,t)),m=Yo[o]),n.query&&!t.query&&(t.query=n.queryKey),m.socket(n.path,t)}Object.assign(to,{Manager:hh,Socket:hv,io:to,connect:to});var Tu={},pv={exports:{}},zI="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HI=zI,WI=HI;function gv(){}function mv(){}mv.resetWarningCache=gv;var GI=function(){function e(s,o,l,f,g,m){if(m!==WI){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:mv,resetWarningCache:gv};return n.PropTypes=n,n};pv.exports=GI();var xv=pv.exports,yv={L:1,M:0,Q:3,H:2},wv={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},XI=wv;function vv(e){this.mode=XI.MODE_8BIT_BYTE,this.data=e}vv.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}};var YI=vv,kl=yv;function br(e,t){this.totalCount=e,this.dataCount=t}br.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];br.getRSBlocks=function(e,t){var n=br.getRsBlockTable(e,t);if(n==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var s=n.length/3,o=new Array,l=0;l<s;l++)for(var f=n[l*3+0],g=n[l*3+1],m=n[l*3+2],p=0;p<f;p++)o.push(new br(g,m));return o};br.getRsBlockTable=function(e,t){switch(t){case kl.L:return br.RS_BLOCK_TABLE[(e-1)*4+0];case kl.M:return br.RS_BLOCK_TABLE[(e-1)*4+1];case kl.Q:return br.RS_BLOCK_TABLE[(e-1)*4+2];case kl.H:return br.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};var QI=br;function Cv(){this.buffer=new Array,this.length=0}Cv.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var n=0;n<t;n++)this.putBit((e>>>t-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var KI=Cv,or={glog:function(e){if(e<1)throw new Error("glog("+e+")");return or.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return or.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Ht=0;Ht<8;Ht++)or.EXP_TABLE[Ht]=1<<Ht;for(var Ht=8;Ht<256;Ht++)or.EXP_TABLE[Ht]=or.EXP_TABLE[Ht-4]^or.EXP_TABLE[Ht-5]^or.EXP_TABLE[Ht-6]^or.EXP_TABLE[Ht-8];for(var Ht=0;Ht<255;Ht++)or.LOG_TABLE[or.EXP_TABLE[Ht]]=Ht;var Ev=or,Zs=Ev;function rc(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&e[n]==0;)n++;this.num=new Array(e.length-n+t);for(var s=0;s<e.length-n;s++)this.num[s]=e[s+n]}rc.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),n=0;n<this.getLength();n++)for(var s=0;s<e.getLength();s++)t[n+s]^=Zs.gexp(Zs.glog(this.get(n))+Zs.glog(e.get(s)));return new rc(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=Zs.glog(this.get(0))-Zs.glog(e.get(0)),n=new Array(this.getLength()),s=0;s<this.getLength();s++)n[s]=this.get(s);for(var s=0;s<e.getLength();s++)n[s]^=Zs.gexp(Zs.glog(e.get(s))+t);return new rc(n,0).mod(e)}};var Av=rc,Un=wv,Rm=Av,ZI=Ev,ls={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Vt={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Vt.getBCHDigit(t)-Vt.getBCHDigit(Vt.G15)>=0;)t^=Vt.G15<<Vt.getBCHDigit(t)-Vt.getBCHDigit(Vt.G15);return(e<<10|t)^Vt.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Vt.getBCHDigit(t)-Vt.getBCHDigit(Vt.G18)>=0;)t^=Vt.G18<<Vt.getBCHDigit(t)-Vt.getBCHDigit(Vt.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Vt.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case ls.PATTERN000:return(t+n)%2==0;case ls.PATTERN001:return t%2==0;case ls.PATTERN010:return n%3==0;case ls.PATTERN011:return(t+n)%3==0;case ls.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case ls.PATTERN101:return t*n%2+t*n%3==0;case ls.PATTERN110:return(t*n%2+t*n%3)%2==0;case ls.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new Rm([1],0),n=0;n<e;n++)t=t.multiply(new Rm([1,ZI.gexp(n)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case Un.MODE_NUMBER:return 10;case Un.MODE_ALPHA_NUM:return 9;case Un.MODE_8BIT_BYTE:return 8;case Un.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case Un.MODE_NUMBER:return 12;case Un.MODE_ALPHA_NUM:return 11;case Un.MODE_8BIT_BYTE:return 16;case Un.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case Un.MODE_NUMBER:return 14;case Un.MODE_ALPHA_NUM:return 13;case Un.MODE_8BIT_BYTE:return 16;case Un.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,s=0;s<t;s++)for(var o=0;o<t;o++){for(var l=0,f=e.isDark(s,o),g=-1;g<=1;g++)if(!(s+g<0||t<=s+g))for(var m=-1;m<=1;m++)o+m<0||t<=o+m||g==0&&m==0||f==e.isDark(s+g,o+m)&&l++;l>5&&(n+=3+l-5)}for(var s=0;s<t-1;s++)for(var o=0;o<t-1;o++){var p=0;e.isDark(s,o)&&p++,e.isDark(s+1,o)&&p++,e.isDark(s,o+1)&&p++,e.isDark(s+1,o+1)&&p++,(p==0||p==4)&&(n+=3)}for(var s=0;s<t;s++)for(var o=0;o<t-6;o++)e.isDark(s,o)&&!e.isDark(s,o+1)&&e.isDark(s,o+2)&&e.isDark(s,o+3)&&e.isDark(s,o+4)&&!e.isDark(s,o+5)&&e.isDark(s,o+6)&&(n+=40);for(var o=0;o<t;o++)for(var s=0;s<t-6;s++)e.isDark(s,o)&&!e.isDark(s+1,o)&&e.isDark(s+2,o)&&e.isDark(s+3,o)&&e.isDark(s+4,o)&&!e.isDark(s+5,o)&&e.isDark(s+6,o)&&(n+=40);for(var w=0,o=0;o<t;o++)for(var s=0;s<t;s++)e.isDark(s,o)&&w++;var C=Math.abs(100*w/t/t-50)/5;return n+=C*10,n}},qI=Vt,$I=YI,Sv=QI,bv=KI,zs=qI,JI=Av;function Tr(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var kn=Tr.prototype;kn.addData=function(e){var t=new $I(e);this.dataList.push(t),this.dataCache=null};kn.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]};kn.getModuleCount=function(){return this.moduleCount};kn.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var t=Sv.getRSBlocks(e,this.errorCorrectLevel),n=new bv,s=0,o=0;o<t.length;o++)s+=t[o].dataCount;for(var o=0;o<this.dataList.length;o++){var l=this.dataList[o];n.put(l.mode,4),n.put(l.getLength(),zs.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=s*8)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())};kn.makeImpl=function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++)this.modules[n][s]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Tr.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)};kn.setupPositionProbePattern=function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var s=-1;s<=7;s++)t+s<=-1||this.moduleCount<=t+s||(0<=n&&n<=6&&(s==0||s==6)||0<=s&&s<=6&&(n==0||n==6)||2<=n&&n<=4&&2<=s&&s<=4?this.modules[e+n][t+s]=!0:this.modules[e+n][t+s]=!1)};kn.getBestMaskPattern=function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var s=zs.getLostPoint(this);(n==0||e>s)&&(e=s,t=n)}return t};kn.createMovieClip=function(e,t,n){var s=e.createEmptyMovieClip(t,n),o=1;this.make();for(var l=0;l<this.modules.length;l++)for(var f=l*o,g=0;g<this.modules[l].length;g++){var m=g*o,p=this.modules[l][g];p&&(s.beginFill(0,100),s.moveTo(m,f),s.lineTo(m+o,f),s.lineTo(m+o,f+o),s.lineTo(m,f+o),s.endFill())}return s};kn.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)};kn.setupPositionAdjustPattern=function(){for(var e=zs.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var s=e[t],o=e[n];if(this.modules[s][o]==null)for(var l=-2;l<=2;l++)for(var f=-2;f<=2;f++)l==-2||l==2||f==-2||f==2||l==0&&f==0?this.modules[s+l][o+f]=!0:this.modules[s+l][o+f]=!1}};kn.setupTypeNumber=function(e){for(var t=zs.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var s=!e&&(t>>n&1)==1;this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=s}for(var n=0;n<18;n++){var s=!e&&(t>>n&1)==1;this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=s}};kn.setupTypeInfo=function(e,t){for(var n=this.errorCorrectLevel<<3|t,s=zs.getBCHTypeInfo(n),o=0;o<15;o++){var l=!e&&(s>>o&1)==1;o<6?this.modules[o][8]=l:o<8?this.modules[o+1][8]=l:this.modules[this.moduleCount-15+o][8]=l}for(var o=0;o<15;o++){var l=!e&&(s>>o&1)==1;o<8?this.modules[8][this.moduleCount-o-1]=l:o<9?this.modules[8][15-o-1+1]=l:this.modules[8][15-o-1]=l}this.modules[this.moduleCount-8][8]=!e};kn.mapData=function(e,t){for(var n=-1,s=this.moduleCount-1,o=7,l=0,f=this.moduleCount-1;f>0;f-=2)for(f==6&&f--;;){for(var g=0;g<2;g++)if(this.modules[s][f-g]==null){var m=!1;l<e.length&&(m=(e[l]>>>o&1)==1);var p=zs.getMask(t,s,f-g);p&&(m=!m),this.modules[s][f-g]=m,o--,o==-1&&(l++,o=7)}if(s+=n,s<0||this.moduleCount<=s){s-=n,n=-n;break}}};Tr.PAD0=236;Tr.PAD1=17;Tr.createData=function(e,t,n){for(var s=Sv.getRSBlocks(e,t),o=new bv,l=0;l<n.length;l++){var f=n[l];o.put(f.mode,4),o.put(f.getLength(),zs.getLengthInBits(f.mode,e)),f.write(o)}for(var g=0,l=0;l<s.length;l++)g+=s[l].dataCount;if(o.getLengthInBits()>g*8)throw new Error("code length overflow. ("+o.getLengthInBits()+">"+g*8+")");for(o.getLengthInBits()+4<=g*8&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=g*8||(o.put(Tr.PAD0,8),o.getLengthInBits()>=g*8));)o.put(Tr.PAD1,8);return Tr.createBytes(o,s)};Tr.createBytes=function(e,t){for(var n=0,s=0,o=0,l=new Array(t.length),f=new Array(t.length),g=0;g<t.length;g++){var m=t[g].dataCount,p=t[g].totalCount-m;s=Math.max(s,m),o=Math.max(o,p),l[g]=new Array(m);for(var w=0;w<l[g].length;w++)l[g][w]=255&e.buffer[w+n];n+=m;var C=zs.getErrorCorrectPolynomial(p),A=new JI(l[g],C.getLength()-1),R=A.mod(C);f[g]=new Array(C.getLength()-1);for(var w=0;w<f[g].length;w++){var O=w+R.getLength()-f[g].length;f[g][w]=O>=0?R.get(O):0}}for(var M=0,w=0;w<t.length;w++)M+=t[w].totalCount;for(var k=new Array(M),_=0,w=0;w<s;w++)for(var g=0;g<t.length;g++)w<l[g].length&&(k[_++]=l[g][w]);for(var w=0;w<o;w++)for(var g=0;g<t.length;g++)w<f[g].length&&(k[_++]=f[g][w]);return k};var e5=Tr,q0={};Object.defineProperty(q0,"__esModule",{value:!0});var t5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},n5=xv,Vn=Nv(n5),Tv=P,Ll=Nv(Tv);function Nv(e){return e&&e.__esModule?e:{default:e}}function r5(e,t){var n={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s]);return n}var s5={bgColor:Vn.default.oneOfType([Vn.default.object,Vn.default.string]).isRequired,bgD:Vn.default.string.isRequired,fgColor:Vn.default.oneOfType([Vn.default.object,Vn.default.string]).isRequired,fgD:Vn.default.string.isRequired,size:Vn.default.number.isRequired,title:Vn.default.string,viewBoxSize:Vn.default.number.isRequired,xmlns:Vn.default.string},$0=(0,Tv.forwardRef)(function(e,t){var n=e.bgColor,s=e.bgD,o=e.fgD,l=e.fgColor,f=e.size,g=e.title,m=e.viewBoxSize,p=e.xmlns,w=p===void 0?"http://www.w3.org/2000/svg":p,C=r5(e,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return Ll.default.createElement("svg",t5({},C,{height:f,ref:t,viewBox:"0 0 "+m+" "+m,width:f,xmlns:w}),g?Ll.default.createElement("title",null,g):null,Ll.default.createElement("path",{d:s,fill:n}),Ll.default.createElement("path",{d:o,fill:l}))});$0.displayName="QRCodeSvg";$0.propTypes=s5;q0.default=$0;Object.defineProperty(Tu,"__esModule",{value:!0});Tu.QRCode=void 0;var i5=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o5=xv,Pr=Za(o5),a5=yv,l5=Za(a5),c5=e5,u5=Za(c5),Iv=P,d5=Za(Iv),f5=q0,h5=Za(f5);function Za(e){return e&&e.__esModule?e:{default:e}}function p5(e,t){var n={};for(var s in e)t.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s]);return n}var g5={bgColor:Pr.default.oneOfType([Pr.default.object,Pr.default.string]),fgColor:Pr.default.oneOfType([Pr.default.object,Pr.default.string]),level:Pr.default.string,size:Pr.default.number,value:Pr.default.string.isRequired},Nu=(0,Iv.forwardRef)(function(e,t){var n=e.bgColor,s=n===void 0?"#FFFFFF":n,o=e.fgColor,l=o===void 0?"#000000":o,f=e.level,g=f===void 0?"L":f,m=e.size,p=m===void 0?256:m,w=e.value,C=p5(e,["bgColor","fgColor","level","size","value"]),A=new u5.default(-1,l5.default[g]);A.addData(w),A.make();var R=A.modules;return d5.default.createElement(h5.default,i5({},C,{bgColor:s,bgD:R.map(function(O,M){return O.map(function(k,_){return k?"":"M "+_+" "+M+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:l,fgD:R.map(function(O,M){return O.map(function(k,_){return k?"M "+_+" "+M+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:t,size:p,viewBoxSize:R.length}))});Tu.QRCode=Nu;Nu.displayName="QRCode";Nu.propTypes=g5;var m5=Tu.default=Nu;const _v=({qrData:e,expiresAt:t,courseName:n})=>{const[s,o]=P.useState(""),[l,f]=P.useState(!1),[g,m]=P.useState(!1),p=P.useRef(null);P.useEffect(()=>{const C=setInterval(()=>{const A=new Date().getTime(),O=new Date(t).getTime()-A;if(O<-2e3)clearInterval(C),o("EXPIRED"),f(!0);else{const M=Math.floor(O%36e5/6e4),k=Math.floor(O%(1e3*60)/1e3);o(`${M}:${k<10?"0":""}${k}`)}},1e3);return()=>clearInterval(C)},[t]);const w=()=>{var C;document.fullscreenElement?(document.exitFullscreen(),m(!1)):((C=p.current)==null||C.requestFullscreen().catch(A=>{console.error(`Error attempting to enable fullscreen: ${A.message}`)}),m(!0))};return P.useEffect(()=>{const C=()=>{m(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",C),()=>document.removeEventListener("fullscreenchange",C)},[]),v.jsxs("div",{ref:p,className:`relative flex items-center justify-center transition-all duration-300 ${g?"fixed inset-0 z-50 bg-white":"p-6 glass-panel rounded-2xl shadow-xl mx-auto border border-white/40 bg-white/70 backdrop-blur-md flex flex-col items-center max-w-sm"}`,children:[!g&&v.jsxs("div",{className:"w-full flex justify-between items-center mb-4 border-b border-gray-100 pb-2",children:[v.jsx("h3",{className:"font-bold text-lg text-slate-800 dark:text-white",children:n}),v.jsx("button",{onClick:w,className:"text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700","aria-label":"Maximize QR Code",children:v.jsx(Y6,{size:20})})]}),g&&v.jsx("button",{onClick:w,className:"absolute top-4 right-4 p-2 rounded-full bg-slate-900/60 hover:bg-slate-800 text-white transition-all shadow-lg","aria-label":"Minimize QR Code",children:v.jsx(Q6,{size:20})}),v.jsx("div",{className:`${g?"":"p-4 bg-white rounded-xl shadow-inner border border-gray-200 dark:border-slate-700 dark:bg-slate-800"}`,children:v.jsx(m5,{value:l?"EXPIRED_SESSION":JSON.stringify(e),size:g?420:200,fgColor:l?"#94a3b8":"#0f172a",bgColor:"#ffffff"})}),!g&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2",children:[v.jsx(Ka,{className:`w-4 h-4 ${l?"text-red-500":"text-green-500"}`}),v.jsx("span",{className:`text-sm font-medium ${l?"text-red-600":"text-green-600"}`,children:l?"Session Expired":s})]}),v.jsx("p",{className:"mt-4 text-center text-sm text-gray-500",children:l?"This session has ended. Please generate a new code.":"Scan with student app to mark attendance"})]})]})},x5="http://localhost:5000",J0=({sessionData:e,attendanceData:t=[],showLiveButton:n=!0})=>{const[s,o]=P.useState([]),[l,f]=P.useState(!0),[g,m]=P.useState(null),[p,w]=P.useState(null),C=Xt();P.useEffect(()=>{const k=to(x5,{transports:["websocket"]});return w(k),()=>{k.disconnect()}},[]);const A=P.useCallback(async()=>{var _;const k=((_=e==null?void 0:e.course)==null?void 0:_._id)||(e==null?void 0:e.courseId)||(e==null?void 0:e.course);if(!k){f(!1);return}try{f(!0);const N=await _e.get(`/teacher/courses/${k}/students`),B=(Array.isArray(N.data)?N.data:[]).map(V=>{const X=V.student||{},U=X.user||{name:"Unknown Student"};return{_id:X._id||V._id||`temp-${Math.random().toString(36).substr(2,9)}`,user:U,rollNumber:X.rollNumber||"N/A",status:"absent",attendanceTime:null}});if(t&&t.length>0){const V={};t.forEach(U=>{U.student&&(V[U.student._id]={status:"present",attendanceTime:U.createdAt})});const X=B.map(U=>{var Z,W;return{...U,status:((Z=V[U._id])==null?void 0:Z.status)||"absent",attendanceTime:((W=V[U._id])==null?void 0:W.attendanceTime)||null}});o(X)}else o(B)}catch(N){console.error("Error fetching enrolled students:",N),m("Failed to load enrolled students")}finally{f(!1)}},[e,t]);P.useEffect(()=>{if(!p||!(e!=null&&e._id))return;const k=_=>{_.sessionId===e._id&&o(N=>N.map(T=>T._id===_.studentId?{...T,status:"present",attendanceTime:new Date().toISOString()}:T))};return p.on("attendance:marked",k),p.emit("join:session",{sessionId:e._id}),()=>{p.off("attendance:marked",k),p.emit("leave:session",{sessionId:e._id})}},[p,e==null?void 0:e._id]),P.useEffect(()=>{A()},[A]);const R=()=>{const k=["Name","Roll Number","Status","Time"],_=s.map(V=>{var X;return[((X=V.user)==null?void 0:X.name)||"N/A",V.rollNumber||"N/A",V.status,V.attendanceTime?new Date(V.attendanceTime).toLocaleTimeString():""]}),N="data:text/csv;charset=utf-8,"+k.join(",")+`
`+_.map(V=>V.join(",")).join(`
`),T=encodeURI(N),B=document.createElement("a");B.setAttribute("href",T),B.setAttribute("download",`attendance_${e.createdAt}.csv`),document.body.appendChild(B),B.click()};if(!e)return v.jsx("div",{className:"text-slate-600",children:"Select a session to view details."});if(l)return v.jsxs("div",{className:"flex items-center justify-center p-8",children:[v.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-sky-500"}),v.jsx("span",{className:"ml-2 text-slate-600",children:"Loading attendance data..."})]});if(g)return v.jsx("div",{className:"text-red-500 p-4",children:g});const O=s.filter(k=>k.status==="present").length,M=s.length-O;return v.jsxs("div",{className:"glass-panel rounded-xl shadow-sm border border-white/40 bg-white/70 backdrop-blur-md p-6",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-xl font-bold text-slate-900",children:["Session: ",new Date(e.createdAt).toLocaleDateString()]}),v.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-4 text-sm mt-2",children:[v.jsx("span",{className:"text-slate-600",children:new Date(e.createdAt).toLocaleTimeString()}),v.jsxs("span",{className:"flex items-center text-emerald-600",children:[v.jsx(J6,{size:16,className:"mr-1"}),O," Present"]}),v.jsxs("span",{className:"flex items-center text-red-500",children:[v.jsx(tN,{size:16,className:"mr-1"}),M," Absent"]}),v.jsxs("span",{className:"flex items-center text-slate-600",children:[v.jsx(z0,{size:16,className:"mr-1"}),s.length," Total"]})]})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 w-full sm:w-auto",children:[n&&v.jsx("button",{onClick:()=>C(`/teacher/sessions/${e._id}/live`),className:"flex-1 sm:flex-none flex items-center justify-center gap-2 text-sm font-medium text-sky-600 hover:text-sky-700 bg-sky-50 hover:bg-sky-100 px-4 py-2 rounded-xl transition-all",children:"Open Live View"}),v.jsxs("button",{onClick:R,className:"flex-1 sm:flex-none flex items-center justify-center gap-2 text-sm font-medium text-emerald-600 hover:text-emerald-700 bg-emerald-50 hover:bg-emerald-100 px-4 py-2 rounded-xl transition-all",children:[v.jsx(V6,{size:16})," Export CSV"]})]})]}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left border-collapse",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"border-b border-slate-200/60 text-slate-600 text-sm",children:[v.jsx("th",{className:"py-3 px-2",children:"Student Name"}),v.jsx("th",{className:"py-3 px-2",children:"Roll No"}),v.jsx("th",{className:"py-3 px-2",children:"Time"}),v.jsx("th",{className:"py-3 px-2",children:"Status"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-200/60",children:s.length>0?s.map(k=>{var _;return v.jsxs("tr",{className:`transition-colors ${k.status==="present"?"bg-emerald-50/40":"hover:bg-slate-50/40"}`,children:[v.jsx("td",{className:"py-3 px-2 font-medium text-slate-900",children:((_=k.user)==null?void 0:_.name)||"N/A"}),v.jsx("td",{className:"py-3 px-2 text-slate-600",children:k.rollNumber||""}),v.jsx("td",{className:"py-3 px-2 text-slate-600 text-sm font-mono",children:k.attendanceTime?new Date(k.attendanceTime).toLocaleTimeString():""}),v.jsx("td",{className:"py-3 px-2",children:k.status==="present"?v.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-emerald-600 bg-emerald-100 px-2 py-1 rounded-full",children:[v.jsx(Qa,{size:12})," Present"]}):v.jsxs("span",{className:"inline-flex items-center gap-1 text-xs font-semibold text-red-600 bg-red-100 px-2 py-1 rounded-full",children:[v.jsx(Eo,{size:12})," Absent"]})})]},k._id)}):v.jsx("tr",{children:v.jsx("td",{colSpan:"4",className:"py-8 text-center text-slate-400",children:g||"No students enrolled in this course."})})})]})})]})},y5="http://localhost:5000",w5=()=>{const{sessionId:e}=cu(),t=Xt(),[n,s]=P.useState(null),[o,l]=P.useState([]),[f,g]=P.useState(!0),[m,p]=P.useState(null),[w,C]=P.useState(!1);P.useEffect(()=>{(async()=>{try{g(!0),p(null);const[O,M]=await Promise.all([_e.get(`/teacher/sessions/${e}/details`),_e.get(`/teacher/sessions/${e}/attendance`)]);s(O.data),l(M.data||[])}catch(O){console.error("Error loading live session data",O),p("Failed to load live session. Please try again.")}finally{g(!1)}})()},[e]),P.useEffect(()=>{const R=to(y5,{transports:["websocket"]});R.on("connect",()=>{R.emit("joinSession",e)}),R.on("attendance:marked",M=>{M.sessionId===e&&l(k=>[...k,M.attendance])});const O=setInterval(async()=>{try{const M=await _e.get(`/teacher/sessions/${e}/attendance`);l(M.data||[])}catch(M){console.error("Polling attendance failed",M)}},5e3);return()=>{R.emit("leaveSession",e),R.disconnect(),clearInterval(O)}},[e]);const A=async()=>{if(window.confirm("Are you sure you want to end this session? This will prevent any further attendance marking.")){C(!0);try{await _e.put(`/teacher/sessions/${e}/cancel`),t("/teacher/dashboard")}catch(R){console.error("Failed to terminate session:",R),p("Failed to terminate session. Please try again.")}finally{C(!1)}}};return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 pb-10",children:[v.jsx(vn,{title:"Live Session"}),v.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors",children:[v.jsx(Co,{size:20})," Back"]}),v.jsx("button",{onClick:A,disabled:w,className:"flex items-center gap-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-xl transition-all shadow-lg shadow-red-500/25 disabled:opacity-50",children:w?v.jsxs(v.Fragment,{children:[v.jsx(Vc,{className:"h-4 w-4 animate-spin"}),"Ending..."]}):v.jsxs(v.Fragment,{children:[v.jsx(H0,{size:18}),"End Session"]})})]}),m&&v.jsx("div",{className:"mb-4 rounded-xl border border-red-200/80 bg-red-50/80 px-4 py-2 text-sm text-red-700 backdrop-blur-sm",children:m}),f||!n?v.jsx("p",{className:"text-slate-600",children:"Loading session..."}):v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx(_v,{qrData:n.qrCode,expiresAt:n.expiresAt,courseName:n.courseName,onFullScreen:()=>{}})}),v.jsx("div",{className:"md:col-span-1",children:v.jsx(J0,{sessionData:n,attendanceData:o,showLiveButton:!1})})]})]})]})},v5=({onSuccess:e})=>{const[t,n]=P.useState("student"),[s,o]=P.useState(!1),[l,f]=P.useState({name:"",email:"",password:"password123",department:"",rollNumber:"",semester:"",designation:"",phone:""}),g=async p=>{var w,C;p.preventDefault(),o(!0);try{await _e.post("/auth/register",{...l,role:t}),alert("User Registered Successfully!"),e()}catch(A){alert(((C=(w=A.response)==null?void 0:w.data)==null?void 0:C.message)||"Failed to register user")}finally{o(!1)}},m=()=>{n("student"),f({name:"",email:"",password:"password123",department:"",rollNumber:"",semester:"",designation:"",phone:""})};return v.jsxs("form",{onSubmit:g,className:"space-y-4",children:[v.jsx("div",{className:"flex bg-slate-100 p-1 rounded-lg mb-4",children:["student","teacher","admin"].map(p=>v.jsx("button",{type:"button",onClick:()=>n(p),className:`flex-1 py-2 rounded-md text-sm font-medium capitalize transition-all ${t===p?"bg-white shadow-sm text-blue-600":"text-slate-500"}`,children:p},p))}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"label",children:"Full Name"}),v.jsx("input",{type:"text",required:!0,className:"input-field",value:l.name,onChange:p=>f({...l,name:p.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"label",children:"Email"}),v.jsx("input",{type:"email",required:!0,className:"input-field",value:l.email,onChange:p=>f({...l,email:p.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"label",children:"Password"}),v.jsx("input",{type:"text",required:!0,className:"input-field bg-slate-100",value:l.password}),v.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Default password: password123"})]}),t==="student"&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"label",children:"Roll Number"}),v.jsx("input",{type:"text",required:!0,className:"input-field",value:l.rollNumber,onChange:p=>f({...l,rollNumber:p.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"label",children:"Semester"}),v.jsx("input",{type:"number",required:!0,className:"input-field",value:l.semester,onChange:p=>f({...l,semester:p.target.value})})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"label",children:"Department"}),v.jsx("input",{type:"text",required:!0,className:"input-field",value:l.department,onChange:p=>f({...l,department:p.target.value})})]})]}),t==="teacher"&&v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"label",children:"Department"}),v.jsx("input",{type:"text",required:!0,className:"input-field",value:l.department,onChange:p=>f({...l,department:p.target.value})})]}),v.jsxs("div",{children:[v.jsx("label",{className:"label",children:"Designation"}),v.jsx("input",{type:"text",required:!0,className:"input-field",placeholder:"e.g. Asst. Professor",value:l.designation,onChange:p=>f({...l,designation:p.target.value})})]})]}),v.jsxs("div",{className:"flex gap-3 mt-6",children:[v.jsx("button",{type:"submit",disabled:s,className:"flex-1 btn-primary",children:s?"Processing...":`Register ${t}`}),v.jsx("button",{type:"button",onClick:m,disabled:s,className:"px-4 py-2 rounded-lg border border-slate-300 text-slate-600 hover:bg-slate-100 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800 text-sm font-medium",children:"Clear"})]})]})},C5=({onSuccess:e})=>{const[t,n]=P.useState([]),[s,o]=P.useState(!1),[l,f]=P.useState({name:"",code:"",department:"",credits:3,semester:1,teacherId:"",description:""});P.useEffect(()=>{(async()=>{try{const C=(await _e.get("/admin/users")).data.filter(A=>A.role==="teacher");n(C)}catch{console.error("Failed to load teachers")}})()},[]);const g=async p=>{var w,C;p.preventDefault(),o(!0);try{await _e.post("/admin/courses",l),alert("Course Created Successfully!"),e()}catch(A){alert(((C=(w=A.response)==null?void 0:w.data)==null?void 0:C.message)||"Failed to create course")}finally{o(!1)}},m=()=>{f({name:"",code:"",department:"",credits:3,semester:1,teacherId:"",description:""})};return v.jsxs("form",{onSubmit:g,className:"space-y-4 text-slate-700 dark:text-slate-100",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"label text-slate-700 dark:text-slate-100",children:["Course Name ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",className:"input-field",placeholder:"e.g. Software Engineering",required:!0,value:l.name,onChange:p=>f({...l,name:p.target.value})}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Enter the full name of the course"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"label text-slate-700 dark:text-slate-100",children:["Course Code ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",className:"input-field uppercase",placeholder:"e.g. CS302",required:!0,value:l.code,onChange:p=>f({...l,code:p.target.value.toUpperCase()})}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Unique course identifier (e.g., CS302, EE201)"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsxs("label",{className:"label text-slate-700 dark:text-slate-100",children:["Department ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"text",className:"input-field",placeholder:"e.g. CSE",required:!0,value:l.department,onChange:p=>f({...l,department:p.target.value})}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Department offering this course (e.g., CSE, ECE, ME)"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"label text-slate-700 dark:text-slate-100",children:["Semester ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"number",className:"input-field",min:"1",max:"8",required:!0,value:l.semester,onChange:p=>f({...l,semester:p.target.value})}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Which semester is this course offered in? (1-8)"})]})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"label text-slate-700 dark:text-slate-100",children:["Credits ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsx("input",{type:"number",className:"input-field",min:"1",max:"6",required:!0,value:l.credits,onChange:p=>f({...l,credits:parseInt(p.target.value)})}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Number of credit hours for this course (typically 1-6)"})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"label text-slate-700 dark:text-slate-100",children:["Assign Teacher ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsxs("select",{className:"input-field",required:!0,value:l.teacherId,onChange:p=>f({...l,teacherId:p.target.value}),children:[v.jsx("option",{value:"",children:"Select a Professor"}),t.map(p=>v.jsxs("option",{value:p._id,children:[p.name," (",p.email,")"]},p._id))]}),v.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-300 mt-1",children:"Select the teacher who will teach this course"}),t.length===0&&v.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No teachers found. Please register a teacher first."})]}),v.jsxs("div",{className:"flex gap-3 mt-4",children:[v.jsx("button",{type:"submit",disabled:s,className:"flex-1 btn-primary",children:s?"Creating...":"Create Course"}),v.jsx("button",{type:"button",onClick:m,disabled:s,className:"px-4 py-2 rounded-lg border border-slate-300 text-slate-600 hover:bg-slate-100 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800 text-sm font-medium",children:"Clear"})]})]})},E5=({isOpen:e,onClose:t,title:n,children:s})=>e?v.jsx(P6,{children:v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-md p-4",children:v.jsxs(qr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white/70 backdrop-blur-md w-full max-w-2xl rounded-2xl shadow-2xl border border-white/40 overflow-hidden",children:[v.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-200/60 bg-white/80",children:[v.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent",children:n}),v.jsx("button",{onClick:t,className:"p-2 rounded-full text-slate-500 hover:bg-slate-100 transition-colors","aria-label":"Close",children:v.jsx(H0,{size:20})})]}),v.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto",children:s})]})})}):null,A5=()=>{const e=Xt(),[t,n]=P.useState({students:0,teachers:0,courses:0,totalAttendanceLogs:0}),[s,o]=P.useState(null);P.useEffect(()=>{l()},[]);const l=async()=>{try{const g=await _e.get("/admin/stats");n(g.data)}catch(g){console.error("Error fetching stats:",g)}},f=()=>{o(null),l()};return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 pb-10",children:[v.jsx(vn,{title:"Administrator Portal"}),v.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[v.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent mb-6",children:"System Overview"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:[v.jsx(eo,{icon:zc,label:"Total Students",value:t.students,color:"bg-sky-500",onClick:()=>e("/admin/users?type=students")}),v.jsx(eo,{icon:zc,label:"Total Teachers",value:t.teachers,color:"bg-emerald-500",onClick:()=>e("/admin/users?type=teachers")}),v.jsx(eo,{icon:ks,label:"Active Courses",value:t.courses,color:"bg-lime-500",onClick:()=>e("/admin/courses")})]}),v.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent mb-4",children:"Quick Management"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsx(Hd,{title:"Register New User",desc:"Create accounts for Students or Teachers.",onClick:()=>o("user"),color:"from-sky-500 to-emerald-500"}),v.jsx(Hd,{title:"Create New Course",desc:"Set up a course and assign a teacher.",onClick:()=>o("course"),color:"from-emerald-500 to-lime-500"}),v.jsx(Hd,{title:"Active Courses",desc:"View all courses and manage student enrollments.",onClick:()=>e("/admin/courses"),color:"from-lime-500 to-sky-500",icon:W6})]})]}),v.jsxs(E5,{isOpen:!!s,onClose:f,title:s==="user"?"Add New User":"Create New Course",children:[s==="user"&&v.jsx(v5,{onSuccess:f}),s==="course"&&v.jsx(C5,{onSuccess:f})]})]})},Hd=({title:e,desc:t,onClick:n,color:s,icon:o=Z6})=>v.jsxs("button",{onClick:n,className:"group relative overflow-hidden rounded-2xl p-8 text-left transition-all hover:shadow-xl hover:scale-[1.01]",children:[v.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${s} opacity-90`}),v.jsxs("div",{className:"relative z-10 text-white",children:[v.jsxs("h3",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[v.jsx(o,{})," ",e]}),v.jsx("p",{className:"text-white/80",children:t})]}),v.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-white/20 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-500"})]}),S5=()=>{const e=Xt(),[t,n]=P.useState([]),[s,o]=P.useState(!0),[l,f]=P.useState("");P.useEffect(()=>{g()},[]);const g=async()=>{try{o(!0);const p=await _e.get("/admin/courses");n(p.data)}catch(p){console.error("Error fetching courses:",p),alert("Failed to load courses")}finally{o(!1)}},m=t.filter(p=>p.name.toLowerCase().includes(l.toLowerCase())||p.code.toLowerCase().includes(l.toLowerCase())||p.department.toLowerCase().includes(l.toLowerCase()));return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 pb-10",children:[v.jsx(vn,{title:"Active Courses"}),v.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent",children:"Active Courses"}),v.jsx("p",{className:"text-slate-600 mt-1",children:"Manage courses and student enrollments"})]}),v.jsxs("button",{onClick:()=>e("/admin/dashboard"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium text-slate-600 hover:text-slate-900 bg-white/60 border border-slate-200 hover:bg-white/80 transition-all backdrop-blur-sm",children:[v.jsx(Co,{size:18}),"Back to Dashboard"]})]}),v.jsx("div",{className:"mb-6",children:v.jsxs("div",{className:"relative",children:[v.jsx(Yw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),v.jsx("input",{type:"text",placeholder:"Search by course name, code, or department...",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-200 bg-white/60 text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-400/40 focus:border-sky-400 transition-all placeholder-slate-500 backdrop-blur-sm",value:l,onChange:p=>f(p.target.value)})]})}),s?v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-slate-600",children:"Loading courses..."})}):m.length===0?v.jsxs("div",{className:"text-center py-12 glass-panel border border-white/40 bg-white/70 backdrop-blur-md rounded-xl",children:[v.jsx(ks,{className:"mx-auto text-slate-400 mb-4",size:48}),v.jsx("p",{className:"text-slate-600",children:l?"No courses found matching your search":"No courses found. Create a course to get started."})]}):v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(p=>v.jsxs("div",{onClick:()=>e(`/admin/courses/${p._id}`),className:"glass-panel rounded-xl p-6 border border-white/40 bg-white/70 backdrop-blur-md hover:shadow-lg transition-all cursor-pointer hover:border-sky-500",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("div",{className:"bg-sky-50 p-3 rounded-lg",children:v.jsx(ks,{className:"text-sky-600",size:24})}),v.jsx("span",{className:"text-xs font-bold bg-slate-100 text-slate-600 px-2 py-1 rounded",children:p.code})]}),v.jsx("h3",{className:"font-bold text-lg text-slate-900 mb-2",children:p.name}),v.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:[p.department,"  Sem ",p.semester,"  ",p.credits," Credits"]}),p.teacher&&v.jsxs("p",{className:"text-xs text-slate-400 mb-4",children:["Teacher: ",p.teacher.name]}),v.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200/60",children:[v.jsx("span",{className:"text-sm text-slate-600",children:"View Details"}),v.jsx(U6,{className:"text-sky-600",size:20})]})]},p._id))})]})]})},b5=()=>{var Se,ie;const{courseId:e}=cu(),t=Xt(),[n,s]=P.useState(null),[o,l]=P.useState([]),[f,g]=P.useState(!0),[m,p]=P.useState(!1),[w,C]=P.useState(""),[A,R]=P.useState(null),[O,M]=P.useState(!1),[k,_]=P.useState(!1),[N,T]=P.useState("");P.useEffect(()=>{B()},[e]);const B=async()=>{try{g(!0);const re=await _e.get(`/admin/courses/${e}`);s(re.data.course),l(re.data.enrollments||[])}catch(re){console.error("Error fetching course details:",re),alert("Failed to load course details")}finally{g(!1)}},V=async()=>{var re,le;if(!w.trim()){T("Please enter a student roll number");return}try{M(!0),T(""),R(null);const G=await _e.get(`/admin/students/${w.trim()}`);R(G.data)}catch(G){T(((le=(re=G.response)==null?void 0:re.data)==null?void 0:le.message)||"Student not found"),R(null)}finally{M(!1)}},X=async()=>{var re,le;if(A)try{_(!0),T(""),await _e.post(`/admin/courses/${e}/enroll`,{studentId:A._id}),alert("Student enrolled successfully!"),p(!1),C(""),R(null),T(""),B()}catch(G){T(((le=(re=G.response)==null?void 0:re.data)==null?void 0:le.message)||"Failed to enroll student")}finally{_(!1)}},U=()=>{p(!1),C(""),R(null),T("")},Z=async()=>{var re,le;if(window.confirm("Are you sure you want to delete this course? This will also delete all enrollments, sessions, and attendance records associated with it. This action cannot be undone."))try{await _e.delete(`/admin/courses/${e}`),alert("Course deleted successfully"),t("/admin/manage-courses")}catch(G){console.error("Error deleting course:",G),alert(((le=(re=G.response)==null?void 0:re.data)==null?void 0:le.message)||"Failed to delete course")}},W=async re=>{var le,G;if(re&&window.confirm("Are you sure you want to remove this student from this course? Their account and other course enrollments will be kept."))try{await _e.delete(`/admin/courses/${e}/enrollments/${re}`),alert("Student removed from course successfully"),B()}catch(pe){console.error("Error unenrolling student from course:",pe),alert(((G=(le=pe.response)==null?void 0:le.data)==null?void 0:G.message)||"Failed to remove student from course")}},de=async re=>{var le,G;if(re&&window.confirm("Are you sure you want to delete this teacher? This will also delete all their courses, sessions, and related data. This action cannot be undone."))try{await _e.delete(`/admin/teachers/${re}`),alert("Teacher deleted successfully"),t("/admin/manage-courses")}catch(pe){console.error("Error deleting teacher:",pe),alert(((G=(le=pe.response)==null?void 0:le.data)==null?void 0:G.message)||"Failed to delete teacher")}};return f?v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[v.jsx(vn,{title:"Course Details"}),v.jsx("div",{className:"container mx-auto px-4 mt-8",children:v.jsx("p",{className:"text-slate-500",children:"Loading..."})})]}):n?v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 pb-10",children:[v.jsx(vn,{title:"Course Details"}),v.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[v.jsxs("button",{onClick:()=>t("/admin/courses"),className:"flex items-center gap-2 text-slate-500 hover:text-slate-800 mb-6 transition-colors",children:[v.jsx(Co,{size:20})," Back to Courses"]}),v.jsx("div",{className:"glass-panel rounded-xl p-6 mb-6 border border-white/40 bg-white/70 backdrop-blur-md",children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx("span",{className:"text-xs font-bold bg-sky-100 text-sky-600 px-3 py-1 rounded",children:n.code}),v.jsxs("span",{className:"text-sm text-slate-600",children:[n.department,"  Sem ",n.semester]})]}),v.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-2",children:n.name}),v.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-slate-600",children:[v.jsxs("span",{children:[v.jsx("strong",{children:"Credits:"})," ",n.credits]}),n.teacher&&v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx("strong",{children:"Teacher:"})," ",n.teacher.name,v.jsx("button",{onClick:re=>{var le;re.stopPropagation(),de(((le=n.teacher)==null?void 0:le._id)||n.teacher)},className:"text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 p-1 rounded transition-colors",title:"Delete teacher",children:v.jsx(Fd,{size:14})})]})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 bg-gradient-to-r from-sky-500 to-emerald-500 hover:from-sky-600 hover:to-emerald-600 text-white px-4 py-2 rounded-xl font-medium transition-all shadow-lg shadow-sky-500/25",children:[v.jsx(eN,{size:20}),"Register Student"]}),v.jsxs("button",{onClick:Z,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors",children:[v.jsx(Fd,{size:20}),"Delete Course"]})]})]})}),v.jsxs("div",{className:"glass-panel rounded-xl p-6 border border-white/40 bg-white/70 backdrop-blur-md",children:[v.jsxs("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:["Enrolled Students (",o.length,")"]}),o.length===0?v.jsxs("div",{className:"text-center py-12 glass-panel border border-white/40 bg-white/70 backdrop-blur-md rounded-xl",children:[v.jsx(z0,{className:"mx-auto text-slate-400 mb-4",size:48}),v.jsx("p",{className:"text-slate-600",children:"No students enrolled yet"}),v.jsx("button",{onClick:()=>p(!0),className:"mt-4 text-sky-600 hover:text-sky-700 font-medium",children:"Register the first student"})]}):v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left border-collapse",children:[v.jsx("thead",{className:"bg-slate-50/60 border-b border-slate-200/60",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Roll Number"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Name"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Email"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Department"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Semester"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Enrolled Date"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Actions"})]})}),v.jsx("tbody",{className:"divide-y divide-slate-200/60",children:o.map(re=>{var le,G,pe,ge,ne,fe,ye;return v.jsxs("tr",{className:"hover:bg-slate-50/40 transition-colors",children:[v.jsx("td",{className:"p-4 font-medium text-slate-900",children:(le=re.student)==null?void 0:le.rollNumber}),v.jsx("td",{className:"p-4 text-slate-700",children:(pe=(G=re.student)==null?void 0:G.user)==null?void 0:pe.name}),v.jsx("td",{className:"p-4 text-slate-600",children:(ne=(ge=re.student)==null?void 0:ge.user)==null?void 0:ne.email}),v.jsx("td",{className:"p-4 text-slate-600",children:(fe=re.student)==null?void 0:fe.department}),v.jsx("td",{className:"p-4 text-slate-600",children:(ye=re.student)==null?void 0:ye.semester}),v.jsx("td",{className:"p-4 text-slate-600",children:new Date(re.enrollmentDate).toLocaleDateString()}),v.jsx("td",{className:"p-4",children:v.jsx("button",{onClick:me=>{me.stopPropagation(),W(re._id)},className:"text-red-500 hover:bg-red-50 p-2 rounded transition-colors",title:"Remove from this course",children:v.jsx(Fd,{size:16})})})]},re._id)})})]})})]})]}),m&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4",children:v.jsxs("div",{className:"glass-panel w-full max-w-md rounded-2xl shadow-2xl overflow-hidden border border-white/40 bg-white/70 backdrop-blur-md",children:[v.jsx("div",{className:"p-6 border-b border-slate-200/60",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Register Student"}),v.jsx("button",{onClick:U,className:"text-slate-400 hover:text-slate-600 transition-colors",children:v.jsx(Eo,{size:24})})]})}),v.jsxs("div",{className:"p-6 space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Student Roll Number"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",className:"flex-1 input-field",placeholder:"Enter roll number (e.g., 2021CS001)",value:w,onChange:re=>{C(re.target.value),T(""),R(null)},onKeyPress:re=>{re.key==="Enter"&&V()}}),v.jsx("button",{onClick:V,disabled:O||!w.trim(),className:"px-4 py-2 bg-gradient-to-r from-sky-500 to-emerald-500 hover:from-sky-600 hover:to-emerald-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-sky-500/25",children:O?"Searching...":"Search"})]})]}),N&&v.jsx("div",{className:"rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 px-4 py-3 text-sm text-red-700 dark:text-red-400",children:N}),A&&v.jsx("div",{className:"rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 p-4",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Qa,{className:"text-green-600 dark:text-green-400 mt-1",size:20}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-semibold text-green-900 dark:text-green-100 mb-2",children:"Student Found"}),v.jsxs("div",{className:"space-y-1 text-sm text-green-800 dark:text-green-200",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Name:"})," ",(Se=A.user)==null?void 0:Se.name]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Roll Number:"})," ",A.rollNumber]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Email:"})," ",(ie=A.user)==null?void 0:ie.email]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Department:"})," ",A.department]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Semester:"})," ",A.semester]})]})]})]})}),v.jsxs("div",{className:"flex gap-3 pt-4",children:[v.jsx("button",{onClick:U,className:"flex-1 px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg font-medium transition-colors",children:"Cancel"}),v.jsx("button",{onClick:X,disabled:!A||k,className:"flex-1 px-4 py-2 bg-gradient-to-r from-sky-500 to-emerald-500 hover:from-sky-600 hover:to-emerald-600 text-white rounded-xl font-medium disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-sky-500/25",children:k?"Adding...":"Add Student"})]})]})]})})]}):v.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950",children:[v.jsx(vn,{title:"Course Details"}),v.jsx("div",{className:"container mx-auto px-4 mt-8",children:v.jsx("p",{className:"text-red-500",children:"Course not found"})})]})},T5=()=>{const e=yo(),t=Xt(),s=new URLSearchParams(e.search).get("type")==="teachers"?"teachers":"students",[o,l]=P.useState(s),[f,g]=P.useState([]),[m,p]=P.useState(!0),[w,C]=P.useState(""),[A,R]=P.useState("");P.useEffect(()=>{O(o)},[o]);const O=async _=>{var N,T;try{p(!0),R("");const B=_==="teachers"?"/admin/teachers":"/admin/students",V=await _e.get(B);g(V.data||[])}catch(B){console.error("Error fetching users:",B),R(((T=(N=B.response)==null?void 0:N.data)==null?void 0:T.message)||"Failed to load data"),g([])}finally{p(!1)}},M=f.filter(_=>{var U,Z;const N=((U=_.user)==null?void 0:U.name)||"",T=((Z=_.user)==null?void 0:Z.email)||"",B=_.rollNumber||"",V=_.department||"",X=w.toLowerCase();return N.toLowerCase().includes(X)||T.toLowerCase().includes(X)||B.toLowerCase().includes(X)||V.toLowerCase().includes(X)}),k=o==="students";return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 pb-10",children:[v.jsx(vn,{title:k?"All Students":"All Teachers"}),v.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-3xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent flex items-center gap-2",children:[v.jsx(zc,{})," ",k?"Students":"Teachers"]}),v.jsx("p",{className:"text-slate-600 mt-1",children:k?"View all registered students with their roll numbers and departments.":"View all registered teachers."})]}),v.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[v.jsx("button",{onClick:()=>t("/admin/dashboard"),className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium text-slate-600 hover:text-slate-900 bg-white/60 border border-slate-200 hover:bg-white/80 transition-all mb-2 md:mb-0 backdrop-blur-sm",children:"Back to Dashboard"}),v.jsxs("div",{className:"flex gap-2 glass-panel rounded-xl border border-white/40 bg-white/70 backdrop-blur-md p-1",children:[v.jsx("button",{onClick:()=>l("students"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${k?"bg-sky-500 text-white shadow-lg shadow-sky-500/25":"text-slate-600 hover:bg-slate-100"}`,children:"Students"}),v.jsx("button",{onClick:()=>l("teachers"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${k?"text-slate-600 hover:bg-slate-100":"bg-sky-500 text-white shadow-lg shadow-sky-500/25"}`,children:"Teachers"})]})]})]}),v.jsx("div",{className:"mb-6",children:v.jsxs("div",{className:"relative",children:[v.jsx(Yw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:20}),v.jsx("input",{type:"text",placeholder:k?"Search by name, roll number, email, or department...":"Search by name or email...",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-slate-200 bg-white/60 text-slate-900 focus:outline-none focus:ring-2 focus:ring-sky-400/40 focus:border-sky-400 transition-all placeholder-slate-500 backdrop-blur-sm",value:w,onChange:_=>C(_.target.value)})]})}),m?v.jsx("div",{className:"text-center py-12",children:v.jsxs("p",{className:"text-slate-600",children:["Loading ",k?"students":"teachers","..."]})}):A?v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-red-500 text-sm",children:A})}):M.length===0?v.jsx("div",{className:"text-center py-12 glass-panel border border-white/40 bg-white/70 backdrop-blur-md rounded-xl",children:v.jsxs("p",{className:"text-slate-600",children:["No ",k?"students":"teachers"," found."]})}):v.jsx("div",{className:"glass-panel rounded-xl border border-white/40 bg-white/70 backdrop-blur-md overflow-x-auto",children:v.jsxs("table",{className:"w-full text-left border-collapse",children:[v.jsx("thead",{className:"bg-slate-50/60 border-b border-slate-200/60",children:v.jsxs("tr",{children:[k&&v.jsxs(v.Fragment,{children:[v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Roll No"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Name"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Branch"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Semester"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Email"})]}),!k&&v.jsxs(v.Fragment,{children:[v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Name"}),v.jsx("th",{className:"p-4 text-sm font-semibold text-slate-700",children:"Email"})]})]})}),v.jsx("tbody",{className:"divide-y divide-slate-200/60",children:M.map(_=>{var N,T,B,V;return v.jsxs("tr",{className:"hover:bg-slate-50/40 transition-colors",children:[k&&v.jsxs(v.Fragment,{children:[v.jsx("td",{className:"p-4 font-medium text-slate-900",children:_.rollNumber}),v.jsx("td",{className:"p-4 text-slate-700",children:(N=_.user)==null?void 0:N.name}),v.jsx("td",{className:"p-4 text-slate-600",children:_.department}),v.jsx("td",{className:"p-4 text-slate-600",children:_.semester}),v.jsx("td",{className:"p-4 text-slate-600",children:(T=_.user)==null?void 0:T.email})]}),!k&&v.jsxs(v.Fragment,{children:[v.jsx("td",{className:"p-4 font-medium text-slate-900",children:(B=_.user)==null?void 0:B.name}),v.jsx("td",{className:"p-4 text-slate-600",children:(V=_.user)==null?void 0:V.email})]})]},_._id)})})]})})]})]})},Wd=({children:e,allowedRoles:t})=>{const{user:n,loading:s}=P.useContext(Us);return s?v.jsx("div",{children:"Loading..."}):n?t&&!t.includes(n.role)?v.jsx(ni,{to:"/",replace:!0}):e||v.jsx(b4,{}):v.jsx(ni,{to:"/login",replace:!0})},N5="http://localhost:5000",I5=()=>{var _,N;const[e,t]=P.useState([]),[n,s]=P.useState(""),[o,l]=P.useState(10),[f,g]=P.useState(null),[m,p]=P.useState([]),[w,C]=P.useState(!0),[A,R]=P.useState(null);P.useState(!1);const O=Xt();P.useEffect(()=>{M()},[]);const M=async()=>{try{const T=await _e.get("/teacher/courses");t(T.data),T.data.length>0&&s(T.data[0]._id)}catch(T){console.error("Failed to fetch courses",T)}finally{C(!1)}},k=async T=>{var B,V,X,U,Z;if(T.preventDefault(),!n){alert("Please select a course");return}C(!0);try{const W=await _e.post("/teacher/sessions",{courseId:n,timeInMinutes:o});if(W.data){const de={...W.data,courseName:(B=e.find(Se=>Se._id===n))==null?void 0:B.name,_id:W.data.sessionId,course:{_id:n}};g(de),R(null);try{const Se=await _e.get(`/teacher/sessions/${W.data.sessionId}/attendance`);p(Se.data||[])}catch(Se){console.error("Error loading attendance data",Se),p([])}}}catch(W){const de=((X=(V=W.response)==null?void 0:V.data)==null?void 0:X.message)||"Error creating session";alert(de),(Z=(U=W.response)==null?void 0:U.data)!=null&&Z.activeSessionId&&alert("Please terminate the previous session first before creating a new one.")}finally{C(!1)}};return P.useEffect(()=>{if(!(f!=null&&f.sessionId))return;const T=to(N5,{transports:["websocket"]});T.on("connect",()=>{T.emit("joinSession",f.sessionId)}),T.on("attendance:marked",V=>{V.sessionId===f.sessionId&&p(X=>[...X,V.attendance])});const B=setInterval(async()=>{try{const V=await _e.get(`/teacher/sessions/${f.sessionId}/attendance`);p(V.data||[])}catch(V){console.error("Polling attendance failed",V)}},5e3);return()=>{T.emit("leaveSession",f.sessionId),T.disconnect(),clearInterval(B)}},[f==null?void 0:f.sessionId]),v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 pb-10",children:[v.jsx(vn,{title:"Live Session"}),v.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[f?v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("button",{onClick:()=>O("/teacher/dashboard"),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors",children:[v.jsx(Co,{size:20})," Back to Dashboard"]}),v.jsx("button",{type:"submit",disabled:w||!n||f,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded-lg font-medium flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:w?v.jsxs(v.Fragment,{children:[v.jsx(Vc,{className:"h-5 w-5 animate-spin"}),f?"Session Active":"Creating..."]}):f?v.jsxs(v.Fragment,{children:[v.jsx(jd,{size:18,className:"text-green-300"}),"Session Active"]}):v.jsxs(v.Fragment,{children:[v.jsx(jd,{size:18}),"Start Session"]})})]}):v.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-sky-600 to-emerald-600 bg-clip-text text-transparent mb-6",children:"Classroom Mode"}),f?v.jsxs(qr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-6xl mx-auto",children:[v.jsx("div",{className:"mb-6",children:v.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 font-medium",children:[v.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"Live Session Active"]})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsx("div",{className:"lg:col-span-1",children:v.jsxs("div",{className:"glass-panel rounded-xl shadow-sm border border-white/40 bg-white/70 backdrop-blur-md p-6 sticky top-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Scan QR Code"}),v.jsx("div",{className:"flex justify-center",children:v.jsx(_v,{qrData:f.qrCode,expiresAt:f.expiresAt,courseName:f.courseName,onFullScreen:()=>{}})}),v.jsx("div",{className:"mt-4 text-center",children:v.jsx("p",{className:"text-sm text-slate-600",children:"Students can scan this QR code to mark attendance"})})]})}),v.jsx("div",{className:"lg:col-span-2",children:v.jsx(J0,{sessionData:{...f,_id:f.sessionId||f._id,course:{_id:n,name:((_=e.find(T=>T._id===n))==null?void 0:_.name)||"Course"},courseName:f.courseName||((N=e.find(T=>T._id===n))==null?void 0:N.name)||"Course",createdAt:f.createdAt||new Date().toISOString()},attendanceData:m,showLiveButton:!1})})]})]}):v.jsxs(qr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass-panel w-full max-w-lg p-8 rounded-2xl border border-white/40 bg-white/70 backdrop-blur-md shadow-xl",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"bg-gradient-to-br from-sky-500 to-emerald-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg shadow-sky-500/30",children:v.jsx(jd,{className:"text-white fill-white ml-1",size:32})}),v.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Start New Session"}),v.jsx("p",{className:"text-slate-600",children:"Generate a secure QR code for your class"})]}),v.jsxs("form",{onSubmit:k,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Select Course"}),v.jsx("select",{className:"w-full bg-white/60 border border-slate-200 text-slate-900 px-4 py-2.5 rounded-xl focus:ring-2 focus:ring-sky-400/40 focus:border-sky-400 outline-none transition-all placeholder-slate-500 backdrop-blur-sm",value:n,onChange:T=>s(T.target.value),required:!0,children:e.map(T=>v.jsxs("option",{value:T._id,children:[T.code," - ",T.name]},T._id))})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Session Validity (Minutes)"}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx(Ka,{className:"text-slate-400"}),v.jsx("input",{type:"range",min:"1",max:"60",value:o,onChange:T=>l(T.target.value),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-sky-600"}),v.jsxs("span",{className:"font-bold text-sky-600 min-w-[3rem]",children:[o," m"]})]})]}),v.jsx("button",{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-sky-500 to-emerald-500 hover:from-sky-600 hover:to-emerald-600 text-white font-semibold py-3 text-lg rounded-xl transition-all shadow-lg shadow-sky-500/25 flex items-center justify-center gap-2",children:w?"Generating...":"Generate QR Code"})]})]})]})]})},_5=({session:e,isSelected:t,onClick:n})=>v.jsxs("button",{onClick:n,className:`w-full text-left p-4 rounded-xl flex items-center gap-3 transition-all border ${t?"bg-sky-500 text-white shadow-lg shadow-sky-500/25 border-sky-500":"glass-panel bg-white/70 hover:bg-white/80 text-slate-700 border-white/40"}`,children:[v.jsx("div",{className:`p-2 rounded-lg ${t?"bg-sky-600":"bg-slate-100"}`,children:v.jsx(La,{size:18})}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-sm",children:new Date(e.createdAt).toLocaleDateString()}),v.jsxs("div",{className:"flex items-center gap-1 text-xs opacity-80 mt-1",children:[v.jsx(Ka,{size:12}),new Date(e.createdAt).toLocaleTimeString()]})]})]}),R5=()=>{const{courseId:e}=cu(),t=Xt(),[n,s]=P.useState([]),[o,l]=P.useState(null),[f,g]=P.useState([]),[m,p]=P.useState(null),[w,C]=P.useState([]),[A,R]=P.useState(!0),[O,M]=P.useState(null);P.useEffect(()=>{(async()=>{try{R(!0),M(null);const T=(await _e.get("/teacher/courses")).data.find(V=>V._id===e);p(T||null);const B=await _e.get(`/teacher/courses/${e}/sessions`);s(B.data||[]);try{const V=await _e.get(`/teacher/courses/${e}/students`);C(V.data||[])}catch(V){console.error("Error loading enrolled students",V),C([])}if(B.data&&B.data.length>0){l(B.data[0]);try{const V=await _e.get(`/teacher/sessions/${B.data[0]._id}/attendance`);g(V.data||[])}catch(V){console.error("Error preloading attendance",V),g([])}}else l(null),g([])}catch(N){console.error("Error loading data",N),M("Failed to load sessions. Please try again later.")}finally{R(!1)}})()},[e]);const k=async _=>{l(_);try{const N=await _e.get(`/teacher/sessions/${_._id}/attendance`),B=(Array.isArray(N.data)?N.data:[]).filter(V=>{var U;const X=((U=V.session)==null?void 0:U._id)||V.session;return String(X)===String(_._id)});g(B)}catch(N){console.error("Error fetching attendance list",N),g([])}};return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-emerald-50 to-lime-50 pb-10",children:[v.jsx(vn,{title:"Attendance Report"}),v.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[v.jsxs("button",{onClick:()=>t("/teacher/dashboard"),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-6 transition-colors",children:[v.jsx(Co,{size:20})," Back to Dashboard"]}),O&&v.jsx("div",{className:"mb-4 rounded-xl border border-red-200/80 bg-red-50/80 px-4 py-2 text-sm text-red-700 backdrop-blur-sm",children:O}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsx("div",{className:"md:col-span-1 space-y-4",children:v.jsxs("div",{className:"glass-panel p-6 rounded-xl shadow-sm border border-white/40 bg-white/70 backdrop-blur-md",children:[v.jsxs("h2",{className:"font-bold text-lg mb-4 text-slate-900",children:[(m==null?void 0:m.name)||"Course"," History"]}),A?v.jsx("p",{className:"text-sm text-slate-600",children:"Loading sessions..."}):n.length===0?v.jsx("p",{className:"text-sm text-slate-600",children:"No sessions found yet for this course."}):v.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-1",children:n.map(_=>v.jsx(_5,{session:_,isSelected:(o==null?void 0:o._id)===_._id,onClick:()=>k(_)},_._id))})]})}),v.jsx("div",{className:"md:col-span-2",children:v.jsx(J0,{sessionData:o,attendanceData:o&&Array.isArray(f)?f.filter(_=>{var T;const N=((T=_.session)==null?void 0:T._id)||_.session;return String(N)===String(o._id)}):[]})})]})]})]})},O5=()=>{const{user:e}=P.useContext(Us);return e?e.role==="student"?v.jsx(ni,{to:"/student/dashboard"}):e.role==="teacher"?v.jsx(ni,{to:"/teacher/dashboard"}):e.role==="admin"?v.jsx(ni,{to:"/admin/dashboard"}):v.jsx(ni,{to:"/login"}):v.jsx(ni,{to:"/login"})};function M5(){return v.jsx(U4,{children:v.jsx(D4,{children:v.jsxs(Tl,{children:[v.jsx(Ut,{path:"/login",element:v.jsx(nN,{})}),v.jsx(Ut,{path:"/register",element:v.jsx(rN,{})}),v.jsx(Ut,{path:"/",element:v.jsx(O5,{})}),v.jsx(Ut,{path:"/student/*",element:v.jsx(Wd,{allowedRoles:["student"],children:v.jsxs(Tl,{children:[v.jsx(Ut,{path:"dashboard",element:v.jsx(GN,{})}),v.jsx(Ut,{path:"courses/:courseId/attendance",element:v.jsx(XN,{})})]})})}),v.jsx(Ut,{path:"/teacher/*",element:v.jsx(Wd,{allowedRoles:["teacher"],children:v.jsxs(Tl,{children:[v.jsx(Ut,{path:"dashboard",element:v.jsx(QN,{})}),v.jsx(Ut,{path:"generate-qr",element:v.jsx(I5,{})}),v.jsx(Ut,{path:"courses/:courseId",element:v.jsx(R5,{})}),v.jsx(Ut,{path:"sessions/:sessionId/live",element:v.jsx(w5,{})})]})})}),v.jsx(Ut,{path:"/admin/*",element:v.jsx(Wd,{allowedRoles:["admin"],children:v.jsxs(Tl,{children:[v.jsx(Ut,{path:"dashboard",element:v.jsx(A5,{})}),v.jsx(Ut,{path:"users",element:v.jsx(T5,{})}),v.jsx(Ut,{path:"courses",element:v.jsx(S5,{})}),v.jsx(Ut,{path:"courses/:courseId",element:v.jsx(b5,{})})]})})})]})})})}Gd.createRoot(document.getElementById("root")).render(v.jsx(Xc.StrictMode,{children:v.jsx(M5,{})}));
